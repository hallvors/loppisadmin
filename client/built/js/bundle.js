var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function l(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(l)}function c(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i;function a(e,t){return i||(i=document.createElement("a")),i.href=t,e===i.href}function u(t,n,l){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function d(e,t,n,l){if(e){const s=p(e,t,n,l);return e[0](s)}}function p(e,t,l,s){return e[1]&&s?n(l.ctx.slice(),e[1](s(t))):l.ctx}function f(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|s[l];return e}return t.dirty|s}return t.dirty}function g(e,t,n,l,s,o){if(s){const c=p(t,n,l,o);e.p(c,s)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function h(e){return null==e?"":e}const v="undefined"!=typeof window;let b=v?()=>window.performance.now():()=>Date.now(),k=v?e=>requestAnimationFrame(e):e;const $=new Set;function x(e){$.forEach(t=>{t.c(e)||($.delete(t),t.f())}),0!==$.size&&k(x)}function S(e,t){e.appendChild(t)}function y(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t.host?t:document}function E(e){const t=N("style");return function(e,t){S(e.head||e,t)}(y(e),t),t}function A(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function _(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function N(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function O(){return C(" ")}function T(){return C("")}function j(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function R(e){return function(t){return t.preventDefault(),e.call(this,t)}}function I(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function D(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function M(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function B(e,t){e.value=null==t?"":t}function U(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function H(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}e.selectedIndex=-1}function P(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];l.selected=~t.indexOf(l.__value)}}function J(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function G(e){return[].map.call(e.querySelectorAll(":checked"),e=>e.__value)}function q(e,t,n){e.classList[n?"add":"remove"](t)}function L(e,t,n=!1){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,!1,t),l}const z=new Set;let Y,K=0;function V(e,t,n,l,s,o,c,r=0){const i=16.666/l;let a="{\n";for(let e=0;e<=1;e+=i){const l=t+(n-t)*o(e);a+=100*e+`%{${c(l,1-l)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${r}`,p=y(e);z.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=E(e).sheet),g=p.__svelte_rules||(p.__svelte_rules={});g[d]||(g[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${l}ms linear ${s}ms 1 both`,K+=1,d}function F(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-l.length;s&&(e.style.animation=l.join(", "),(K-=s)||k(()=>{K||(z.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),z.clear())}))}function Z(e){Y=e}function Q(){if(!Y)throw new Error("Function called outside component initialization");return Y}function W(e){Q().$$.on_mount.push(e)}function X(){const e=Q();return(t,n)=>{const l=e.$$.callbacks[t];if(l){const s=L(t,n);l.slice().forEach(t=>{t.call(e,s)})}}}const ee=[],te=[],ne=[],le=[],se=Promise.resolve();let oe=!1;function ce(e){ne.push(e)}let re=!1;const ie=new Set;function ae(){if(!re){re=!0;do{for(let e=0;e<ee.length;e+=1){const t=ee[e];Z(t),ue(t.$$)}for(Z(null),ee.length=0;te.length;)te.pop()();for(let e=0;e<ne.length;e+=1){const t=ne[e];ie.has(t)||(ie.add(t),t())}ne.length=0}while(ee.length);for(;le.length;)le.pop()();oe=!1,re=!1,ie.clear()}}function ue(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ce)}}let de;function pe(e,t,n){e.dispatchEvent(L(`${t?"intro":"outro"}${n}`))}const fe=new Set;let ge;function me(){ge={r:0,c:[],p:ge}}function he(){ge.r||o(ge.c),ge=ge.p}function ve(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function be(e,t,n,l){if(e&&e.o){if(fe.has(e))return;fe.add(e),ge.c.push(()=>{fe.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}const ke={duration:0};function $e(n,l,s,r){let i=l(n,s),a=r?0:1,u=null,d=null,p=null;function f(){p&&F(n,p)}function g(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(l){const{delay:s=0,duration:c=300,easing:r=t,tick:m=e,css:h}=i||ke,v={start:b()+s,b:l};l||(v.group=ge,ge.r+=1),u||d?d=v:(h&&(f(),p=V(n,a,l,c,s,r,h)),l&&m(0,1),u=g(v,c),ce(()=>pe(n,l,"start")),function(e){let t;0===$.size&&k(x),new Promise(n=>{$.add(t={c:e,f:n})})}(e=>{if(d&&e>d.start&&(u=g(d,c),d=null,pe(n,u.b,"start"),h&&(f(),p=V(n,a,u.b,u.duration,0,r,i.css))),u)if(e>=u.end)m(a=u.b,1-a),pe(n,u.b,"end"),d||(u.b?f():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;a=u.a+u.d*r(t/u.duration),m(a,1-a)}return!(!u&&!d)}))}return{run(e){c(i)?(de||(de=Promise.resolve()).then(()=>{de=null}),de).then(()=>{i=i(),m(e)}):m(e)},end(){f(),u=d=null}}}function xe(e,t){const n=t.token={};function l(e,l,s,o){if(t.token!==n)return;t.resolved=o;let c=t.ctx;void 0!==s&&((c=c.slice())[s]=o);const r=e&&(t.current=e)(c);let i=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==l&&e&&(me(),be(e,1,1,()=>{t.blocks[n]===e&&(t.blocks[n]=null)}),he())}):t.block.d(1),r.c(),ve(r,1),r.m(t.mount(),t.anchor),i=!0),t.block=r,t.blocks&&(t.blocks[l]=r),i&&ae()}if((s=e)&&"object"==typeof s&&"function"==typeof s.then){const n=Q();if(e.then(e=>{Z(n),l(t.then,1,t.value,e),Z(null)},e=>{if(Z(n),l(t.catch,2,t.error,e),Z(null),!t.hasCatch)throw e}),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}var s}function Se(e,t,n){const l=t.slice(),{resolved:s}=e;e.current===e.then&&(l[e.value]=s),e.current===e.catch&&(l[e.error]=s),e.block.p(l,n)}function ye(e){e&&e.c()}function Ee(e,t,n,s){const{fragment:r,on_mount:i,on_destroy:a,after_update:u}=e.$$;r&&r.m(t,n),s||ce(()=>{const t=i.map(l).filter(c);a?a.push(...t):o(t),e.$$.on_mount=[]}),u.forEach(ce)}function Ae(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function we(e,t){-1===e.$$.dirty[0]&&(ee.push(e),oe||(oe=!0,se.then(ae)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _e(t,n,l,c,r,i,a,u=[-1]){const d=Y;Z(t);const p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:r,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:n.context||[]),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(p.root);let f=!1;if(p.ctx=l?l(t,n.props||{},(e,n,...l)=>{const s=l.length?l[0]:n;return p.ctx&&r(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),f&&we(t,e)),n}):[],p.update(),f=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),n.target){if(n.hydrate){const e=(g=n.target,Array.from(g.childNodes));p.fragment&&p.fragment.l(e),e.forEach(w)}else p.fragment&&p.fragment.c();n.intro&&ve(t.$$.fragment),Ee(t,n.target,n.anchor,n.customElement),ae()}var g;Z(d)}class Ne{$destroy(){Ae(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ce(e){const t=e-1;return t*t*t+1}function Oe(e,{delay:n=0,duration:l=400,easing:s=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:l,easing:s,css:e=>`opacity: ${e*o}`}}function Te(e,{delay:t=0,duration:n=400,easing:l=Ce,x:s=0,y:o=0,opacity:c=0}={}){const r=getComputedStyle(e),i=+r.opacity,a="none"===r.transform?"":r.transform,u=i*(1-c);return{delay:t,duration:n,easing:l,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*s}px, ${(1-e)*o}px);\n\t\t\topacity: ${i-u*t}`}}const je=location.protocol+"//"+location.host,Re=je+"/api",Ie="https://www.google.com/maps/dir//",De=["","Ny","Kontaktet","Mangler info","Klar til henting","Hentes","Hentet","Hentes ikke"];function Me(e,t,n){const l=e.slice();return l[2]=t[n],l}function Be(e){let t,n,l=e[2]+"";return{c(){t=N("li"),n=C(l),D(t,"class","svelte-urasfe"),q(t,"active",e[0][e[2]])},m(e,l){A(e,t,l),S(t,n)},p(e,s){1&s&&l!==(l=e[2]+"")&&M(n,l),1&s&&q(t,"active",e[0][e[2]])},d(e){e&&w(t)}}}function Ue(t){let n,l=Object.keys(t[0]),s=[];for(let e=0;e<l.length;e+=1)s[e]=Be(Me(t,l,e));return{c(){n=N("ol");for(let e=0;e<s.length;e+=1)s[e].c();D(n,"class","svelte-urasfe")},m(e,t){A(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(1&t){let o;for(l=Object.keys(e[0]),o=0;o<l.length;o+=1){const c=Me(e,l,o);s[o]?s[o].p(c,t):(s[o]=Be(c),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){e&&w(n),_(s,e)}}}function He(e,t,n){let{days:l}=t,s={Ti:!1,On:!1,To:!1};return l.split(/, ?/g).forEach(e=>{n(0,s[e.substr(0,2)]=!0,s)}),e.$$set=(e=>{"days"in e&&n(1,l=e.days)}),[s,l]}class Pe extends Ne{constructor(e){super(),_e(this,e,He,Ue,r,{days:1})}}function Je(e,t,n){const l=e.slice();return l[3]=t[n],l}function Ge(e){let t,n,l=e[3]+"";return{c(){t=N("br"),n=C(l)},m(e,l){A(e,t,l),A(e,n,l)},p(e,t){1&t&&l!==(l=e[3]+"")&&M(n,l)},d(e){e&&w(t),e&&w(n)}}}function qe(e){let t,n,l,s;return{c(){a((t=N("img")).src,n=e[2][e[3]])||D(t,"src",n),D(t,"alt",l=e[3]),D(t,"title",s=e[3]),D(t,"height","24")},m(e,n){A(e,t,n)},p(e,o){1&o&&!a(t.src,n=e[2][e[3]])&&D(t,"src",n),1&o&&l!==(l=e[3])&&D(t,"alt",l),1&o&&s!==(s=e[3])&&D(t,"title",s)},d(e){e&&w(t)}}}function Le(e){let t;function n(e,t){return e[2][e[3]]?qe:e[1]?Ge:void 0}let l=n(e),s=l&&l(e);return{c(){s&&s.c(),t=T()},m(e,n){s&&s.m(e,n),A(e,t,n)},p(e,o){l===(l=n(e))&&s?s.p(e,o):(s&&s.d(1),(s=l&&l(e))&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&w(t)}}}function ze(t){let n,l=t[0],s=[];for(let e=0;e<l.length;e+=1)s[e]=Le(Je(t,l,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();n=T()},m(e,t){for(let n=0;n<s.length;n+=1)s[n].m(e,t);A(e,n,t)},p(e,[t]){if(7&t){let o;for(l=e[0],o=0;o<l.length;o+=1){const c=Je(e,l,o);s[o]?s[o].p(c,t):(s[o]=Le(c),s[o].c(),s[o].m(n.parentNode,n))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){_(s,e),e&&w(n)}}}function Ye(e,t,n){let{types:l=[]}=t,{showAll:s=!1}=t;var o;return o=(()=>{"string"==typeof l&&n(0,l=l.split(/,\s+/g))}),Q().$$.before_update.push(o),l=l.split(/,\s+/g),e.$$set=(e=>{"types"in e&&n(0,l=e.types),"showAll"in e&&n(1,s=e.showAll)}),[l,s,{"Møbler":"/images/mobler.png","Bøker":"/images/boker.png",Musikk:"/images/musikk.png","Klær":"/images/klaer.png",Film:"/images/film.png",Sykler:"/images/sykkel.png",Elektrisk:"/images/elektrisk.png",Sportsutstyr:"/images/sport.png","Kjøkkenutstyr":"/images/kjokken.png",Leker:"/images/leker.png"}]}class Ke extends Ne{constructor(e){super(),_e(this,e,Ye,ze,r,{types:0,showAll:1})}}const Ve=e=>({}),Fe=e=>({});function Ze(e){let t,n,l,s,o,c,r,i,a,u,p;const h=e[3].header,v=d(h,e,e[2],Fe),b=e[3].default,k=d(b,e,e[2],null);return{c(){t=N("div"),n=O(),l=N("div"),v&&v.c(),s=O(),o=N("hr"),c=O(),k&&k.c(),r=O(),i=N("hr"),D(t,"class","modal-background svelte-txoeo"),D(l,"class","modal svelte-txoeo")},m(d,f){A(d,t,f),A(d,n,f),A(d,l,f),v&&v.m(l,null),S(l,s),S(l,o),S(l,c),k&&k.m(l,null),S(l,r),S(l,i),e[5](l),a=!0,u||(p=j(t,"click",I(e[4])),u=!0)},p(e,[t]){v&&v.p&&(!a||4&t)&&g(v,h,e,e[2],a?f(h,e[2],t,Ve):m(e[2]),Fe),k&&k.p&&(!a||4&t)&&g(k,b,e,e[2],a?f(b,e[2],t,null):m(e[2]),null)},i(e){a||(ve(v,e),ve(k,e),a=!0)},o(e){be(v,e),be(k,e),a=!1},d(s){s&&w(t),s&&w(n),s&&w(l),v&&v.d(s),k&&k.d(s),e[5](null),u=!1,p()}}}function Qe(e,t,n){let{$$slots:l={},$$scope:s}=t;const o=X();let c,r;var i;W(()=>{c&&c.scrollIntoView&&c.scrollIntoView(),c&&c.querySelector&&(r=document.activeElement,c.querySelector("input, select, textarea, button").focus())}),i=(()=>{r&&r.focus&&r.focus()}),Q().$$.on_destroy.push(i);return e.$$set=(e=>{"$$scope"in e&&n(2,s=e.$$scope)}),[c,o,s,l,()=>o("close"),function(e){te[e?"unshift":"push"](()=>{n(0,c=e)})}]}class We extends Ne{constructor(e){super(),_e(this,e,Qe,Ze,r,{})}}function Xe(t){let n,l,s,c,r,i,u,d,p,f,g,m,h,v,b,k,$,x,y,E,_,C,T,I,M,U,H,J,G,q,L,z,Y,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,re,ie,ae,ue;return{c(){n=N("form"),l=N("p"),(s=N("span")).textContent="Mobilnummer:",c=N("span"),r=N("input"),i=O(),u=N("p"),(d=N("span")).textContent="Adresse for henting:",p=N("span"),f=N("textarea"),g=O(),m=N("p"),(h=N("span")).textContent="Om loppene:",v=N("span"),b=N("textarea"),k=O(),$=N("p"),(x=N("span")).textContent="Hentetidspunkt:",y=N("span"),E=N("select"),(_=N("option")).textContent="Tirsdag kveld",(C=N("option")).textContent="Onsdag kveld",(T=N("option")).textContent="Torsdag kveld",I=O(),M=N("p"),(U=N("span")).textContent="Type bil:",H=O(),J=N("span"),G=N("label"),q=N("input"),L=O(),z=N("img"),K=O(),V=N("label"),F=N("input"),Q=O(),W=N("img"),ee=O(),te=N("p"),ne=N("span"),le=O(),se=N("span"),(oe=N("button")).textContent="Oppdater",re=O(),(ie=N("button")).textContent="Avbryt",D(s,"class","svelte-1hgccn9"),D(r,"inputmode","tel"),D(r,"class","svelte-1hgccn9"),D(c,"class","svelte-1hgccn9"),D(l,"class","svelte-1hgccn9"),D(d,"class","svelte-1hgccn9"),D(f,"class","svelte-1hgccn9"),D(p,"class","svelte-1hgccn9"),D(u,"class","svelte-1hgccn9"),D(h,"class","svelte-1hgccn9"),D(b,"class","svelte-1hgccn9"),D(v,"class","svelte-1hgccn9"),D(m,"class","svelte-1hgccn9"),D(x,"class","svelte-1hgccn9"),_.__value="Tirsdag kveld",_.value=_.__value,C.__value="Onsdag kveld",C.value=C.__value,T.__value="Torsdag kveld",T.value=T.__value,E.multiple=!0,D(E,"class","svelte-1hgccn9"),void 0===t[2]&&ce(()=>t[12].call(E)),D(y,"class","svelte-1hgccn9"),D($,"class","svelte-1hgccn9"),D(U,"class","svelte-1hgccn9"),D(q,"type","radio"),D(q,"name","size"),q.__value=et,q.value=q.__value,D(q,"class","svelte-1hgccn9"),t[14][0].push(q),a(z.src,Y="/images/bigcar.png")||D(z,"src","/images/bigcar.png"),D(z,"alt","stor bil"),D(z,"width","36"),D(z,"class","svelte-1hgccn9"),D(G,"class","svelte-1hgccn9"),D(F,"type","radio"),D(F,"name","size"),F.__value=Z="",F.value=F.__value,D(F,"class","svelte-1hgccn9"),t[14][0].push(F),a(W.src,X="/images/smallcar.png")||D(W,"src","/images/smallcar.png"),D(W,"alt","liten bil"),D(W,"width","36"),D(W,"class","svelte-1hgccn9"),D(V,"class","svelte-1hgccn9"),D(J,"class","svelte-1hgccn9"),D(M,"class","svelte-1hgccn9"),D(ne,"class","svelte-1hgccn9"),D(oe,"type","submit"),D(oe,"class","p8 br2 svelte-1hgccn9"),D(ie,"type","button"),D(ie,"class","p8 br2 svelte-1hgccn9"),D(se,"class","svelte-1hgccn9"),D(te,"class","svelte-1hgccn9"),D(n,"class","svelte-1hgccn9")},m(e,o){A(e,n,o),S(n,l),S(l,s),S(l,c),S(c,r),B(r,t[0]),S(n,i),S(n,u),S(u,d),S(u,p),S(p,f),B(f,t[3]),S(n,g),S(n,m),S(m,h),S(m,v),S(v,b),B(b,t[1]),S(n,k),S(n,$),S($,x),S($,y),S(y,E),S(E,_),S(E,C),S(E,T),P(E,t[2]),S(n,I),S(n,M),S(M,U),S(M,H),S(M,J),S(J,G),S(G,q),q.checked=q.__value===t[4],S(G,L),S(G,z),S(J,K),S(J,V),S(V,F),F.checked=F.__value===t[4],S(V,Q),S(V,W),S(n,ee),S(n,te),S(te,ne),S(te,le),S(te,se),S(se,oe),S(se,re),S(se,ie),ae||(ue=[j(r,"input",t[9]),j(f,"input",t[10]),j(b,"input",t[11]),j(E,"change",t[12]),j(q,"change",t[13]),j(F,"change",t[15]),j(ie,"click",t[16]),j(n,"submit",R(t[17]))],ae=!0)},p(e,[t]){1&t&&r.value!==e[0]&&B(r,e[0]),8&t&&B(f,e[3]),2&t&&B(b,e[1]),4&t&&P(E,e[2]),16&t&&(q.checked=q.__value===e[4]),16&t&&(F.checked=F.__value===e[4])},i:e,o:e,d(e){e&&w(n),t[14][0].splice(t[14][0].indexOf(q),1),t[14][0].splice(t[14][0].indexOf(F),1),ae=!1,o(ue)}}}const et="Store ting (vare-bil eller tilhenger kreves ved henting)";function tt(e,t,n){let{job:l}=t,{cols:s}=t;const o=X();let c=l[s.PHONE],r=l[s.DESC],i=l[s.PICKUP_DAYS].split(/,\s*/g),a=l[s.ADDRESS],u=l[s.SIZE];function d(){o("update",{[s.PHONE]:c,[s.ADDRESS]:a,[s.DESC]:r,[s.PICKUP_DAYS]:i.join(", "),[s.SIZE]:u})}return e.$$set=(e=>{"job"in e&&n(7,l=e.job),"cols"in e&&n(8,s=e.cols)}),[c,r,i,a,u,o,d,l,s,function(){c=this.value,n(0,c)},function(){a=this.value,n(3,a)},function(){r=this.value,n(1,r)},function(){i=G(this),n(2,i)},function(){u=this.__value,n(4,u)},[[]],function(){u=this.__value,n(4,u)},e=>o("cancel"),e=>d()]}class nt extends Ne{constructor(e){super(),_e(this,e,tt,Xe,r,{job:7,cols:8})}}function lt(t){let n,l,s,o,c,r,i,a,u,d,p,f,g,m,h,v,b,k,$,x,y;return{c(){n=C(t[0]),l=O(),s=N("a"),o=C("🔎"),r=O(),i=N("br"),a=O(),u=C(t[1]),d=O(),p=N("a"),f=C("☎"),m=O(),h=N("a"),v=C("✉"),k=O(),$=N("a"),x=C("🔎"),D(s,"href",c="https://www.gulesider.no/"+encodeURIComponent(t[0])+"/personer"),D(s,"target","_blank"),D(s,"title","Slå opp person på Gule sider"),D(s,"class","svelte-ablbnc"),D(p,"href",g="tel:"+t[1]),D(p,"title","Ring nummer"),D(p,"class","svelte-ablbnc"),D(h,"href",b="sms:"+t[1]),D(h,"title","Send SMS"),D(h,"class","svelte-ablbnc"),D($,"href",y="https://www.gulesider.no/"+t[1]+"/personer"),D($,"target","_blank"),D($,"title","slå opp nummer på Gule sider"),D($,"class","svelte-ablbnc")},m(e,t){A(e,n,t),A(e,l,t),A(e,s,t),S(s,o),A(e,r,t),A(e,i,t),A(e,a,t),A(e,u,t),A(e,d,t),A(e,p,t),S(p,f),A(e,m,t),A(e,h,t),S(h,v),A(e,k,t),A(e,$,t),S($,x)},p(e,[t]){1&t&&M(n,e[0]),1&t&&c!==(c="https://www.gulesider.no/"+encodeURIComponent(e[0])+"/personer")&&D(s,"href",c),2&t&&M(u,e[1]),2&t&&g!==(g="tel:"+e[1])&&D(p,"href",g),2&t&&b!==(b="sms:"+e[1])&&D(h,"href",b),2&t&&y!==(y="https://www.gulesider.no/"+e[1]+"/personer")&&D($,"href",y)},i:e,o:e,d(e){e&&w(n),e&&w(l),e&&w(s),e&&w(r),e&&w(i),e&&w(a),e&&w(u),e&&w(d),e&&w(p),e&&w(m),e&&w(h),e&&w(k),e&&w($)}}}function st(e,t,n){let{name:l}=t,{number:s}=t;return e.$$set=(e=>{"name"in e&&n(0,l=e.name),"number"in e&&n(1,s=e.number)}),[l,s]}class ot extends Ne{constructor(e){super(),_e(this,e,st,lt,r,{name:0,number:1})}}function ct(e,t,n){const l=e.slice();return l[4]=t[n],l[6]=n,l}function rt(e){let t,n,l,s,o,c;return{c(){a((t=N("img")).src,n=e[4])||D(t,"src",n),D(t,"alt",l="poeng: "+e[0]),D(t,"data-index",s=e[6]),D(t,"class","svelte-ssp047")},m(n,l){A(n,t,l),o||(c=j(t,"click",e[2]),o=!0)},p(e,s){2&s&&!a(t.src,n=e[4])&&D(t,"src",n),1&s&&l!==(l="poeng: "+e[0])&&D(t,"alt",l)},d(e){e&&w(t),o=!1,c()}}}function it(t){let n,l=t[1],s=[];for(let e=0;e<l.length;e+=1)s[e]=rt(ct(t,l,e));return{c(){n=N("div");for(let e=0;e<s.length;e+=1)s[e].c()},m(e,t){A(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(7&t){let o;for(l=e[1],o=0;o<l.length;o+=1){const c=ct(e,l,o);s[o]?s[o].p(c,t):(s[o]=rt(c),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){e&&w(n),_(s,e)}}}let at="/images/star-empty.png",ut="/images/star-full.png";function dt(e,t,n){const l=X();let{qualityRanking:s}=t,o=[];if(""===s||void 0===s)o=[at,at,at];else{for(let e=0;e<=s;e++)o.push(ut);for(let e=s;e<2;e++)o.push(at)}return e.$$set=(e=>{"qualityRanking"in e&&n(0,s=e.qualityRanking)}),[s,o,function(e){let t=parseInt(e.target.getAttribute("data-index"));n(0,s=t+1),l("qualityupdate",{kvalitet:t});for(let e=0;e<=t;e++)n(1,o[e]=ut,o);for(let e=t+1;e<o.length;e++)n(1,o[e]=at,o)}]}class pt extends Ne{constructor(e){super(),_e(this,e,dt,it,r,{qualityRanking:0})}}function ft(t){let n;return{c(){D(n=N("div"),"class","lds-dual-ring svelte-1sriuqy"),U(n,"width",t[0]+"px"),U(n,"height",t[1]+"px")},m(e,t){A(e,n,t)},p(e,[t]){1&t&&U(n,"width",e[0]+"px"),2&t&&U(n,"height",e[1]+"px")},i:e,o:e,d(e){e&&w(n)}}}function gt(e,t,n){let{w:l=32}=t,{h:s=32}=t;return e.$$set=(e=>{"w"in e&&n(0,l=e.w),"h"in e&&n(1,s=e.h)}),[l,s]}class mt extends Ne{constructor(e){super(),_e(this,e,gt,ft,r,{w:0,h:1})}}const ht=[];function vt(t,n=e){let l;const s=new Set;function o(e){if(r(t,e)&&(t=e,l)){const e=!ht.length;for(const e of s)e[1](),ht.push(e,t);if(e){for(let e=0;e<ht.length;e+=2)ht[e][0](ht[e+1]);ht.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(c,r=e){const i=[c,r];return s.add(i),1===s.size&&(l=n(o)||e),c(t),()=>{s.delete(i),0===s.size&&(l(),l=null)}}}}const bt=vt([]),kt=vt([]);if("undefined"!=typeof localStorage){let e=localStorage.getItem("drivers");e&&bt.set(JSON.parse(e));bt.subscribe(e=>{localStorage.setItem("drivers",JSON.stringify(e))})}const $t="4741238002";function xt(e,t,n,l){kt.update(n=>(n.find(n=>n[t.JOBNR]===e).loading=!0,n));let s=Re+"/update/"+e;return l&&(s+="?token="+l),fetch(s,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({details:n})}).then(e=>e.json()).then(n=>(console.log(n),kt.update(n=>{return n.find(n=>n[t.JOBNR]===e).loading=!1,n}),n))}function St(e){return e.replace(/\s*/g,"").substr(-8)}function yt(e,t,n,l,s,o,c,r){if(s&&["Hentet","Hentes ikke"].indexOf(c[r.STATUS])>-1)return!1;if(t.smallActive&&t.bigActive&&n.monActive&&n.tueActive&&n.wedActive&&n.thuActive&&!n.dayFilterExclusive&&!e&&!l)return!0;if(!t.bigActive&&c[r.SIZE])return!1;if(!t.smallActive&&!c[r.SIZE])return!1;if(l&&-1===c[r.TYPES].indexOf(l))return!1;let i=[{prop:n.tueActive,str:"Tirsdag"},{prop:n.wedActive,str:"Onsdag"},{prop:n.thuActive,str:"Torsdag"}].map(e=>n.dayFilterExclusive?c[r.PICKUP_DAYS].indexOf(e.str)>-1===e.prop:e.prop&&c[r.PICKUP_DAYS].indexOf(e.str)>-1);return!!(i=n.dayFilterExclusive?i.reduce((e,t)=>e&&t,!0):i.indexOf(!0)>-1)&&(!!(c[r.ASSIGNEE]&&o&&o.length&&e&&o.find(t=>t.name.toLowerCase().indexOf(e.toLowerCase())>-1))||[r.ADDRESS,r.TYPES,r.CONTACT_PERSON,r.PHONE,r.DESC,r.STATUS,r.ADMCOMMENT,r.ASSIGNEE].map(t=>(c[t]||"").toLowerCase().indexOf(e.toLowerCase())>-1).indexOf(!0)>-1)}function Et(e,t,n){const l=e.slice();return l[23]=t[n],l}function At(e){let t,n,l;return n=new mt({props:{w:"24",h:"24"}}),{c(){t=N("div"),ye(n.$$.fragment),D(t,"class","svelte-thhux8")},m(e,s){A(e,t,s),Ee(n,t,null),l=!0},i(e){l||(ve(n.$$.fragment,e),l=!0)},o(e){be(n.$$.fragment,e),l=!1},d(e){e&&w(t),Ae(n)}}}function wt(e){let t,n;return{c(){a((t=N("img")).src,n="/images/smallcar.png")||D(t,"src","/images/smallcar.png"),D(t,"alt","liten bil"),D(t,"height","22")},m(e,n){A(e,t,n)},d(e){e&&w(t)}}}function _t(e){let t,n;return{c(){a((t=N("img")).src,n="/images/bigcar.png")||D(t,"src","/images/bigcar.png"),D(t,"alt","stor bil"),D(t,"height","22")},m(e,n){A(e,t,n)},d(e){e&&w(t)}}}function Nt(t){let n,l,s,o=t[23]+"";return{c(){n=N("option"),l=C(o),n.__value=s=t[23],n.value=n.__value},m(e,t){A(e,n,t),S(n,l)},p:e,d(e){e&&w(n)}}}function Ct(e){let t,n,l,s,o,c,r=e[8](e[0][e[6].ASSIGNEE])+"",i=Dt(e[0][e[6].STATUS])+"";return{c(){t=N("div"),n=N("a"),l=C(r),o=O(),c=C(i),D(n,"href",s="tel:"+St(e[0][e[6].ASSIGNEE])),D(t,"class","hentesav svelte-thhux8")},m(e,s){A(e,t,s),S(t,n),S(n,l),S(t,o),S(t,c)},p(e,t){1&t&&r!==(r=e[8](e[0][e[6].ASSIGNEE])+"")&&M(l,r),1&t&&s!==(s="tel:"+St(e[0][e[6].ASSIGNEE]))&&D(n,"href",s),1&t&&i!==(i=Dt(e[0][e[6].STATUS])+"")&&M(c,i)},d(e){e&&w(t)}}}function Ot(e){let t,n,l,s,c,r,i,a,u,d,p,f,g,m,h,v,b,k,$,x,y,E,_,T,R,I=e[0][e[6].TYPES]+"",U=e[0][e[6].DESC]+"";s=new ot({props:{name:e[0][e[6].ASSIGNEE],number:e[0][e[6].PHONE]}});let H=e[3]&&Tt(e);return{c(){t=N("tr"),n=N("td"),l=N("td"),ye(s.$$.fragment),c=O(),r=N("p"),i=C(I),a=O(),u=N("p"),d=N("i"),p=C(U),f=O(),g=N("p"),(m=N("button")).innerHTML='<img src="/images/edit.png" alt="endre detaljer" width="36" class="svelte-thhux8"/>',h=O(),H&&H.c(),v=O(),b=N("td"),k=C("Kommentarer fra admin/hentere:"),$=N("br"),x=O(),y=N("textarea"),D(n,"class","svelte-thhux8"),D(m,"class","svelte-thhux8"),D(g,"class","cen svelte-thhux8"),D(l,"colspan","3"),D(l,"class","extrainfo svelte-thhux8"),D(y,"class","svelte-thhux8"),D(b,"colspan","2"),D(b,"class","svelte-thhux8"),D(t,"data-id",E=e[0][e[6].JOBNR])},m(o,E){A(o,t,E),S(t,n),S(t,l),Ee(s,l,null),S(l,c),S(l,r),S(r,i),S(l,a),S(l,u),S(u,d),S(d,p),S(l,f),S(l,g),S(g,m),S(l,h),H&&H.m(l,null),S(t,v),S(t,b),S(b,k),S(b,$),S(b,x),S(b,y),B(y,e[0][e[6].ADMCOMMENT]),_=!0,T||(R=[j(m,"click",e[17]),j(y,"input",e[20]),j(y,"change",e[21])],T=!0)},p(e,n){const o={};1&n&&(o.name=e[0][e[6].ASSIGNEE]),1&n&&(o.number=e[0][e[6].PHONE]),s.$set(o),(!_||1&n)&&I!==(I=e[0][e[6].TYPES]+"")&&M(i,I),(!_||1&n)&&U!==(U=e[0][e[6].DESC]+"")&&M(p,U),e[3]?H?(H.p(e,n),8&n&&ve(H,1)):((H=Tt(e)).c(),ve(H,1),H.m(l,null)):H&&(me(),be(H,1,1,()=>{H=null}),he()),65&n&&B(y,e[0][e[6].ADMCOMMENT]),(!_||1&n&&E!==(E=e[0][e[6].JOBNR]))&&D(t,"data-id",E)},i(e){_||(ve(s.$$.fragment,e),ve(H),_=!0)},o(e){be(s.$$.fragment,e),be(H),_=!1},d(e){e&&w(t),Ae(s),H&&H.d(),T=!1,o(R)}}}function Tt(e){let t,n;return(t=new We({props:{$$slots:{header:[Rt],default:[jt]},$$scope:{ctx:e}}})).$on("close",e[19]),{c(){ye(t.$$.fragment)},m(e,l){Ee(t,e,l),n=!0},p(e,n){const l={};67108873&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ve(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function jt(e){let t,n;return(t=new nt({props:{job:e[0],cols:e[6]}})).$on("update",e[7]),t.$on("cancel",e[18]),{c(){ye(t.$$.fragment)},m(e,l){Ee(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.job=e[0]),t.$set(l)},i(e){n||(ve(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function Rt(e){let t;return{c(){(t=N("h2")).textContent="Endre detaljer",D(t,"slot","header")},m(e,n){A(e,t,n)},d(e){e&&w(t)}}}function It(e){let t,n,l,s,c,r,i,a,u,d,p,f,g,m,h,v,b,k,$,x,y,E,R,B,U,P,J,G,L,z,Y,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,re,ie,ae=e[0][e[6].JOBNR]+"",ue=e[0][e[6].ADDRESS]+"",de=e[0][e[6].PICKUP_DAYS]+"",pe=e[0].loading&&At();function fe(e,t){return e[0][e[6].SIZE]?_t:wt}let ge=fe(e),ke=ge(e);E=new Ke({props:{types:e[0][e[6].TYPES]}}),(U=new pt({props:{qualityRanking:e[0][e[6].QUALITY]}})).$on("qualityupdate",e[7]),G=new Pe({props:{days:e[0][e[6].PICKUP_DAYS]}});let $e=De,xe=[];for(let t=0;t<$e.length;t+=1)xe[t]=Nt(Et(e,$e,t));let Se=e[0][e[6].ASSIGNEE]&&Ct(e),we=e[2]&&Ot(e);return{c(){t=N("tr"),n=N("td"),pe&&pe.c(),l=O(),s=N("span"),c=C(ae),r=O(),i=C(ue),a=O(),u=N("a"),d=C("🔎"),f=O(),g=N("br"),m=O(),h=N("div"),v=N("i"),b=C(de),k=O(),$=N("td"),ke.c(),x=O(),y=N("td"),ye(E.$$.fragment),R=O(),B=N("td"),ye(U.$$.fragment),P=O(),J=N("td"),ye(G.$$.fragment),L=O(),z=N("td"),Y=N("input"),V=O(),F=N("label"),Z=C("✓"),W=O(),X=N("select");for(let e=0;e<xe.length;e+=1)xe[e].c();te=O(),Se&&Se.c(),le=O(),we&&we.c(),se=T(),D(s,"class","jobnr svelte-thhux8"),D(u,"href",p="https://www.google.no/maps/?q="+encodeURIComponent(e[0][e[6].ADDRESS])),D(u,"target","_blank"),D(h,"class","smallscreen svelte-thhux8"),D(n,"tabindex","0"),D(n,"class","svelte-thhux8"),q(n,"expanded",e[2]),q(n,"loading",e[4]),D($,"class","car svelte-thhux8"),D(y,"class","typefilter svelte-thhux8"),D(B,"class","svelte-thhux8"),D(J,"class","svelte-thhux8"),D(Y,"type","checkbox"),D(Y,"id",K="select"+e[0][e[6].JOBNR]),D(Y,"class","svelte-thhux8"),D(F,"for",Q="select"+e[0][e[6].JOBNR]),D(F,"tabindex","0"),D(F,"class","svelte-thhux8"),X.disabled=ee=Boolean(e[0][e[6].ASSIGNEE]),D(X,"class","svelte-thhux8"),void 0===e[0][e[6].STATUS]&&ce(()=>e[14].call(X)),D(z,"class","statuscell svelte-thhux8"),D(t,"class","job svelte-thhux8"),D(t,"data-id",ne=e[0][e[6].JOBNR]),q(t,"itemSelected",e[1])},m(o,p){A(o,t,p),S(t,n),pe&&pe.m(n,null),S(n,l),S(n,s),S(s,c),S(n,r),S(n,i),S(n,a),S(n,u),S(u,d),S(n,f),S(n,g),S(n,m),S(n,h),S(h,v),S(v,b),S(t,k),S(t,$),ke.m($,null),S(t,x),S(t,y),Ee(E,y,null),S(t,R),S(t,B),Ee(U,B,null),S(t,P),S(t,J),Ee(G,J,null),S(t,L),S(t,z),S(z,Y),Y.checked=e[1],S(z,V),S(z,F),S(F,Z),S(z,W),S(z,X);for(let e=0;e<xe.length;e+=1)xe[e].m(X,null);H(X,e[0][e[6].STATUS]),S(z,te),Se&&Se.m(z,null),A(o,le,p),we&&we.m(o,p),A(o,se,p),oe=!0,re||(ie=[j(u,"click",I(e[10])),j(n,"click",e[11]),j(Y,"change",e[12]),j(Y,"change",e[13]),j(X,"change",e[14]),j(X,"change",I(e[15])),j(z,"click",e[16])],re=!0)},p(e,[s]){e[0].loading?pe?1&s&&ve(pe,1):((pe=At()).c(),ve(pe,1),pe.m(n,l)):pe&&(me(),be(pe,1,1,()=>{pe=null}),he()),(!oe||1&s)&&ae!==(ae=e[0][e[6].JOBNR]+"")&&M(c,ae),(!oe||1&s)&&ue!==(ue=e[0][e[6].ADDRESS]+"")&&M(i,ue),(!oe||1&s&&p!==(p="https://www.google.no/maps/?q="+encodeURIComponent(e[0][e[6].ADDRESS])))&&D(u,"href",p),(!oe||1&s)&&de!==(de=e[0][e[6].PICKUP_DAYS]+"")&&M(b,de),4&s&&q(n,"expanded",e[2]),16&s&&q(n,"loading",e[4]),ge!==(ge=fe(e))&&(ke.d(1),(ke=ge(e))&&(ke.c(),ke.m($,null)));const o={};1&s&&(o.types=e[0][e[6].TYPES]),E.$set(o);const r={};1&s&&(r.qualityRanking=e[0][e[6].QUALITY]),U.$set(r);const a={};if(1&s&&(a.days=e[0][e[6].PICKUP_DAYS]),G.$set(a),(!oe||1&s&&K!==(K="select"+e[0][e[6].JOBNR]))&&D(Y,"id",K),2&s&&(Y.checked=e[1]),(!oe||1&s&&Q!==(Q="select"+e[0][e[6].JOBNR]))&&D(F,"for",Q),0&s){let t;for($e=De,t=0;t<$e.length;t+=1){const n=Et(e,$e,t);xe[t]?xe[t].p(n,s):(xe[t]=Nt(n),xe[t].c(),xe[t].m(X,null))}for(;t<xe.length;t+=1)xe[t].d(1);xe.length=$e.length}(!oe||1&s&&ee!==(ee=Boolean(e[0][e[6].ASSIGNEE])))&&(X.disabled=ee),65&s&&H(X,e[0][e[6].STATUS]),e[0][e[6].ASSIGNEE]?Se?Se.p(e,s):((Se=Ct(e)).c(),Se.m(z,null)):Se&&(Se.d(1),Se=null),(!oe||1&s&&ne!==(ne=e[0][e[6].JOBNR]))&&D(t,"data-id",ne),2&s&&q(t,"itemSelected",e[1]),e[2]?we?(we.p(e,s),4&s&&ve(we,1)):((we=Ot(e)).c(),ve(we,1),we.m(se.parentNode,se)):we&&(me(),be(we,1,1,()=>{we=null}),he())},i(e){oe||(ve(pe),ve(E.$$.fragment,e),ve(U.$$.fragment,e),ve(G.$$.fragment,e),ve(we),oe=!0)},o(e){be(pe),be(E.$$.fragment,e),be(U.$$.fragment,e),be(G.$$.fragment,e),be(we),oe=!1},d(e){e&&w(t),pe&&pe.d(),ke.d(),Ae(E),Ae(U),Ae(G),_(xe,e),Se&&Se.d(),e&&w(le),we&&we.d(e),e&&w(se),re=!1,o(ie)}}}function Dt(e){return"Hentet"===e?"hentet":"henter nå"}function Mt(e,t,n){let l,s;u(e,bt,e=>n(22,s=e));const o=X();let{itemData:c}=t,{itemSelected:r=!1}=t,{prefs:i}=t,a=i.cols,d=!1,p=!1;function f(e){return n(3,p=!1),xt(c[a.JOBNR],a,e.detail).catch(e=>alert(e))}return e.$$set=(e=>{"itemData"in e&&n(0,c=e.itemData),"itemSelected"in e&&n(1,r=e.itemSelected),"prefs"in e&&n(9,i=e.prefs)}),e.$$.update=(()=>{1&e.$$.dirty&&n(4,l=c.loading)}),[c,r,d,p,l,o,a,f,function(e){let t=s.find(t=>t.number===St(e));return t?t.name:St(e)},i,function(t){(function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e.call(this,t))}).call(this,e,t)},e=>n(2,d=!d),function(){r=this.checked,n(1,r)},e=>o("select",{jobnr:c[a.JOBNR],selected:e.target.checked}),function(){c[a.STATUS]=J(this),n(0,c),n(6,a)},e=>f({detail:{status:e.target.value}}),e=>{-1===["SELECT","LABEL","INPUT","OPTION","A"].indexOf(e.target.tagName)&&o("select",{jobnr:c[a.JOBNR],selected:!r})},e=>n(3,p=!0),e=>n(3,p=!1),()=>n(3,p=!1),function(){c[a.ADMCOMMENT]=this.value,n(0,c),n(6,a)},e=>xt(c[a.JOBNR],a,{[a.ADMCOMMENT]:e.target.value})]}class Bt extends Ne{constructor(e){super(),_e(this,e,Mt,It,r,{itemData:0,itemSelected:1,prefs:9})}}function Ut(e,t,n){const l=e.slice();return l[14]=t[n],l}function Ht(e,t,n){const l=e.slice();return l[17]=t[n],l}function Pt(e){let t,n,l;return{c(){D(t=N("textarea"),"pattern","[0-9 ,]"),t.required=!0,D(t,"class","svelte-72ojky")},m(s,o){A(s,t,o),B(t,e[0]),n||(l=j(t,"input",e[9]),n=!0)},p(e,n){5&n&&B(t,e[0])},d(e){e&&w(t),n=!1,l()}}}function Jt(e){let t,n,l,s=e[2],o=[];for(let t=0;t<s.length;t+=1)o[t]=qt(Ht(e,s,t));return{c(){t=N("select");for(let e=0;e<o.length;e+=1)o[e].c();t.multiple=!0,t.required=!0,D(t,"class","svelte-72ojky"),void 0===e[0]&&ce(()=>e[8].call(t))},m(s,c){A(s,t,c);for(let e=0;e<o.length;e+=1)o[e].m(t,null);P(t,e[0]),n||(l=j(t,"change",e[8]),n=!0)},p(e,n){if(4&n){let l;for(s=e[2],l=0;l<s.length;l+=1){const c=Ht(e,s,l);o[l]?o[l].p(c,n):(o[l]=qt(c),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}5&n&&P(t,e[0])},d(e){e&&w(t),_(o,e),n=!1,l()}}}function Gt(e){let t,n,l=e[17].address+"";return{c(){t=C("- "),n=C(l)},m(e,l){A(e,t,l),A(e,n,l)},p(e,t){4&t&&l!==(l=e[17].address+"")&&M(n,l)},d(e){e&&w(t),e&&w(n)}}}function qt(e){let t,n,l,s,o=e[17].name+"",c=e[17].address&&Gt(e);return{c(){t=N("option"),n=C(o),c&&c.c(),l=O(),t.__value=s=e[17].number,t.value=t.__value,D(t,"class","svelte-72ojky")},m(e,s){A(e,t,s),S(t,n),c&&c.m(t,null),S(t,l)},p(e,r){4&r&&o!==(o=e[17].name+"")&&M(n,o),e[17].address?c?c.p(e,r):((c=Gt(e)).c(),c.m(t,l)):c&&(c.d(1),c=null),4&r&&s!==(s=e[17].number)&&(t.__value=s,t.value=t.__value)},d(e){e&&w(t),c&&c.d()}}}function Lt(t){let n,l,s,o=t[14]+"";return{c(){n=N("option"),l=C(o),n.__value=s=t[14],n.value=n.__value,D(n,"class","svelte-72ojky")},m(e,t){A(e,n,t),S(n,l)},p:e,d(e){e&&w(n)}}}function zt(t){let n,l,s,c,r,i,a,u,d,p,f,g,m,h,v,b,k,$,x,y,E;function C(e,t){return e[2]&&e[2].length?Jt:Pt}let T=C(t),I=T(t),M=t[3]&&function(e){let t,n,l,s,o,c,r,i,a=Object.keys(e[5]),u=[];for(let t=0;t<a.length;t+=1)u[t]=Lt(Ut(e,a,t));return{c(){t=N("p"),(n=N("b")).textContent="Kjappe svar",l=O(),s=N("span"),o=N("select"),c=N("option");for(let e=0;e<u.length;e+=1)u[e].c();c.__value="",c.value=c.__value,D(c,"class","svelte-72ojky"),D(o,"class","svelte-72ojky"),D(s,"class","svelte-72ojky"),D(t,"class","svelte-72ojky")},m(a,d){A(a,t,d),S(t,n),S(t,l),S(t,s),S(s,o),S(o,c);for(let e=0;e<u.length;e+=1)u[e].m(o,null);r||(i=j(o,"change",e[11]),r=!0)},p(e,t){if(32&t){let n;for(a=Object.keys(e[5]),n=0;n<a.length;n+=1){const l=Ut(e,a,n);u[n]?u[n].p(l,t):(u[n]=Lt(l),u[n].c(),u[n].m(o,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}},d(e){e&&w(t),_(u,e),r=!1,i()}}}(t);return{c(){n=N("form"),l=N("p"),(s=N("b")).textContent="Til",c=N("span"),I.c(),r=O(),i=N("p"),(a=N("b")).textContent="SMS",u=O(),d=N("span"),p=N("textarea"),f=O(),M&&M.c(),g=O(),m=N("p"),h=N("span"),v=O(),b=N("span"),(k=N("button")).textContent="Send",$=O(),(x=N("button")).textContent="Avbryt",D(c,"class","to svelte-72ojky"),D(l,"class","svelte-72ojky"),p.required=!0,D(p,"class","svelte-72ojky"),D(d,"class","sms svelte-72ojky"),D(i,"class","svelte-72ojky"),D(h,"class","svelte-72ojky"),D(k,"type","submit"),D(k,"class","p8 br2 svelte-72ojky"),D(x,"class","p8 br2 svelte-72ojky"),D(x,"type","button"),D(b,"class","svelte-72ojky"),D(m,"class","svelte-72ojky"),D(n,"class","svelte-72ojky")},m(e,o){A(e,n,o),S(n,l),S(l,s),S(l,c),I.m(c,null),S(n,r),S(n,i),S(i,a),S(i,u),S(i,d),S(d,p),B(p,t[1]),S(n,f),M&&M.m(n,null),S(n,g),S(n,m),S(m,h),S(m,v),S(m,b),S(b,k),S(b,$),S(b,x),y||(E=[j(p,"input",t[10]),j(x,"click",t[12]),j(n,"submit",R(t[13]))],y=!0)},p(e,[t]){T===(T=C(e))&&I?I.p(e,t):(I.d(1),(I=T(e))&&(I.c(),I.m(c,null))),2&t&&B(p,e[1]),e[3]&&M.p(e,t)},i:e,o:e,d(e){e&&w(n),I.d(),M&&M.d(),y=!1,o(E)}}}function Yt(e,t,n){let{recipients:l=[]}=t,{message:s=""}=t,{possibleRecipients:o}=t,c=!s;const r=X();let i={"Bekreft data mottatt":"Hei,\ntakk for at du har sendt inn skjema om loppehenting! :)\n\nVi henter hver kveld mellom 24. og 26. august. Vi kontakter deg på dette nummeret før henting.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Hentes snart":"Hei,\ntakk for at du vil gi korpset lopper. Passer det om noen kommer og henter hos deg snart?\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Ikke IKEA":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre har vi dårlig erfaring med å selge IKEA-møbler, så slike vil vi helst ikke ta imot.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Ikke sofa":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre har vi dårlig erfaring med å selge sofaer på loppemarked. Vi vil helst ikke ta imot sofaer med mindre de er av spesielt god kvalitet.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Rekker ikke":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre rekker vi ikke å hente loppene dine i kveld. Dersom du har mulighet til å levere i skolegården, er det supert.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","For langt borte":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre rekker vi ikke å hente tingene dine, fordi det er litt for langt borte fra vårt område. Vi foreslår at du  tar kontakt med et lokalt korps og spør om de skal hente lopper snart.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Send foto?":"Hei,\ntakk for at du vil gi korpset lopper! Kan du sende meg et foto av loppene?\n\nVennlig hilsen Ila og Bolteløkka skolekorps"};function a(){r("sms","string"==typeof l?{recipients:l.split(/,\s*/g),message:s}:{recipients:l,message:s})}function u(e){e&&i[e]&&n(1,s=i[e])}return e.$$set=(e=>{"recipients"in e&&n(0,l=e.recipients),"message"in e&&n(1,s=e.message),"possibleRecipients"in e&&n(2,o=e.possibleRecipients)}),[l,s,o,c,r,i,a,u,function(){l=G(this),n(0,l),n(2,o)},function(){l=this.value,n(0,l),n(2,o)},function(){s=this.value,n(1,s)},e=>u(e.target.value),e=>r("cancel"),e=>a()]}class Kt extends Ne{constructor(e){super(),_e(this,e,Yt,zt,r,{recipients:0,message:1,possibleRecipients:2})}}function Vt(e,t,n){const l=e.slice();return l[11]=t[n].name,l[12]=t[n].number,l}function Ft(e){let t,n=e[2],l=[];for(let t=0;t<n.length;t+=1)l[t]=Zt(Vt(e,n,t));return{c(){t=N("ul");for(let e=0;e<l.length;e+=1)l[e].c()},m(e,n){A(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(36&s){let o;for(n=e[2],o=0;o<n.length;o+=1){const c=Vt(e,n,o);l[o]?l[o].p(c,s):(l[o]=Zt(c),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){e&&w(t),_(l,e)}}}function Zt(e){let t,n,l,s,o,c,r,i,a,u,d,p=e[11]+"",f=e[12]+"";function g(...t){return e[6](e[11],e[12],...t)}return{c(){t=N("li"),n=N("b"),l=C(p),s=C(", "),o=N("a"),c=C(f),i=O(),(a=N("button")).textContent="X",D(o,"href",r="tel:"+e[12]),D(a,"class","cancel br2 svelte-4kixmb")},m(e,r){A(e,t,r),S(t,n),S(n,l),S(t,s),S(t,o),S(o,c),S(t,i),S(t,a),u||(d=j(a,"click",g),u=!0)},p(t,n){e=t,4&n&&p!==(p=e[11]+"")&&M(l,p),4&n&&f!==(f=e[12]+"")&&M(c,f),4&n&&r!==(r="tel:"+e[12])&&D(o,"href",r)},d(e){e&&w(t),u=!1,d()}}}function Qt(t){let n,l,s,c,r,i,a,u,d,p,f,g,m,h,v,b,k,$,x,y,E,_=t[2].length&&Ft(t);return{c(){n=N("div"),_&&_.c(),l=O(),s=N("form"),c=N("p"),(r=N("span")).textContent="Navn: ",i=N("span"),a=N("input"),u=O(),d=N("p"),(p=N("span")).textContent="Mobil: ",f=N("span"),g=N("input"),m=O(),h=N("p"),v=N("span"),b=N("span"),(k=N("button")).textContent="Legg til",$=O(),(x=N("button")).textContent="Lukk",D(r,"class","svelte-4kixmb"),a.required=!0,D(a,"class","svelte-4kixmb"),D(i,"class","svelte-4kixmb"),D(c,"class","svelte-4kixmb"),D(p,"class","svelte-4kixmb"),D(g,"inputmode","tel"),g.required=!0,D(g,"class","svelte-4kixmb"),D(f,"class","svelte-4kixmb"),D(d,"class","svelte-4kixmb"),D(v,"class","svelte-4kixmb"),D(k,"type","submit"),D(k,"class","p8 br2 svelte-4kixmb"),D(x,"class","p8 br2 svelte-4kixmb"),D(x,"type","button"),D(b,"class","svelte-4kixmb"),D(h,"class","svelte-4kixmb"),D(s,"class","svelte-4kixmb")},m(e,o){A(e,n,o),_&&_.m(n,null),S(n,l),S(n,s),S(s,c),S(c,r),S(c,i),S(i,a),B(a,t[0]),S(s,u),S(s,d),S(d,p),S(d,f),S(f,g),B(g,t[1]),S(s,m),S(s,h),S(h,v),S(h,b),S(b,k),S(b,$),S(b,x),y||(E=[j(a,"input",t[7]),j(g,"input",t[8]),j(x,"click",t[9]),j(s,"submit",R(t[10]))],y=!0)},p(e,[t]){e[2].length?_?_.p(e,t):((_=Ft(e)).c(),_.m(n,l)):_&&(_.d(1),_=null),1&t&&a.value!==e[0]&&B(a,e[0]),2&t&&g.value!==e[1]&&B(g,e[1])},i:e,o:e,d(e){e&&w(n),_&&_.d(),y=!1,o(E)}}}function Wt(e,t,n){let l;u(e,bt,e=>n(2,l=e));const s=X();let o="",c="";function r(e,t){bt.update(n=>(n.push({name:e,number:t}),n)),n(1,c=n(0,o=""))}function i(e,t){bt.update(n=>{let l=n.findIndex(n=>n.name===e&&n.number===t);return n.splice(l,1),n})}return[o,c,l,s,r,i,(e,t,n)=>i(e,t),function(){o=this.value,n(0,o)},function(){c=this.value,n(1,c)},e=>s("cancel"),e=>r(o,c)]}class Xt extends Ne{constructor(e){super(),_e(this,e,Wt,Qt,r,{})}}function en(e,t,n){const l=e.slice();return l[6]=t[n],l}function tn(t){let n,l,s,o=t[6]+"";return{c(){n=N("option"),l=C(o),n.__value=s=t[6],n.value=n.__value,D(n,"class","svelte-1j620z1")},m(e,t){A(e,n,t),S(n,l)},p:e,d(e){e&&w(n)}}}function nn(t){let n,l,s,c,r,i,a,u,d,p,f,g,m,h,v,b,k=De,$=[];for(let e=0;e<k.length;e+=1)$[e]=tn(en(t,k,e));return{c(){n=N("form"),l=N("p"),(s=N("b")).textContent="Ny status:",c=O(),r=N("span"),i=N("select");for(let e=0;e<$.length;e+=1)$[e].c();a=O(),u=N("p"),d=N("span"),p=O(),f=N("span"),(g=N("button")).textContent="Oppdater valgte",m=O(),(h=N("button")).textContent="Avbryt",D(s,"class","svelte-1j620z1"),D(i,"class","svelte-1j620z1"),void 0===t[0]&&ce(()=>t[3].call(i)),D(r,"class","svelte-1j620z1"),D(l,"class","svelte-1j620z1"),D(d,"class","svelte-1j620z1"),D(g,"type","submit"),D(g,"class","p8 br2 svelte-1j620z1"),D(h,"class","p8 br2 svelte-1j620z1"),D(h,"type","button"),D(f,"class","svelte-1j620z1"),D(u,"class","svelte-1j620z1"),D(n,"class","svelte-1j620z1")},m(e,o){A(e,n,o),S(n,l),S(l,s),S(l,c),S(l,r),S(r,i);for(let e=0;e<$.length;e+=1)$[e].m(i,null);H(i,t[0]),S(n,a),S(n,u),S(u,d),S(u,p),S(u,f),S(f,g),S(f,m),S(f,h),v||(b=[j(i,"change",t[3]),j(h,"click",t[4]),j(n,"submit",R(t[5]))],v=!0)},p(e,[t]){if(0&t){let n;for(k=De,n=0;n<k.length;n+=1){const l=en(e,k,n);$[n]?$[n].p(l,t):($[n]=tn(l),$[n].c(),$[n].m(i,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=k.length}1&t&&H(i,e[0])},i:e,o:e,d(e){e&&w(n),_($,e),v=!1,o(b)}}}function ln(e,t,n){const l=X();let s="";function o(){l("statusupdate",{newState:s})}return[s,l,o,function(){s=J(this),n(0,s)},e=>l("cancel"),e=>o()]}class sn extends Ne{constructor(e){super(),_e(this,e,ln,nn,r,{})}}function on(e){let t,n,l,s;return{c(){t=N("div"),n=C(e[0]),U(t,"bottom",36*e[2]+"px"),D(t,"class","svelte-ni4itl"),q(t,"isError",e[1])},m(e,l){A(e,t,l),S(t,n),s=!0},p(e,[l]){(!s||1&l)&&M(n,e[0]),(!s||4&l)&&U(t,"bottom",36*e[2]+"px"),2&l&&q(t,"isError",e[1])},i(e){s||(ce(()=>{l||(l=$e(t,Te,{y:50,duration:500},!0)),l.run(1)}),s=!0)},o(e){l||(l=$e(t,Te,{y:50,duration:500},!1)),l.run(0),s=!1},d(e){e&&w(t),e&&l&&l.end()}}}function cn(e,t,n){let{message:l=""}=t,{isError:s=!1}=t,{index:o=0}=t;return e.$$set=(e=>{"message"in e&&n(0,l=e.message),"isError"in e&&n(1,s=e.isError),"index"in e&&n(2,o=e.index)}),[l,s,o]}class rn extends Ne{constructor(e){super(),_e(this,e,cn,on,r,{message:0,isError:1,index:2})}}function an(e,t,n){const l=e.slice();return l[4]=t[n],l}function un(e){let t,n;return{c(){a((t=N("img")).src,n=e[4].icon)||D(t,"src",n),D(t,"alt",""),D(t,"class","svelte-1s9tfhz")},m(e,n){A(e,t,n)},p(e,l){4&l&&!a(t.src,n=e[4].icon)&&D(t,"src",n)},d(e){e&&w(t)}}}function dn(e){let t,n,l,s,o,r,i=e[4].label+"",a=e[4].icon&&un(e);return{c(){t=N("button"),a&&a.c(),n=O(),l=C(i),s=O(),D(t,"class","menu svelte-1s9tfhz")},m(i,u){A(i,t,u),a&&a.m(t,null),S(t,n),S(t,l),S(t,s),o||(r=j(t,"click",function(){c(e[4].action)&&e[4].action.apply(this,arguments)}),o=!0)},p(s,o){(e=s)[4].icon?a?a.p(e,o):((a=un(e)).c(),a.m(t,n)):a&&(a.d(1),a=null),4&o&&i!==(i=e[4].label+"")&&M(l,i)},d(e){e&&w(t),a&&a.d(),o=!1,r()}}}function pn(t){let n,l=t[2],s=[];for(let e=0;e<l.length;e+=1)s[e]=dn(an(t,l,e));return{c(){n=N("div");for(let e=0;e<s.length;e+=1)s[e].c();D(n,"class","menu svelte-1s9tfhz"),U(n,"top",t[3]+"px"),U(n,"left",t[0]+"px"),U(n,"position","fixed"),q(n,"show",t[1])},m(e,t){A(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(4&t){let o;for(l=e[2],o=0;o<l.length;o+=1){const c=an(e,l,o);s[o]?s[o].p(c,t):(s[o]=dn(c),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}8&t&&U(n,"top",e[3]+"px"),1&t&&U(n,"left",e[0]+"px"),2&t&&q(n,"show",e[1])},i:e,o:e,d(e){e&&w(n),_(s,e)}}}function fn(e,t,n){let{show:l=!1}=t,{items:s=[]}=t,{x:o=0}=t,{y:c=0}=t;return W(()=>document.getElementsByTagName("button")[0].focus()),o<=20&&(o=20),e.$$set=(e=>{"show"in e&&n(1,l=e.show),"items"in e&&n(2,s=e.items),"x"in e&&n(0,o=e.x),"y"in e&&n(3,c=e.y)}),[o,l,s,c]}class gn extends Ne{constructor(e){super(),_e(this,e,fn,pn,r,{show:1,items:2,x:0,y:3})}}function mn(e,t,n){const l=e.slice();return l[74]=t[n],l[76]=n,l}function hn(e,t,n){const l=e.slice();return l[78]=t[n],l[80]=n,l}function vn(e,t,n){const l=e.slice();return l[81]=t[n],l}function bn(t){let n,l,s=t[84].message+"";return{c(){n=N("p"),l=C(s),U(n,"color","red")},m(e,t){A(e,n,t),S(n,l)},p(e,t){32&t[0]&&s!==(s=e[84].message+"")&&M(l,s)},i:e,o:e,d(e){e&&w(n)}}}function kn(e){let t,n,l,s,c,r,i,u,d,p,f,g,m,h,v,b,k,$,x,y,E,R,I,U,P,J,G,L,z,Y,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,re,ie,ae,ue,de,pe,fe,ge,ke,$e,xe,Se,ye,Ee,Ae,we,_e,Ne,Ce,Oe,Te,je,Re=e[24].length+"",Ie=e[24].filter(e[45]).length+"",De=e[24].filter(e[46]).length+"",Me=e[24].filter(e[47]).length+"",Be=e[14].types,Ue=[];for(let t=0;t<Be.length;t+=1)Ue[t]=$n(vn(e,Be,t));let He=e[24],Pe=[];for(let t=0;t<He.length;t+=1)Pe[t]=Sn(hn(e,He,t));const Je=e=>be(Pe[e],1,1,()=>{Pe[e]=null});let Ge=e[0]&&yn(e),qe=e[1]&&wn(e),Le=e[2]&&Cn(e);return{c(){t=N("table"),n=N("tr"),l=N("th"),s=N("input"),c=O(),r=N("th"),i=N("img"),d=O(),p=N("img"),g=O(),m=N("th"),h=N("select"),(v=N("option")).textContent="-";for(let e=0;e<Ue.length;e+=1)Ue[e].c();b=O(),(k=N("th")).innerHTML='<img src="/images/star-full.png" width="16" alt="antatt kvalitet"/> \n\t\t\t\t<img src="/images/star-full.png" width="16" alt=""/> \n\t\t\t\t<img src="/images/star-full.png" width="16" alt=""/>',$=O(),x=N("th"),y=N("ol"),(E=N("li")).textContent="Ti",R=O(),(I=N("li")).textContent="On",U=O(),(P=N("li")).textContent="To",J=O(),G=N("th"),L=N("label"),z=N("input"),Y=C("Bare valgte dager"),K=O(),V=N("br"),F=N("label"),Z=N("input"),Q=C("Skjul ferdige"),W=O();for(let e=0;e<Pe.length;e+=1)Pe[e].c();X=O(),ee=N("col"),te=O(),ne=N("col"),le=O(),se=N("col"),oe=O(),re=N("col"),ie=O(),ae=N("col"),ue=O(),de=N("col"),pe=O(),fe=N("p"),ge=C("Antall jobber totalt: "),ke=C(Re),$e=C(". \n\tHentes nå: "),xe=C(Ie),Se=C("\n\tHentet: "),ye=C(De),Ee=C("\n\tHentes ikke: "),Ae=C(Me),we=O(),Ge&&Ge.c(),_e=O(),qe&&qe.c(),Ne=O(),Le&&Le.c(),Ce=T(),D(s,"type","search"),D(s,"placeholder","Filtrer"),a(i.src,u="/images/bigcar.png")||D(i,"src","/images/bigcar.png"),D(i,"alt","stor bil"),D(i,"height","22"),D(i,"tabindex","0"),q(i,"bigActive",e[7]),a(p.src,f="/images/smallcar.png")||D(p,"src","/images/smallcar.png"),D(p,"alt","liten bil"),D(p,"height","22"),D(p,"tabindex","0"),q(p,"smallActive",e[8]),v.__value="",v.value=v.__value,void 0===e[13]&&ce(()=>e[38].call(h)),D(E,"tabindex","0"),q(E,"tueActive",e[9]),D(I,"tabindex","0"),q(I,"wedActive",e[10]),D(P,"tabindex","0"),q(P,"thuActive",e[11]),D(y,"class","days"),D(z,"type","checkbox"),D(Z,"type","checkbox"),D(ee,"class","address"),D(ne,"class","cartype"),D(se,"class","stufftype"),D(re,"class","quality"),D(ae,"class","dayscol"),D(de,"class","status"),D(t,"class","main")},m(o,a){A(o,t,a),S(t,n),S(n,l),S(l,s),B(s,e[6]),S(n,c),S(n,r),S(r,i),S(r,d),S(r,p),S(n,g),S(n,m),S(m,h),S(h,v);for(let e=0;e<Ue.length;e+=1)Ue[e].m(h,null);H(h,e[13]),S(n,b),S(n,k),S(n,$),S(n,x),S(x,y),S(y,E),S(y,R),S(y,I),S(y,U),S(y,P),S(n,J),S(n,G),S(G,L),S(L,z),z.checked=e[12],S(L,Y),S(G,K),S(G,V),S(G,F),S(F,Z),Z.checked=e[20],S(F,Q),S(t,W);for(let e=0;e<Pe.length;e+=1)Pe[e].m(t,null);S(t,X),S(t,ee),S(t,te),S(t,ne),S(t,le),S(t,se),S(t,oe),S(t,re),S(t,ie),S(t,ae),S(t,ue),S(t,de),A(o,pe,a),A(o,fe,a),S(fe,ge),S(fe,ke),S(fe,$e),S(fe,xe),S(fe,Se),S(fe,ye),S(fe,Ee),S(fe,Ae),A(o,we,a),Ge&&Ge.m(o,a),A(o,_e,a),qe&&qe.m(o,a),A(o,Ne,a),Le&&Le.m(o,a),A(o,Ce,a),Oe=!0,Te||(je=[j(s,"input",e[35]),j(i,"click",e[36]),j(p,"click",e[37]),j(h,"change",e[38]),j(E,"click",e[39]),j(I,"click",e[40]),j(P,"click",e[41]),j(z,"change",e[42]),j(Z,"change",e[43])],Te=!0)},p(e,n){if(64&n[0]&&B(s,e[6]),128&n[0]&&q(i,"bigActive",e[7]),256&n[0]&&q(p,"smallActive",e[8]),16384&n[0]){let t;for(Be=e[14].types,t=0;t<Be.length;t+=1){const l=vn(e,Be,t);Ue[t]?Ue[t].p(l,n):(Ue[t]=$n(l),Ue[t].c(),Ue[t].m(h,null))}for(;t<Ue.length;t+=1)Ue[t].d(1);Ue.length=Be.length}if(24576&n[0]&&H(h,e[13]),512&n[0]&&q(E,"tueActive",e[9]),1024&n[0]&&q(I,"wedActive",e[10]),2048&n[0]&&q(P,"thuActive",e[11]),4096&n[0]&&(z.checked=e[12]),1048576&n[0]&&(Z.checked=e[20]),85065664&n[0]){let l;for(He=e[24],l=0;l<He.length;l+=1){const s=hn(e,He,l);Pe[l]?(Pe[l].p(s,n),ve(Pe[l],1)):(Pe[l]=Sn(s),Pe[l].c(),ve(Pe[l],1),Pe[l].m(t,X))}for(me(),l=He.length;l<Pe.length;l+=1)Je(l);he()}(!Oe||16777216&n[0])&&Re!==(Re=e[24].length+"")&&M(ke,Re),(!Oe||16809984&n[0])&&Ie!==(Ie=e[24].filter(e[45]).length+"")&&M(xe,Ie),(!Oe||16809984&n[0])&&De!==(De=e[24].filter(e[46]).length+"")&&M(ye,De),(!Oe||16809984&n[0])&&Me!==(Me=e[24].filter(e[47]).length+"")&&M(Ae,Me),e[0]?Ge?(Ge.p(e,n),1&n[0]&&ve(Ge,1)):((Ge=yn(e)).c(),ve(Ge,1),Ge.m(_e.parentNode,_e)):Ge&&(me(),be(Ge,1,1,()=>{Ge=null}),he()),e[1]?qe?(qe.p(e,n),2&n[0]&&ve(qe,1)):((qe=wn(e)).c(),ve(qe,1),qe.m(Ne.parentNode,Ne)):qe&&(me(),be(qe,1,1,()=>{qe=null}),he()),e[2]?Le?(Le.p(e,n),4&n[0]&&ve(Le,1)):((Le=Cn(e)).c(),ve(Le,1),Le.m(Ce.parentNode,Ce)):Le&&(me(),be(Le,1,1,()=>{Le=null}),he())},i(e){if(!Oe){for(let e=0;e<He.length;e+=1)ve(Pe[e]);ve(Ge),ve(qe),ve(Le),Oe=!0}},o(e){Pe=Pe.filter(Boolean);for(let e=0;e<Pe.length;e+=1)be(Pe[e]);be(Ge),be(qe),be(Le),Oe=!1},d(e){e&&w(t),_(Ue,e),_(Pe,e),e&&w(pe),e&&w(fe),e&&w(we),Ge&&Ge.d(e),e&&w(_e),qe&&qe.d(e),e&&w(Ne),Le&&Le.d(e),e&&w(Ce),Te=!1,o(je)}}}function $n(e){let t,n,l,s=e[81]+"";return{c(){t=N("option"),n=C(s),t.__value=l=e[81],t.value=t.__value},m(e,l){A(e,t,l),S(t,n)},p(e,o){16384&o[0]&&s!==(s=e[81]+"")&&M(n,s),16384&o[0]&&l!==(l=e[81])&&(t.__value=l,t.value=t.__value)},d(e){e&&w(t)}}}function xn(e){let t,n;return(t=new Bt({props:{itemData:e[78],prefs:e[14],itemSelected:e[16].indexOf(e[78][e[15].JOBNR])>-1}})).$on("select",e[44]),{c(){ye(t.$$.fragment)},m(e,l){Ee(t,e,l),n=!0},p(e,n){const l={};16777216&n[0]&&(l.itemData=e[78]),16384&n[0]&&(l.prefs=e[14]),16875520&n[0]&&(l.itemSelected=e[16].indexOf(e[78][e[15].JOBNR])>-1),t.$set(l)},i(e){n||(ve(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function Sn(e){let t,n,l=yt(e[6],{smallActive:e[8],bigActive:e[7]},{monActive:Dn,tueActive:e[9],wedActive:e[10],thuActive:e[11],dayFilterExclusive:e[12]},e[13],e[20],bt,e[78],e[15]),s=l&&xn(e);return{c(){s&&s.c(),t=T()},m(e,l){s&&s.m(e,l),A(e,t,l),n=!0},p(e,n){17874880&n[0]&&(l=yt(e[6],{smallActive:e[8],bigActive:e[7]},{monActive:Dn,tueActive:e[9],wedActive:e[10],thuActive:e[11],dayFilterExclusive:e[12]},e[13],e[20],bt,e[78],e[15])),l?s?(s.p(e,n),17874880&n[0]&&ve(s,1)):((s=xn(e)).c(),ve(s,1),s.m(t.parentNode,t)):s&&(me(),be(s,1,1,()=>{s=null}),he())},i(e){n||(ve(s),n=!0)},o(e){be(s),n=!1},d(e){s&&s.d(e),e&&w(t)}}}function yn(e){let t,n;return(t=new We({props:{$$slots:{header:[An],default:[En]},$$scope:{ctx:e}}})).$on("close",e[50]),{c(){ye(t.$$.fragment)},m(e,l){Ee(t,e,l),n=!0},p(e,n){const l={};917505&n[0]|8388608&n[2]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ve(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function En(e){let t,n;return(t=new Kt({props:{possibleRecipients:e[17],recipients:e[18],message:e[19]}})).$on("cancel",e[48]),t.$on("sms",e[49]),{c(){ye(t.$$.fragment)},m(e,l){Ee(t,e,l),n=!0},p(e,n){const l={};131072&n[0]&&(l.possibleRecipients=e[17]),262144&n[0]&&(l.recipients=e[18]),524288&n[0]&&(l.message=e[19]),t.$set(l)},i(e){n||(ve(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function An(e){let t;return{c(){(t=N("h2")).textContent="Send SMS",D(t,"slot","header")},m(e,n){A(e,t,n)},d(e){e&&w(t)}}}function wn(e){let t,n;return(t=new We({props:{$$slots:{header:[Nn],default:[_n]},$$scope:{ctx:e}}})).$on("close",e[52]),{c(){ye(t.$$.fragment)},m(e,l){Ee(t,e,l),n=!0},p(e,n){const l={};2&n[0]|8388608&n[2]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ve(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function _n(t){let n,l;return(n=new Xt({})).$on("cancel",t[51]),{c(){ye(n.$$.fragment)},m(e,t){Ee(n,e,t),l=!0},p:e,i(e){l||(ve(n.$$.fragment,e),l=!0)},o(e){be(n.$$.fragment,e),l=!1},d(e){Ae(n,e)}}}function Nn(e){let t;return{c(){(t=N("h2")).textContent="Oppdater hentere",D(t,"slot","header")},m(e,n){A(e,t,n)},d(e){e&&w(t)}}}function Cn(e){let t,n;return(t=new We({props:{$$slots:{header:[Tn],default:[On]},$$scope:{ctx:e}}})).$on("close",e[55]),{c(){ye(t.$$.fragment)},m(e,l){Ee(t,e,l),n=!0},p(e,n){const l={};16875524&n[0]|8388608&n[2]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ve(t.$$.fragment,e),n=!0)},o(e){be(t.$$.fragment,e),n=!1},d(e){Ae(t,e)}}}function On(t){let n,l;return(n=new sn({})).$on("cancel",t[53]),n.$on("statusupdate",t[54]),{c(){ye(n.$$.fragment)},m(e,t){Ee(n,e,t),l=!0},p:e,i(e){l||(ve(n.$$.fragment,e),l=!0)},o(e){be(n.$$.fragment,e),l=!1},d(e){Ae(n,e)}}}function Tn(e){let t;return{c(){(t=N("h2")).textContent="Oppdater status",D(t,"slot","header")},m(e,n){A(e,t,n)},d(e){e&&w(t)}}}function jn(t){let n,l,s,o,c;return l=new mt({}),{c(){n=N("div"),ye(l.$$.fragment),s=O(),(o=N("p")).textContent="...henter data",D(n,"class","dataloading"),U(o,"text-align","center")},m(e,t){A(e,n,t),Ee(l,n,null),A(e,s,t),A(e,o,t),c=!0},p:e,i(e){c||(ve(l.$$.fragment,e),c=!0)},o(e){be(l.$$.fragment,e),c=!1},d(e){e&&w(n),Ae(l),e&&w(s),e&&w(o)}}}function Rn(e){let t,l;const s=[e[74],{index:e[76]}];let o={};for(let e=0;e<s.length;e+=1)o=n(o,s[e]);return t=new rn({props:o}),{c(){ye(t.$$.fragment)},m(e,n){Ee(t,e,n),l=!0},p(e,n){const l=8388608&n[0]?function(e,t){const n={},l={},s={$$scope:1};let o=e.length;for(;o--;){const c=e[o],r=t[o];if(r){for(const e in c)e in r||(l[e]=1);for(const e in r)s[e]||(n[e]=r[e],s[e]=1);e[o]=r}else for(const e in c)s[e]=1}for(const e in l)e in n||(n[e]=void 0);return n}(s,[(o=e[74],"object"==typeof o&&null!==o?o:{}),s[1]]):{};var o;t.$set(l)},i(e){l||(ve(t.$$.fragment,e),l=!0)},o(e){be(t.$$.fragment,e),l=!1},d(e){Ae(t,e)}}}function In(e){let t,n,l,s,c,r,i,a,u,d,p,f,g,m,h,v,b={ctx:e,current:null,token:null,hasCatch:!0,pending:jn,then:kn,catch:bn,value:77,error:84,blocks:[,,,]};xe(a=e[5],b),d=new gn({props:{show:e[3],x:e[21],y:e[22],items:[{label:"SMS til giver",icon:"/images/sms.png",action:e[56]},{label:"SMS til henter",icon:"/images/sms.png",action:e[57]},{label:"Sett status",icon:"/images/wrench.png",action:e[58]},{label:"Vis på kart",icon:"/images/map.png",action:e[59]}]}}),f=new gn({props:{show:e[4],x:e[21],y:e[22],items:[{label:"Hentere",icon:"/images/smallcar.png",action:e[60]},{label:"Oppdater data",icon:"/images/wrench.png",action:e[61]},{label:"Merk alle",icon:"/images/check.png",action:e[62]},{label:"Fjern merking",icon:"/images/nocheck.png",action:e[63]},{label:"Tom SMS",icon:"/images/sms.png",action:e[64]}]}});let k=e[23],$=[];for(let t=0;t<k.length;t+=1)$[t]=Rn(mn(e,k,t));const x=e=>be($[e],1,1,()=>{$[e]=null});return{c(){t=N("div"),(n=N("button")).innerHTML='<img src="/images/wrench.png" width="24" alt="Innstillinger"/>',l=O(),(s=N("h1")).textContent="Loppisadmin",c=O(),(r=N("style")).textContent="h1 {text-align: center;}\n\t.conf {position: absolute; padding: 4px; right: 8em}\n\t.conf img {vertical-align: middle;}\n\ttable.main {\n\t\twidth: 80%;\n\t\tmargin-left: 10%;\n\t\tmargin-right: 10%;\n\t\tborder-collapse: collapse;\n\t\tborder: 1px solid grey;\n\t}\n\ttable.main tr:first-child {\n\t\tbackground: #eee;\n\t\tborder-bottom: 1px solid black;\n\t}\n\tth {text-align: left; padding-left: 16px; }\n\tth li {\n\t\tdisplay: inline-block;\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tborder-bottom: 1px solid grey;\n\t\tcolor: grey;\n\t\tfont-weight: lighter;\n\t\tmargin-left: 8px;\n\t\tcursor: pointer;\n\t}\n\t.smallActive, .bigActive {\n\t\tborder: 1px solid black;\n\t}\n\t.smallActive, .bigActive, li.monActive, li.tueActive, li.wedActive, li.thuActive {\n\t\tborder-color: black;\n\t\tcolor: black;\n\t}\n\tlabel {font-weight: lighter; font-style: italic;}\n\n\n/* Extra small devices (phones, 600px and down) */\n@media only screen and (max-width: 600px) {\n\tth:nth-child(3) {display: none;}\n\tth:nth-child(4) {display: none;}\n\tth:nth-child(5) {display: none;}\n\ttable {width: 99%; margin: 0;}\n} \n\n@media only screen and (max-width: 700px) {\n\tth:nth-child(3) {display: none;}\n\t.stufftype {width: 25%}\n\t.dayscol {width: 25%}\n\ttable {width: 95%; margin: 2.5%;}\n}\n/* column styles */\n.address {\n\tbackground: #eee;\n\twidth: 25%;\n}\n.cartype {\n\twidth: 5%;\n}\n.quality {\n\twidth: 10%;\n}\n.stufftype {\n\twidth: 10%;\n}\n.dayscol {\n\twidth: 20%;\n}\n.status {\n\twidth: 15%;\n}\n.dataloading {\n\tposition: fixed;\n\tleft: 45%;\n\tright: 50%;\n\ttop: 45%;\n\tbottom: 50%;\n}",i=O(),b.block.c(),u=O(),ye(d.$$.fragment),p=O(),ye(f.$$.fragment),g=O();for(let e=0;e<$.length;e+=1)$[e].c();D(n,"class","conf"),D(r,"type","text/css")},m(o,a){A(o,t,a),S(t,n),S(t,l),S(t,s),S(t,c),S(t,r),S(t,i),b.block.m(t,b.anchor=null),b.mount=(()=>t),b.anchor=u,S(t,u),Ee(d,t,null),S(t,p),Ee(f,t,null),S(t,g);for(let e=0;e<$.length;e+=1)$[e].m(t,null);m=!0,h||(v=[j(n,"click",I(e[34])),j(t,"contextmenu",R(e[65])),j(t,"click",e[66]),j(t,"mousedown",e[67]),j(t,"mousemove",e[68])],h=!0)},p(n,l){e=n,b.ctx=e,32&l[0]&&a!==(a=e[5])&&xe(a,b)||Se(b,e,l);const s={};8&l[0]&&(s.show=e[3]),2097152&l[0]&&(s.x=e[21]),4194304&l[0]&&(s.y=e[22]),12&l[0]&&(s.items=[{label:"SMS til giver",icon:"/images/sms.png",action:e[56]},{label:"SMS til henter",icon:"/images/sms.png",action:e[57]},{label:"Sett status",icon:"/images/wrench.png",action:e[58]},{label:"Vis på kart",icon:"/images/map.png",action:e[59]}]),d.$set(s);const o={};if(16&l[0]&&(o.show=e[4]),2097152&l[0]&&(o.x=e[21]),4194304&l[0]&&(o.y=e[22]),65555&l[0]&&(o.items=[{label:"Hentere",icon:"/images/smallcar.png",action:e[60]},{label:"Oppdater data",icon:"/images/wrench.png",action:e[61]},{label:"Merk alle",icon:"/images/check.png",action:e[62]},{label:"Fjern merking",icon:"/images/nocheck.png",action:e[63]},{label:"Tom SMS",icon:"/images/sms.png",action:e[64]}]),f.$set(o),8388608&l[0]){let n;for(k=e[23],n=0;n<k.length;n+=1){const s=mn(e,k,n);$[n]?($[n].p(s,l),ve($[n],1)):($[n]=Rn(s),$[n].c(),ve($[n],1),$[n].m(t,null))}for(me(),n=k.length;n<$.length;n+=1)x(n);he()}},i(e){if(!m){ve(b.block),ve(d.$$.fragment,e),ve(f.$$.fragment,e);for(let e=0;e<k.length;e+=1)ve($[e]);m=!0}},o(e){for(let e=0;e<3;e+=1){be(b.blocks[e])}be(d.$$.fragment,e),be(f.$$.fragment,e),$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)be($[e]);m=!1},d(e){e&&w(t),b.block.d(),b.token=null,b=null,Ae(d),Ae(f),_($,e),h=!1,o(v)}}}let Dn=!0;function Mn(e,t,n){let l,s;u(e,kt,e=>n(24,l=e)),u(e,bt,e=>n(70,s=e));let o,c,r,i,a="",d=!1,p=!1,f=!1,g=!1,m=T(),h="",v=!0,b=!0,k=!0,$=!0,x=!0,S=!1,y="",E=[],A=[],w="",_=!0,N=0,C=0,O=[];async function T(e){let t=await fetch(`${Re}/prefs`);if(n(14,o=await t.json()),n(15,c=o.cols),(t=await fetch(`${Re}/jobs`+(e?"?refresh=1":""))).ok){let e=await t.json();return e.sort((e,t)=>e[c.ADDRESS]<t[c.ADDRESS]?-1:1),kt.set(e),!0}{let e=await t.text();throw console.log(e),new Error("Ingen tilgang")}}function j(){n(5,m=T(!0))}function R(e){let t=e.detail;t.selected&&-1===E.indexOf(t.jobnr)?n(16,E=[...E,t.jobnr]):!t.selected&&E.indexOf(t.jobnr)>-1&&(E.splice(E.indexOf(t.jobnr),1),n(16,E))}function I(e){if(f)n(3,f=!1);else{let t,l=e;for(;l&&!t&&l.getAttribute;)t=l.getAttribute("data-id"),l=l.parentNode;t&&-1===E.indexOf(t)&&R({detail:{selected:!0,jobnr:t}}),(t||E.length)&&n(3,f=!0)}}function D(e){let t=!1;if(!f&&!g)return;let l=e.target;for(console.log(l,l.className);l;)l.className&&l.className.indexOf("menu")>-1&&(t=!0),l=l.parentNode;t||(n(3,f=!1),n(4,g=!1))}function M(e){f||g||(n(21,N=event.clientX),N<.2*window.innerWidth&&n(21,N+=.1*window.innerWidth),N>=window.innerWidth-200&&n(21,N-=200),n(22,C=event.clientY))}function B(e,t){n(23,O=[...O,{message:e,isError:t}]),setTimeout(()=>n(23,O=O.slice(0,O.length-1)),5e3)}function U(e){n(3,f=!1);let t=E.map(e=>l.find(t=>t[c.JOBNR]===e));"donor"===e?(n(17,r=t.map(e=>({name:e[c.CONTACT_PERSON],number:e[c.PHONE],address:e[c.ADDRESS]}))),n(18,A=t.map(e=>e[c.PHONE])),n(0,a=e)):(n(17,r=s),n(19,w="Hei, foreslår at du henter følgende jobb(er): \n\n"+t.map(e=>`${e[c.ADDRESS]}\n${e[c.CONTACT_PERSON]}, ${e[c.PHONE]}`).join("\n\n")),n(19,w+=`\n\nMerk jobber som hentet her etterpå:\n${je}/henting/?jobb=${encodeURIComponent(t.map(e=>(function(e){return e.split(/\//g).splice(-2).join("/")})(e[c.JOBNR])).join(","))}&token=${encodeURIComponent(i)}&henter={number}`),n(0,a=e))}function H(){n(16,E.length=0,E),l.forEach(e=>{yt(h,{smallActive:b,bigActive:v},{monActive:Dn,tueActive:k,wedActive:$,thuActive:x,dayFilterExclusive:S},y,_,bt,e,c)&&E.push(e[c.JOBNR])})}function P(){let e=Ie+E.map(e=>{return l.find(t=>t[c.JOBNR]===e)[c.ADDRESS]}).join("/");window.open(e)}(async function(){const e=await fetch(`${Re}/helpertoken`);return(await e.json()).token})().then(e=>i=e),kt.subscribe(e=>{console.log("updated data! ",e)});return[a,d,p,f,g,m,h,v,b,k,$,x,S,y,o,c,E,r,A,w,_,N,C,O,l,j,R,I,D,M,B,U,H,P,e=>{n(4,g=!0)},function(){h=this.value,n(6,h)},e=>n(7,v=!v),e=>n(8,b=!b),function(){y=J(this),n(13,y),n(14,o)},e=>n(9,k=!k),e=>n(10,$=!$),e=>n(11,x=!x),function(){S=this.checked,n(12,S)},function(){_=this.checked,n(20,_)},e=>R(e),e=>"Hentes"===e[c.STATUS],e=>"Hentet"===e[c.STATUS],e=>"Hentes ikke"===e[c.STATUS],e=>{n(0,a=""),n(19,w=""),n(17,r=null)},e=>{(function(e,t){let n;return e=e.map(e=>"47"+(e=e.replace(/\s/g,""))).join(","),t.indexOf("{number}")&&(t=t.replace(/\{number\}/g,"[%1%]"),n=e.split(/,/g).join("|")),fetch(Re+"/sendsms",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({to:e,from:$t,message:t,param1:n})}).then(e=>e.json()).then(e=>{if(console.log(e),e.error)throw new Error(e.message);return e})})(e.detail.recipients,e.detail.message).then(()=>B("SMS sendt til "+e.detail.recipients)).catch(e=>B(e,!0)),n(19,w=""),n(17,r=null),n(0,a="")},()=>n(0,a=""),e=>{n(1,d=!1)},()=>n(1,d=!1),e=>{n(2,p=!1)},e=>{e.detail.newState&&E.forEach(t=>{l.find(e=>e[c.JOBNR]===t)[c.ASSIGNEE]||xt(t,{status:e.detail.newState})}),n(2,p=!1)},()=>n(2,p=!1),e=>U("donor"),e=>U("worker"),e=>(n(2,p=!0),n(3,f=!1)),e=>(P(),n(3,f=!1)),e=>(n(1,d=!0),n(4,g=!1)),e=>(n(4,g=!1),j()),e=>(n(4,g=!1),H()),e=>(n(4,g=!1),n(16,E.length=0,E)),e=>(n(4,g=!1),n(0,a="new")),e=>{I(e.target)},e=>D(e),e=>M(),e=>M()]}class Bn extends Ne{constructor(e){super(),_e(this,e,Mn,In,r,{},null,[-1,-1,-1])}}function Un(e,t,n){const l=e.slice();return l[18]=t[n],l[19]=t,l[20]=n,l}function Hn(t){let n,l,s=t[21].message+"";return{c(){n=N("p"),l=C(s),U(n,"color","red")},m(e,t){A(e,n,t),S(n,l)},p(e,t){2&t&&s!==(s=e[21].message+"")&&M(l,s)},i:e,o:e,d(e){e&&w(n)}}}function Pn(e){let t,n,l,s,o,c,r,i,a,u,d=e[3].length>1&&Jn(e),p=e[3],f=[];for(let t=0;t<p.length;t+=1)f[t]=Zn(Un(e,p,t));const g=e=>be(f[e],1,1,()=>{f[e]=null});return{c(){(t=N("h1")).textContent="Hentinger",n=O(),d&&d.c(),l=O();for(let e=0;e<f.length;e+=1)f[e].c();s=O(),o=N("hr"),c=O(),(r=N("button")).textContent="Alle mine jobber",D(t,"class","svelte-1l2x28v"),D(r,"class","p8 br2 svelte-1l2x28v")},m(p,g){A(p,t,g),A(p,n,g),d&&d.m(p,g),A(p,l,g);for(let e=0;e<f.length;e+=1)f[e].m(p,g);A(p,s,g),A(p,o,g),A(p,c,g),A(p,r,g),i=!0,a||(u=j(r,"click",e[14]),a=!0)},p(e,t){if(e[3].length>1?d?d.p(e,t):((d=Jn(e)).c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null),45&t){let n;for(p=e[3],n=0;n<p.length;n+=1){const l=Un(e,p,n);f[n]?(f[n].p(l,t),ve(f[n],1)):(f[n]=Zn(l),f[n].c(),ve(f[n],1),f[n].m(s.parentNode,s))}for(me(),n=p.length;n<f.length;n+=1)g(n);he()}},i(e){if(!i){for(let e=0;e<p.length;e+=1)ve(f[e]);i=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)be(f[e]);i=!1},d(e){e&&w(t),e&&w(n),d&&d.d(e),e&&w(l),_(f,e),e&&w(s),e&&w(o),e&&w(c),e&&w(r),a=!1,u()}}}function Jn(e){let t,n,l,s,o,c,r;return{c(){t=N("p"),n=N("a"),l=C("Kart med alle adresser: "),s=N("br"),a((o=N("img")).src,c="/images/map.png")||D(o,"src","/images/map.png"),D(o,"alt","alle adresser i kart"),D(o,"width","36"),D(n,"href",r=Ie+e[3].map(e[6]).join("/")),D(n,"target","_blank"),D(t,"class","commonmap svelte-1l2x28v")},m(e,c){A(e,t,c),S(t,n),S(n,l),S(n,s),S(n,o)},p(e,t){12&t&&r!==(r=Ie+e[3].map(e[6]).join("/"))&&D(n,"href",r)},d(e){e&&w(t)}}}function Gn(e){let t,n,l;return n=new mt({}),{c(){t=N("div"),ye(n.$$.fragment),D(t,"class","loading svelte-1l2x28v")},m(e,s){A(e,t,s),Ee(n,t,null),l=!0},i(e){l||(ve(n.$$.fragment,e),l=!0)},o(e){be(n.$$.fragment,e),l=!1},d(e){e&&w(t),Ae(n)}}}function qn(e){let t,n,l,s,o=e[18][e[2].cols.DESC]+"";return{c(){t=N("p"),(n=N("b")).textContent="Om loppene: ",l=N("i"),s=C(o),D(n,"class","svelte-1l2x28v"),D(l,"class","svelte-1l2x28v"),D(t,"class","svelte-1l2x28v")},m(e,o){A(e,t,o),S(t,n),S(t,l),S(l,s)},p(e,t){12&t&&o!==(o=e[18][e[2].cols.DESC]+"")&&M(s,o)},d(e){e&&w(t)}}}function Ln(e){let t,n,l,s;const o=[Yn,zn],c=[];function r(e,t){return"Hentes"===e[18][e[2].cols.STATUS]?0:"Hentet"===e[18][e[2].cols.STATUS]?1:-1}return~(t=r(e))&&(n=c[t]=o[t](e)),{c(){n&&n.c(),l=T()},m(e,n){~t&&c[t].m(e,n),A(e,l,n),s=!0},p(e,s){let i=t;(t=r(e))!==i&&(n&&(me(),be(c[i],1,1,()=>{c[i]=null}),he()),~t?((n=c[t])||(n=c[t]=o[t](e)).c(),ve(n,1),n.m(l.parentNode,l)):n=null)},i(e){s||(ve(n),s=!0)},o(e){be(n),s=!1},d(e){~t&&c[t].d(e),e&&w(l)}}}function zn(e){let t,n,l,s,o;return{c(){t=N("br"),n=O(),(l=N("em")).innerHTML="<br/>★ ★ ☺  Takk for at du hentet!  ☺ ★ ★"},m(e,s){A(e,t,s),A(e,n,s),A(e,l,s),o=!0},i(e){o||(ce(()=>{s||(s=$e(l,Oe,{},!0)),s.run(1)}),o=!0)},o(e){s||(s=$e(l,Oe,{},!1)),s.run(0),o=!1},d(e){e&&w(t),e&&w(n),e&&w(l),e&&s&&s.end()}}}function Yn(e){let t,n,l,s,o;return{c(){t=N("br"),n=O(),(l=N("em")).innerHTML="<br/>★ ★ ☺   Du har tatt på deg jobben - takk!  ☺ ★ ★"},m(e,s){A(e,t,s),A(e,n,s),A(e,l,s),o=!0},i(e){o||(ce(()=>{s||(s=$e(l,Oe,{},!0)),s.run(1)}),o=!0)},o(e){s||(s=$e(l,Oe,{},!1)),s.run(0),o=!1},d(e){e&&w(t),e&&w(n),e&&w(l),e&&s&&s.end()}}}function Kn(e){let t,n,l,s,o,c,r,i,a,u=St(e[18][e[2].cols.ASSIGNEE])+"";return{c(){t=N("br"),n=O(),l=N("em"),s=N("b"),o=C("Merk: jobben er akseptert av en annen. Sjekk med "),c=N("a"),r=C(u),a=C(" om du vurderer å hente."),D(c,"href",i="tel:"+St(e[18][e[2].cols.ASSIGNEE])),D(s,"class","svelte-1l2x28v")},m(e,i){A(e,t,i),A(e,n,i),A(e,l,i),S(l,s),S(s,o),S(s,c),S(c,r),S(s,a)},p(e,t){12&t&&u!==(u=St(e[18][e[2].cols.ASSIGNEE])+"")&&M(r,u),12&t&&i!==(i="tel:"+St(e[18][e[2].cols.ASSIGNEE]))&&D(c,"href",i)},d(e){e&&w(t),e&&w(n),e&&w(l)}}}function Vn(e){let t,n,l;function s(...t){return e[13](e[18],...t)}return{c(){(t=N("button")).textContent="Vi tar jobben!",D(t,"class","p8 br2 svelte-1l2x28v")},m(e,o){A(e,t,o),n||(l=j(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&w(t),n=!1,l()}}}function Fn(e){let t,n,l,s,c,r,i;function a(...t){return e[10](e[18],...t)}function u(...t){return e[11](e[18],...t)}function d(...t){return e[12](e[18],...t)}return{c(){(t=N("button")).textContent="Ferdig hentet!",n=O(),(l=N("button")).textContent="Vi rekker ikke å hente likevel",s=O(),(c=N("button")).textContent="Jobben skal ikke hentes",D(t,"class","p8 br2 svelte-1l2x28v"),D(l,"class","p8 br2 svelte-1l2x28v"),D(c,"class","p8 br2 svelte-1l2x28v")},m(e,o){A(e,t,o),A(e,n,o),A(e,l,o),A(e,s,o),A(e,c,o),r||(i=[j(t,"click",a),j(l,"click",u),j(c,"click",d)],r=!0)},p(t,n){e=t},d(e){e&&w(t),e&&w(n),e&&w(l),e&&w(s),e&&w(c),r=!1,o(i)}}}function Zn(e){let t,n,l,s,c,r,i,u,d,p,f,g,m,v,b,k,$,x,y,E,_,T,R,I,U,H,P,J,G,q,L,z,Y,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,ce,re,ie,ae,ue,de,pe,fe,ge,ke,$e,xe=e[18][e[2].cols.ADDRESS]+"",Se=e[18][e[2].cols.JOBNR]+"",we=e[18][e[2].cols.STATUS]+"",_e=e[18].loading&&Gn();_=new ot({props:{name:e[18][e[2].cols.CONTACT_PERSON],number:e[18][e[2].cols.PHONE]}}),P=new Ke({props:{types:e[18][e[2].cols.TYPES],showAll:!0}});let Ne=e[18][e[2].cols.DESC]&&qn(e);function Ce(){e[8].call(W,e[19],e[20])}function Oe(...t){return e[9](e[18],...t)}(Y=new pt({props:{qualityRanking:e[18][e[2].cols.QUALITY]}})).$on("qualityupdate",function(...t){return e[7](e[18],...t)});let Te=e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]===e[0].henter&&Ln(e),je=e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]!==e[0].henter&&Kn(e);function Re(e,t){return e[18][e[2].cols.ASSIGNEE]===e[0].henter&&"Hentes"===e[18][e[2].cols.STATUS]?Fn:Vn}let De=Re(e),Me=De(e);return{c(){_e&&_e.c(),t=O(),n=N("section"),l=N("p"),(s=N("b")).textContent="Adresse:",c=O(),r=N("span"),i=C(xe),u=O(),d=N("a"),p=N("img"),m=O(),v=N("span"),b=C(Se),k=O(),$=N("p"),(x=N("b")).textContent="Kontaktperson:",y=O(),E=N("span"),ye(_.$$.fragment),T=O(),R=N("p"),(I=N("b")).textContent="Typer:",U=O(),H=N("span"),ye(P.$$.fragment),J=O(),Ne&&Ne.c(),G=O(),q=N("p"),(L=N("b")).textContent="Estimert kvalitet: ",z=N("span"),ye(Y.$$.fragment),K=O(),V=N("p"),(F=N("b")).textContent="Administrators/henteres kommentarer:",Z=O(),Q=N("span"),W=N("textarea"),X=O(),ee=N("p"),(te=N("b")).textContent="Status: ",ne=N("span"),le=N("em"),se=C(we),oe=O(),ce=N("br"),re=O(),Te&&Te.c(),ie=O(),je&&je.c(),ae=O(),ue=N("p"),(de=N("b")).textContent="Oppdater status:",pe=N("span"),Me.c(),D(s,"class","svelte-1l2x28v"),a(p.src,f="/images/map.png")||D(p,"src","/images/map.png"),D(p,"alt","adresse i kart"),D(p,"width","24"),D(d,"href",g=Ie+e[18][e[2].cols.ADDRESS]),D(d,"target","_blank"),D(r,"class","svelte-1l2x28v"),D(v,"class","jobnr svelte-1l2x28v"),D(l,"class","svelte-1l2x28v"),D(x,"class","svelte-1l2x28v"),D(E,"class","svelte-1l2x28v"),D($,"class","svelte-1l2x28v"),D(I,"class","svelte-1l2x28v"),D(H,"class","svelte-1l2x28v"),D(R,"class","hideondone svelte-1l2x28v"),D(L,"class","svelte-1l2x28v"),D(z,"class","svelte-1l2x28v"),D(q,"class","hideondone svelte-1l2x28v"),D(F,"class","svelte-1l2x28v"),D(W,"class","svelte-1l2x28v"),D(Q,"class","svelte-1l2x28v"),D(V,"class","hideondone svelte-1l2x28v"),D(te,"class","svelte-1l2x28v"),D(ne,"class","svelte-1l2x28v"),D(ee,"class","svelte-1l2x28v"),D(de,"class","svelte-1l2x28v"),D(pe,"class","svelte-1l2x28v"),D(ue,"class","hideondone svelte-1l2x28v"),D(n,"class",fe=h(e[18][e[2].cols.STATUS])+" svelte-1l2x28v")},m(o,a){_e&&_e.m(o,a),A(o,t,a),A(o,n,a),S(n,l),S(l,s),S(l,c),S(l,r),S(r,i),S(r,u),S(r,d),S(d,p),S(l,m),S(l,v),S(v,b),S(n,k),S(n,$),S($,x),S($,y),S($,E),Ee(_,E,null),S(n,T),S(n,R),S(R,I),S(R,U),S(R,H),Ee(P,H,null),S(n,J),Ne&&Ne.m(n,null),S(n,G),S(n,q),S(q,L),S(q,z),Ee(Y,z,null),S(n,K),S(n,V),S(V,F),S(V,Z),S(V,Q),S(Q,W),B(W,e[18][e[2].cols.ADMCOMMENT]),S(n,X),S(n,ee),S(ee,te),S(ee,ne),S(ne,le),S(le,se),S(ne,oe),S(ne,ce),S(ne,re),Te&&Te.m(ne,null),S(ne,ie),je&&je.m(ne,null),S(n,ae),S(n,ue),S(ue,de),S(ue,pe),Me.m(pe,null),ge=!0,ke||($e=[j(W,"input",Ce),j(W,"change",Oe)],ke=!0)},p(l,s){(e=l)[18].loading?_e?8&s&&ve(_e,1):((_e=Gn()).c(),ve(_e,1),_e.m(t.parentNode,t)):_e&&(me(),be(_e,1,1,()=>{_e=null}),he()),(!ge||12&s)&&xe!==(xe=e[18][e[2].cols.ADDRESS]+"")&&M(i,xe),(!ge||12&s&&g!==(g=Ie+e[18][e[2].cols.ADDRESS]))&&D(d,"href",g),(!ge||12&s)&&Se!==(Se=e[18][e[2].cols.JOBNR]+"")&&M(b,Se);const o={};12&s&&(o.name=e[18][e[2].cols.CONTACT_PERSON]),12&s&&(o.number=e[18][e[2].cols.PHONE]),_.$set(o);const c={};12&s&&(c.types=e[18][e[2].cols.TYPES]),P.$set(c),e[18][e[2].cols.DESC]?Ne?Ne.p(e,s):((Ne=qn(e)).c(),Ne.m(n,G)):Ne&&(Ne.d(1),Ne=null);const r={};12&s&&(r.qualityRanking=e[18][e[2].cols.QUALITY]),Y.$set(r),12&s&&B(W,e[18][e[2].cols.ADMCOMMENT]),(!ge||12&s)&&we!==(we=e[18][e[2].cols.STATUS]+"")&&M(se,we),e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]===e[0].henter?Te?(Te.p(e,s),13&s&&ve(Te,1)):((Te=Ln(e)).c(),ve(Te,1),Te.m(ne,ie)):Te&&(me(),be(Te,1,1,()=>{Te=null}),he()),e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]!==e[0].henter?je?je.p(e,s):((je=Kn(e)).c(),je.m(ne,null)):je&&(je.d(1),je=null),De===(De=Re(e))&&Me?Me.p(e,s):(Me.d(1),(Me=De(e))&&(Me.c(),Me.m(pe,null))),(!ge||12&s&&fe!==(fe=h(e[18][e[2].cols.STATUS])+" svelte-1l2x28v"))&&D(n,"class",fe)},i(e){ge||(ve(_e),ve(_.$$.fragment,e),ve(P.$$.fragment,e),ve(Y.$$.fragment,e),ve(Te),ge=!0)},o(e){be(_e),be(_.$$.fragment,e),be(P.$$.fragment,e),be(Y.$$.fragment,e),be(Te),ge=!1},d(e){_e&&_e.d(e),e&&w(t),e&&w(n),Ae(_),Ae(P),Ne&&Ne.d(),Ae(Y),Te&&Te.d(),je&&je.d(),Me.d(),ke=!1,o($e)}}}function Qn(t){let n,l,s;return l=new mt({}),{c(){n=N("div"),ye(l.$$.fragment),D(n,"class","loading svelte-1l2x28v")},m(e,t){A(e,n,t),Ee(l,n,null),s=!0},p:e,i(e){s||(ve(l.$$.fragment,e),s=!0)},o(e){be(l.$$.fragment,e),s=!1},d(e){e&&w(n),Ae(l)}}}function Wn(e){let t,n,l,s={ctx:e,current:null,token:null,hasCatch:!0,pending:Qn,then:Pn,catch:Hn,value:17,error:21,blocks:[,,,]};return xe(n=e[1],s),{c(){t=T(),s.block.c()},m(e,n){A(e,t,n),s.block.m(e,s.anchor=n),s.mount=(()=>t.parentNode),s.anchor=t,l=!0},p(t,[l]){e=t,s.ctx=e,2&l&&n!==(n=e[1])&&xe(n,s)||Se(s,e,l)},i(e){l||(ve(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){be(s.blocks[e])}l=!1},d(e){e&&w(t),s.block.d(e),s.token=null,s=null}}}function Xn(e,t,n){let l,s,o,c;function r(e){return(e=e.sort((e,t)=>e[c.cols.ADDRESS]<t[c.cols.ADDRESS]?-1:1)).forEach(e=>{e.oldStatus="Hentes"===e[c.cols.STATUS]?null:e[c.cols.STATUS]}),e}async function i(e,t){const n=await fetch(`${Re}/byperson/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`);let l=await n.json();if(!n.ok){let e=await n.text();throw console.log(e),new Error("Ingen tilgang")}l=r(l),kt.set(l)}function a(e,t){return xt(e,c.cols,t,s.token).catch(e=>alert(e))}u(e,kt,e=>n(3,l=e)),"undefined"!=typeof location&&(s=location.search.substr(1).split(/&/g).map(e=>{let t=e.split(/=/);return{[t[0]]:decodeURIComponent(t[1])}}).reduce((e,t)=>Object.assign(e,t),{})),s&&s.token&&s.jobb&&(o=async function(e,t){let l=await fetch(`${Re}/prefs`);n(2,c=await l.json()),l=await fetch(`${Re}/job/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`);let s=await l.json();if(!l.ok){let e=await l.text();throw console.log(e),new Error("Ingen tilgang")}s=r(s),kt.set(s)}(s.token,s.jobb)),kt.subscribe(e=>{console.log("updated data! ",e)});return[s,o,c,l,i,a,e=>e[c.cols.ADDRESS],(e,t)=>a(e[c.cols.JOBNR],t.detail),function(e,t){e[t][c.cols.ADMCOMMENT]=this.value,kt.set(l),n(2,c)},(e,t)=>a(e[c.cols.JOBNR],{[c.cols.ADMCOMMENT]:t.target.value}),(e,t)=>a(e[c.cols.JOBNR],{[c.cols.STATUS]:"Hentet",[c.cols.ASSIGNEE]:s.henter}),(e,t)=>a(e[c.cols.JOBNR],{[c.cols.STATUS]:e.oldStatus||"Ny",[c.cols.ASSIGNEE]:""}),(e,t)=>a(e[c.cols.JOBNR],{[c.cols.STATUS]:"Hentes ikke",[c.cols.ASSIGNEE]:""}),(e,t)=>a(e[c.cols.JOBNR],{[c.cols.STATUS]:"Hentes",[c.cols.ASSIGNEE]:s.henter}),e=>n(1,o=i(s.token,s.henter))]}class el extends Ne{constructor(e){super(),_e(this,e,Xn,Wn,r,{})}}var tl;if("undefined"!=typeof location){tl=new(0,{"/":Bn,"/henting/":el}[location.pathname])({target:document.body})}else tl=new Bn({target:document.body});return tl}();
//# sourceMappingURL=bundle.js.map
