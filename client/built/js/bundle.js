var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function l(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(l)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c;function a(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function u(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function p(e,t,n){e.$$.on_destroy.push(u(t,n))}function d(e,t,n,l){if(e){const s=g(e,t,n,l);return e[0](s)}}function g(e,t,l,s){return e[1]&&s?n(l.ctx.slice(),e[1](s(t))):l.ctx}function f(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|s[l];return e}return t.dirty|s}return t.dirty}function h(e,t,n,l,s,o){if(s){const r=g(t,n,l,o);e.p(r,s)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function v(e){return null==e?"":e}const b="undefined"!=typeof window;let k=b?()=>window.performance.now():()=>Date.now(),x=b?e=>requestAnimationFrame(e):e;const y=new Set;function $(e){y.forEach((t=>{t.c(e)||(y.delete(t),t.f())})),0!==y.size&&x($)}function S(e,t){e.appendChild(t)}function w(e,t,n){const l=E(e);if(!l.getElementById(t)){const e=C("style");e.id=t,e.textContent=n,j(l,e)}}function E(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function A(e){const t=C("style");return j(E(e),t),t.sheet}function j(e,t){S(e.head||e,t)}function _(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode.removeChild(e)}function N(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function O(e){return document.createTextNode(e)}function R(){return O(" ")}function I(){return O("")}function D(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function M(e){return function(t){return t.preventDefault(),e.call(this,t)}}function U(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function H(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function P(e,t){e.value=null==t?"":t}function q(e,t,n,l){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function J(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}e.selectedIndex=-1}function z(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];l.selected=~t.indexOf(l.__value)}}function L(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function G(e){return[].map.call(e.querySelectorAll(":checked"),(e=>e.__value))}function Y(e,t,n){e.classList[n?"add":"remove"](t)}function K(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,l,t),s}const V=new Map;let F,Z=0;function Q(e,t,n,l,s,o,r,i=0){const c=16.666/l;let a="{\n";for(let e=0;e<=1;e+=c){const l=t+(n-t)*o(e);a+=100*e+`%{${r(l,1-l)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,p=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,d=E(e),{stylesheet:g,rules:f}=V.get(d)||function(e,t){const n={stylesheet:A(t),rules:{}};return V.set(e,n),n}(d,e);f[p]||(f[p]=!0,g.insertRule(`@keyframes ${p} ${u}`,g.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${p} ${l}ms linear ${s}ms 1 both`,Z+=1,p}function W(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-l.length;s&&(e.style.animation=l.join(", "),Z-=s,Z||x((()=>{Z||(V.forEach((e=>{const{stylesheet:t}=e;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.rules={}})),V.clear())})))}function X(e){F=e}function ee(){if(!F)throw new Error("Function called outside component initialization");return F}function te(e){ee().$$.on_mount.push(e)}function ne(){const e=ee();return(t,n,{cancelable:l=!1}={})=>{const s=e.$$.callbacks[t];if(s){const o=K(t,n,{cancelable:l});return s.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function le(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const se=[],oe=[],re=[],ie=[],ce=Promise.resolve();let ae=!1;function ue(e){re.push(e)}const pe=new Set;let de,ge=0;function fe(){const e=F;do{for(;ge<se.length;){const e=se[ge];ge++,X(e),he(e.$$)}for(X(null),se.length=0,ge=0;oe.length;)oe.pop()();for(let e=0;e<re.length;e+=1){const t=re[e];pe.has(t)||(pe.add(t),t())}re.length=0}while(se.length);for(;ie.length;)ie.pop()();ae=!1,pe.clear(),X(e)}function he(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ue)}}function me(e,t,n){e.dispatchEvent(K(`${t?"intro":"outro"}${n}`))}const ve=new Set;let be;function ke(){be={r:0,c:[],p:be}}function xe(){be.r||o(be.c),be=be.p}function ye(e,t){e&&e.i&&(ve.delete(e),e.i(t))}function $e(e,t,n,l){if(e&&e.o){if(ve.has(e))return;ve.add(e),be.c.push((()=>{ve.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}else l&&l()}const Se={duration:0};function we(n,l,s,i){let c=l(n,s),a=i?0:1,u=null,p=null,d=null;function g(){d&&W(n,d)}function f(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(l){const{delay:s=0,duration:r=300,easing:i=t,tick:h=e,css:m}=c||Se,v={start:k()+s,b:l};l||(v.group=be,be.r+=1),u||p?p=v:(m&&(g(),d=Q(n,a,l,r,s,i,m)),l&&h(0,1),u=f(v,r),ue((()=>me(n,l,"start"))),function(e){let t;0===y.size&&x($),new Promise((n=>{y.add(t={c:e,f:n})}))}((e=>{if(p&&e>p.start&&(u=f(p,r),p=null,me(n,u.b,"start"),m&&(g(),d=Q(n,a,u.b,u.duration,0,i,c.css))),u)if(e>=u.end)h(a=u.b,1-a),me(n,u.b,"end"),p||(u.b?g():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;a=u.a+u.d*i(t/u.duration),h(a,1-a)}return!(!u&&!p)})))}return{run(e){r(c)?(de||(de=Promise.resolve(),de.then((()=>{de=null}))),de).then((()=>{c=c(),h(e)})):h(e)},end(){g(),u=p=null}}}function Ee(e,t){const n=t.token={};function l(e,l,s,o){if(t.token!==n)return;t.resolved=o;let r=t.ctx;void 0!==s&&(r=r.slice(),r[s]=o);const i=e&&(t.current=e)(r);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==l&&e&&(ke(),$e(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),xe())})):t.block.d(1),i.c(),ye(i,1),i.m(t.mount(),t.anchor),c=!0),t.block=i,t.blocks&&(t.blocks[l]=i),c&&fe()}if((s=e)&&"object"==typeof s&&"function"==typeof s.then){const n=ee();if(e.then((e=>{X(n),l(t.then,1,t.value,e),X(null)}),(e=>{if(X(n),l(t.catch,2,t.error,e),X(null),!t.hasCatch)throw e})),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}var s}function Ae(e,t,n){const l=t.slice(),{resolved:s}=e;e.current===e.then&&(l[e.value]=s),e.current===e.catch&&(l[e.error]=s),e.block.p(l,n)}function je(e,t){$e(e,1,1,(()=>{t.delete(e.key)}))}function _e(e){e&&e.c()}function Te(e,t,n,s){const{fragment:i,on_mount:c,on_destroy:a,after_update:u}=e.$$;i&&i.m(t,n),s||ue((()=>{const t=c.map(l).filter(r);a?a.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(ue)}function Ne(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t){-1===e.$$.dirty[0]&&(se.push(e),ae||(ae=!0,ce.then(fe)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Oe(t,n,l,r,i,c,a,u=[-1]){const p=F;X(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||p.$$.root};a&&a(d.root);let g=!1;if(d.ctx=l?l(t,n.props||{},((e,n,...l)=>{const s=l.length?l[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=s)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](s),g&&Ce(t,e)),n})):[],d.update(),g=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(T)}else d.fragment&&d.fragment.c();n.intro&&ye(t.$$.fragment),Te(t,n.target,n.anchor,n.customElement),fe()}X(p)}class Re{$destroy(){Ne(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ie=location.protocol+"//"+location.host,De=Ie+"/api",Me="https://www.google.com/maps/dir//",Ue=["","Ny","Kontaktet","Mangler info","Klar til henting","Sendt til henter","Hentes","Hentet","Hentes ikke","Utsettes - neste gang"],He=["Hentet","Hentes ikke","Utsettes - neste gang"],Be="Trenger varebil",Pe="Kan hentes med stasjonsvogn",qe="1-3 kasser";function Je(e){w(e,"svelte-urasfe","ol.svelte-urasfe{list-style-type:none}li.svelte-urasfe{display:inline-block;height:20px;width:20px;color:grey;visibility:hidden;margin-left:8px}li.active.svelte-urasfe{color:black;visibility:visible}")}function ze(e,t,n){const l=e.slice();return l[2]=t[n],l}function Le(e){let t,n,l=e[2]+"";return{c(){t=C("li"),n=O(l),H(t,"class","svelte-urasfe"),Y(t,"active",e[0][e[2]])},m(e,l){_(e,t,l),S(t,n)},p(e,s){1&s&&l!==(l=e[2]+"")&&B(n,l),1&s&&Y(t,"active",e[0][e[2]])},d(e){e&&T(t)}}}function Ge(t){let n,l=Object.keys(t[0]),s=[];for(let e=0;e<l.length;e+=1)s[e]=Le(ze(t,l,e));return{c(){n=C("ol");for(let e=0;e<s.length;e+=1)s[e].c();H(n,"class","svelte-urasfe")},m(e,t){_(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(1&t){let o;for(l=Object.keys(e[0]),o=0;o<l.length;o+=1){const r=ze(e,l,o);s[o]?s[o].p(r,t):(s[o]=Le(r),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){e&&T(n),N(s,e)}}}function Ye(e,t,n){let{days:l}=t,s={Ti:!1,On:!1,To:!1};return l.split(/, ?/g).forEach((e=>{n(0,s[e.substr(0,2)]=!0,s)})),e.$$set=e=>{"days"in e&&n(1,l=e.days)},[s,l]}class Ke extends Re{constructor(e){super(),Oe(this,e,Ye,Ge,i,{days:1},Je)}}function Ve(e,t,n){const l=e.slice();return l[3]=t[n],l}function Fe(e){let t,n,l=e[3]+"";return{c(){t=C("br"),n=O(l)},m(e,l){_(e,t,l),_(e,n,l)},p(e,t){1&t&&l!==(l=e[3]+"")&&B(n,l)},d(e){e&&T(t),e&&T(n)}}}function Ze(e){let t,n,l,s;return{c(){t=C("img"),a(t.src,n=e[2][e[3]])||H(t,"src",n),H(t,"alt",l=e[3]),H(t,"title",s=e[3]),H(t,"height","24")},m(e,n){_(e,t,n)},p(e,o){1&o&&!a(t.src,n=e[2][e[3]])&&H(t,"src",n),1&o&&l!==(l=e[3])&&H(t,"alt",l),1&o&&s!==(s=e[3])&&H(t,"title",s)},d(e){e&&T(t)}}}function Qe(e){let t;function n(e,t){return e[2][e[3]]?Ze:e[1]?Fe:void 0}let l=n(e),s=l&&l(e);return{c(){s&&s.c(),t=I()},m(e,n){s&&s.m(e,n),_(e,t,n)},p(e,o){l===(l=n(e))&&s?s.p(e,o):(s&&s.d(1),s=l&&l(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s&&s.d(e),e&&T(t)}}}function We(t){let n,l=t[0],s=[];for(let e=0;e<l.length;e+=1)s[e]=Qe(Ve(t,l,e));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();n=I()},m(e,t){for(let n=0;n<s.length;n+=1)s[n].m(e,t);_(e,n,t)},p(e,[t]){if(7&t){let o;for(l=e[0],o=0;o<l.length;o+=1){const r=Ve(e,l,o);s[o]?s[o].p(r,t):(s[o]=Qe(r),s[o].c(),s[o].m(n.parentNode,n))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){N(s,e),e&&T(n)}}}function Xe(e,t,n){let{types:l=[]}=t,{showAll:s=!1}=t;var o;return o=()=>{"string"==typeof l&&n(0,l=l.split(/,\s+/g))},ee().$$.before_update.push(o),l=l.split(/,\s+/g),e.$$set=e=>{"types"in e&&n(0,l=e.types),"showAll"in e&&n(1,s=e.showAll)},[l,s,{"Møbler":"/images/mobler.png","Bøker":"/images/boker.png",Musikk:"/images/musikk.png","Klær":"/images/klaer.png",Film:"/images/film.png",Sykler:"/images/sykkel.png",Elektrisk:"/images/elektrisk.png",Sportsutstyr:"/images/sport.png","Kjøkkenutstyr":"/images/kjokken.png",Leker:"/images/leker.png"}]}class et extends Re{constructor(e){super(),Oe(this,e,Xe,We,i,{types:0,showAll:1})}}function tt(e){w(e,"svelte-txoeo",".modal-background.svelte-txoeo{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.3);z-index:11}.modal.svelte-txoeo{position:fixed;left:50%;top:50%;width:calc(100vw - 4em);max-width:32em;max-height:calc(100vh - 4em);overflow:auto;transform:translate(-50%,-50%);padding:1em;border-radius:0.2em;background:white;z-index:12}")}const nt=e=>({}),lt=e=>({});function st(e){let t,n,l,s,o,r,i,c,a,u,p;const g=e[3].header,v=d(g,e,e[2],lt),b=e[3].default,k=d(b,e,e[2],null);return{c(){t=C("div"),n=R(),l=C("div"),v&&v.c(),s=R(),o=C("hr"),r=R(),k&&k.c(),i=R(),c=C("hr"),H(t,"class","modal-background svelte-txoeo"),H(l,"class","modal svelte-txoeo")},m(d,g){_(d,t,g),_(d,n,g),_(d,l,g),v&&v.m(l,null),S(l,s),S(l,o),S(l,r),k&&k.m(l,null),S(l,i),S(l,c),e[5](l),a=!0,u||(p=D(t,"click",U(e[4])),u=!0)},p(e,[t]){v&&v.p&&(!a||4&t)&&h(v,g,e,e[2],a?f(g,e[2],t,nt):m(e[2]),lt),k&&k.p&&(!a||4&t)&&h(k,b,e,e[2],a?f(b,e[2],t,null):m(e[2]),null)},i(e){a||(ye(v,e),ye(k,e),a=!0)},o(e){$e(v,e),$e(k,e),a=!1},d(s){s&&T(t),s&&T(n),s&&T(l),v&&v.d(s),k&&k.d(s),e[5](null),u=!1,p()}}}function ot(e,t,n){let{$$slots:l={},$$scope:s}=t;const o=ne();let r,i;var c;te((()=>{r&&r.scrollIntoView&&r.scrollIntoView(),r&&r.querySelector&&(i=document.activeElement,r.querySelector("input, select, textarea, button").focus())})),c=()=>{i&&i.focus&&i.focus()},ee().$$.on_destroy.push(c);return e.$$set=e=>{"$$scope"in e&&n(2,s=e.$$scope)},[r,o,s,l,()=>o("close"),function(e){oe[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class rt extends Re{constructor(e){super(),Oe(this,e,ot,st,i,{},tt)}}function it(e){w(e,"svelte-1hgccn9","form.svelte-1hgccn9.svelte-1hgccn9{display:table;width:90%;margin-left:5%\n\t}p.svelte-1hgccn9.svelte-1hgccn9{display:table-row;width:100%;margin-top:8px}span.svelte-1hgccn9.svelte-1hgccn9{display:table-cell;vertical-align:top;padding-top:8px}span.svelte-1hgccn9.svelte-1hgccn9:first-child{width:30%}span.svelte-1hgccn9>input.svelte-1hgccn9,span.svelte-1hgccn9>textarea.svelte-1hgccn9,span.svelte-1hgccn9>select.svelte-1hgccn9{width:100%}span.svelte-1hgccn9 button.svelte-1hgccn9{width:40%}span.svelte-1hgccn9 button.svelte-1hgccn9:nth-child(2){margin-left:8px}textarea.svelte-1hgccn9.svelte-1hgccn9{height:100px}input.svelte-1hgccn9.svelte-1hgccn9,textarea.svelte-1hgccn9.svelte-1hgccn9,select.svelte-1hgccn9.svelte-1hgccn9{font-size:1em}span.svelte-1hgccn9 label.svelte-1hgccn9{display:block;width:45%;float:left}span.svelte-1hgccn9 label img.svelte-1hgccn9{vertical-align:bottom}")}function ct(t){let n,l,s,r,i,c,u,p,d,g,f,h,m,v,b,k,x,y,$,w,E,A,j,N,O,I,U,B,q,J,L,G,Y,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,re,ie,ce,ae,pe,de,ge,fe,he;return{c(){n=C("form"),l=C("p"),s=C("span"),s.textContent="Mobilnummer:",r=C("span"),i=C("input"),c=R(),u=C("p"),p=C("span"),p.textContent="Adresse for henting:",d=C("span"),g=C("textarea"),f=R(),h=C("p"),m=C("span"),m.textContent="Om loppene:",v=C("span"),b=C("textarea"),k=R(),x=C("p"),y=C("span"),y.textContent="Hentetidspunkt:",$=C("span"),w=C("select"),E=C("option"),E.textContent="Tirsdag kveld",A=C("option"),A.textContent="Onsdag kveld",j=C("option"),j.textContent="Torsdag kveld",N=R(),O=C("p"),I=C("span"),I.textContent="Type bil:",U=R(),B=C("span"),q=C("label"),J=C("input"),L=R(),G=C("img"),K=R(),V=C("label"),F=C("input"),Z=R(),Q=C("img"),X=R(),ee=C("label"),te=C("input"),ne=R(),le=C("img"),oe=R(),re=C("p"),ie=C("span"),ce=R(),ae=C("span"),pe=C("button"),pe.textContent="Oppdater",de=R(),ge=C("button"),ge.textContent="Avbryt",H(s,"class","svelte-1hgccn9"),H(i,"inputmode","tel"),H(i,"class","svelte-1hgccn9"),H(r,"class","svelte-1hgccn9"),H(l,"class","svelte-1hgccn9"),H(p,"class","svelte-1hgccn9"),H(g,"class","svelte-1hgccn9"),H(d,"class","svelte-1hgccn9"),H(u,"class","svelte-1hgccn9"),H(m,"class","svelte-1hgccn9"),H(b,"class","svelte-1hgccn9"),H(v,"class","svelte-1hgccn9"),H(h,"class","svelte-1hgccn9"),H(y,"class","svelte-1hgccn9"),E.__value="Tirsdag kveld",E.value=E.__value,A.__value="Onsdag kveld",A.value=A.__value,j.__value="Torsdag kveld",j.value=j.__value,w.multiple=!0,H(w,"class","svelte-1hgccn9"),void 0===t[2]&&ue((()=>t[12].call(w))),H($,"class","svelte-1hgccn9"),H(x,"class","svelte-1hgccn9"),H(I,"class","svelte-1hgccn9"),H(J,"type","radio"),H(J,"name","size"),J.__value=Be,J.value=J.__value,H(J,"class","svelte-1hgccn9"),t[14][0].push(J),a(G.src,Y="/images/bigcar.png")||H(G,"src","/images/bigcar.png"),H(G,"alt","stor bil"),H(G,"width","36"),H(G,"class","svelte-1hgccn9"),H(q,"class","svelte-1hgccn9"),H(F,"type","radio"),H(F,"name","size"),F.__value=Pe,F.value=F.__value,H(F,"class","svelte-1hgccn9"),t[14][0].push(F),a(Q.src,W="/images/smallcar.png")||H(Q,"src","/images/smallcar.png"),H(Q,"alt","liten bil"),H(Q,"width","36"),H(Q,"class","svelte-1hgccn9"),H(V,"class","svelte-1hgccn9"),H(te,"type","radio"),H(te,"name","size"),te.__value=qe,te.value=te.__value,H(te,"class","svelte-1hgccn9"),t[14][0].push(te),a(le.src,se="/images/box.png")||H(le,"src","/images/box.png"),H(le,"alt","kasser"),H(le,"width","36"),H(le,"class","svelte-1hgccn9"),H(ee,"class","svelte-1hgccn9"),H(B,"class","svelte-1hgccn9"),H(O,"class","svelte-1hgccn9"),H(ie,"class","svelte-1hgccn9"),H(pe,"type","submit"),H(pe,"class","p8 br2 svelte-1hgccn9"),H(ge,"type","button"),H(ge,"class","p8 br2 svelte-1hgccn9"),H(ae,"class","svelte-1hgccn9"),H(re,"class","svelte-1hgccn9"),H(n,"class","svelte-1hgccn9")},m(e,o){_(e,n,o),S(n,l),S(l,s),S(l,r),S(r,i),P(i,t[0]),S(n,c),S(n,u),S(u,p),S(u,d),S(d,g),P(g,t[3]),S(n,f),S(n,h),S(h,m),S(h,v),S(v,b),P(b,t[1]),S(n,k),S(n,x),S(x,y),S(x,$),S($,w),S(w,E),S(w,A),S(w,j),z(w,t[2]),S(n,N),S(n,O),S(O,I),S(O,U),S(O,B),S(B,q),S(q,J),J.checked=J.__value===t[4],S(q,L),S(q,G),S(B,K),S(B,V),S(V,F),F.checked=F.__value===t[4],S(V,Z),S(V,Q),S(B,X),S(B,ee),S(ee,te),te.checked=te.__value===t[4],S(ee,ne),S(ee,le),S(n,oe),S(n,re),S(re,ie),S(re,ce),S(re,ae),S(ae,pe),S(ae,de),S(ae,ge),fe||(he=[D(i,"input",t[9]),D(g,"input",t[10]),D(b,"input",t[11]),D(w,"change",t[12]),D(J,"change",t[13]),D(F,"change",t[15]),D(te,"change",t[16]),D(ge,"click",t[17]),D(n,"submit",M(t[18]))],fe=!0)},p(e,[t]){1&t&&i.value!==e[0]&&P(i,e[0]),8&t&&P(g,e[3]),2&t&&P(b,e[1]),4&t&&z(w,e[2]),16&t&&(J.checked=J.__value===e[4]),16&t&&(F.checked=F.__value===e[4]),16&t&&(te.checked=te.__value===e[4])},i:e,o:e,d(e){e&&T(n),t[14][0].splice(t[14][0].indexOf(J),1),t[14][0].splice(t[14][0].indexOf(F),1),t[14][0].splice(t[14][0].indexOf(te),1),fe=!1,o(he)}}}function at(e,t,n){let{job:l}=t,{cols:s}=t;const o=ne();let r=l[s.PHONE],i=l[s.DESC],c=l[s.PICKUP_DAYS].split(/,\s*/g),a=l[s.ADDRESS],u=l[s.SIZE];function p(){o("update",{[s.PHONE]:r,[s.ADDRESS]:a,[s.DESC]:i,[s.PICKUP_DAYS]:c.join(", "),[s.SIZE]:u})}return e.$$set=e=>{"job"in e&&n(7,l=e.job),"cols"in e&&n(8,s=e.cols)},[r,i,c,a,u,o,p,l,s,function(){r=this.value,n(0,r)},function(){a=this.value,n(3,a)},function(){i=this.value,n(1,i)},function(){c=G(this),n(2,c)},function(){u=this.__value,n(4,u)},[[]],function(){u=this.__value,n(4,u)},function(){u=this.__value,n(4,u)},e=>o("cancel"),e=>p()]}class ut extends Re{constructor(e){super(),Oe(this,e,at,ct,i,{job:7,cols:8},it)}}function pt(e){w(e,"svelte-ablbnc","a.svelte-ablbnc{display:inline-block;padding-right:1em}")}function dt(t){let n,l,s,o,r,i,c,a,u,p,d,g,f,h,m,v,b,k,x,y,$;return{c(){n=O(t[0]),l=R(),s=C("a"),o=O("🔎"),i=R(),c=C("br"),a=R(),u=O(t[1]),p=R(),d=C("a"),g=O("☎"),h=R(),m=C("a"),v=O("✉"),k=R(),x=C("a"),y=O("🔎"),H(s,"href",r="https://www.gulesider.no/"+encodeURIComponent(t[0])+"/personer"),H(s,"target","_blank"),H(s,"title","Slå opp person på Gule sider"),H(s,"class","svelte-ablbnc"),H(d,"href",f="tel:"+t[1]),H(d,"title","Ring nummer"),H(d,"class","svelte-ablbnc"),H(m,"href",b="sms:"+t[1]),H(m,"title","Send SMS"),H(m,"class","svelte-ablbnc"),H(x,"href",$="https://www.gulesider.no/"+t[1]+"/personer"),H(x,"target","_blank"),H(x,"title","slå opp nummer på Gule sider"),H(x,"class","svelte-ablbnc")},m(e,t){_(e,n,t),_(e,l,t),_(e,s,t),S(s,o),_(e,i,t),_(e,c,t),_(e,a,t),_(e,u,t),_(e,p,t),_(e,d,t),S(d,g),_(e,h,t),_(e,m,t),S(m,v),_(e,k,t),_(e,x,t),S(x,y)},p(e,[t]){1&t&&B(n,e[0]),1&t&&r!==(r="https://www.gulesider.no/"+encodeURIComponent(e[0])+"/personer")&&H(s,"href",r),2&t&&B(u,e[1]),2&t&&f!==(f="tel:"+e[1])&&H(d,"href",f),2&t&&b!==(b="sms:"+e[1])&&H(m,"href",b),2&t&&$!==($="https://www.gulesider.no/"+e[1]+"/personer")&&H(x,"href",$)},i:e,o:e,d(e){e&&T(n),e&&T(l),e&&T(s),e&&T(i),e&&T(c),e&&T(a),e&&T(u),e&&T(p),e&&T(d),e&&T(h),e&&T(m),e&&T(k),e&&T(x)}}}function gt(e,t,n){let{name:l}=t,{number:s}=t;return e.$$set=e=>{"name"in e&&n(0,l=e.name),"number"in e&&n(1,s=e.number)},[l,s]}class ft extends Re{constructor(e){super(),Oe(this,e,gt,dt,i,{name:0,number:1},pt)}}function ht(e){w(e,"svelte-ssp047","img.svelte-ssp047{width:16px;height:16px;transition:all .2s ease-in-out}img.svelte-ssp047:hover{transform:scale(1.1)}")}function mt(e,t,n){const l=e.slice();return l[5]=t[n],l[7]=n,l}function vt(e){let t,n,l,s,o;return{c(){t=C("img"),a(t.src,n=e[5])||H(t,"src",n),H(t,"alt",l="poeng: "+e[0]),H(t,"data-index",e[7]),H(t,"class","svelte-ssp047")},m(n,l){_(n,t,l),s||(o=D(t,"click",e[2]),s=!0)},p(e,s){2&s&&!a(t.src,n=e[5])&&H(t,"src",n),1&s&&l!==(l="poeng: "+e[0])&&H(t,"alt",l)},d(e){e&&T(t),s=!1,o()}}}function bt(t){let n,l=t[1],s=[];for(let e=0;e<l.length;e+=1)s[e]=vt(mt(t,l,e));return{c(){n=C("div");for(let e=0;e<s.length;e+=1)s[e].c()},m(e,t){_(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(7&t){let o;for(l=e[1],o=0;o<l.length;o+=1){const r=mt(e,l,o);s[o]?s[o].p(r,t):(s[o]=vt(r),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){e&&T(n),N(s,e)}}}let kt="/images/star-empty.png",xt="/images/star-full.png";function yt(e,t,n){const l=ne();let{qualityRanking:s}=t,{cols:o}=t,r=[];if(""===s||void 0===s||isNaN(s))r=[kt,kt,kt];else{for(let e=0;e<=s;e++)r.push(xt);for(let e=s;e<2;e++)r.push(kt)}return e.$$set=e=>{"qualityRanking"in e&&n(0,s=e.qualityRanking),"cols"in e&&n(3,o=e.cols)},[s,r,function(e){let t=parseInt(e.target.getAttribute("data-index"));n(0,s=t+1),l("qualityupdate",{[o.QUALITY]:t});for(let e=0;e<=t;e++)n(1,r[e]=xt,r);for(let e=t+1;e<r.length;e++)n(1,r[e]=kt,r)},o]}class $t extends Re{constructor(e){super(),Oe(this,e,yt,bt,i,{qualityRanking:0,cols:3},ht)}}function St(e){w(e,"svelte-1sriuqy",'.lds-dual-ring.svelte-1sriuqy{display:inline-block}.lds-dual-ring.svelte-1sriuqy:after{content:" ";display:block;width:26px;height:26px;margin:1px;border-radius:50%;border:5px solid #000;border-color:#000 transparent #000 transparent;animation:svelte-1sriuqy-lds-dual-ring 1.2s linear infinite}@keyframes svelte-1sriuqy-lds-dual-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}')}function wt(t){let n;return{c(){n=C("div"),H(n,"class","lds-dual-ring svelte-1sriuqy"),q(n,"width",t[0]+"px"),q(n,"height",t[1]+"px")},m(e,t){_(e,n,t)},p(e,[t]){1&t&&q(n,"width",e[0]+"px"),2&t&&q(n,"height",e[1]+"px")},i:e,o:e,d(e){e&&T(n)}}}function Et(e,t,n){let{w:l=32}=t,{h:s=32}=t;return e.$$set=e=>{"w"in e&&n(0,l=e.w),"h"in e&&n(1,s=e.h)},[l,s]}class At extends Re{constructor(e){super(),Oe(this,e,Et,wt,i,{w:0,h:1},St)}}const jt=[];function _t(t,n=e){let l;const s=new Set;function o(e){if(i(t,e)&&(t=e,l)){const e=!jt.length;for(const e of s)e[1](),jt.push(e,t);if(e){for(let e=0;e<jt.length;e+=2)jt[e][0](jt[e+1]);jt.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(r,i=e){const c=[r,i];return s.add(c),1===s.size&&(l=n(o)||e),r(t),()=>{s.delete(c),0===s.size&&(l(),l=null)}}}}function Tt(e){return e.replace(/\s*/g,"").substr(-8)}const Nt=_t([]),Ct=_t([]),Ot=_t("street"),Rt=_t(null),It=_t([]),Dt=_t([]),Mt=_t(""),Ut=_t(!0),Ht=_t(!0),Bt=_t(!0),Pt=_t(!0),qt=_t(!0),Jt=_t(!0),zt=_t(!1),Lt=_t(""),Gt=_t(""),Yt=_t(!0),Kt=_t(!1),Vt=function(t,n,l){const s=!Array.isArray(t),i=s?[t]:t,c=n.length<2;return a=t=>{let l=!1;const a=[];let p=0,d=e;const g=()=>{if(p)return;d();const l=n(s?a[0]:a,t);c?t(l):d=r(l)?l:e},f=i.map(((e,t)=>u(e,(e=>{a[t]=e,p&=~(1<<t),l&&g()}),(()=>{p|=1<<t}))));return l=!0,g(),function(){o(f),d()}},{subscribe:_t(l,a).subscribe};var a}([Ct,Ot,Rt,It,Dt,Mt,Ut,Ht,Bt,Pt,qt,Jt,zt,Lt,Gt,Nt,Yt,Kt],(([e,t,n,l,s,o,r,i,c,a,u,p,d,g,f,h,m,v])=>(e||[]).filter((e=>function(e,t,n,l,s,o,r,i,c){if(o&&He.includes(i[c.STATUS]))return!1;if(t.smallActive&&t.mediumActive&&t.bigActive&&n.tueActive&&n.wedActive&&n.thuActive&&!n.dayFilterExclusive&&!e&&!l&&""===s)return!0;if(i[c.SIZE]===Be&&!t.bigActive)return!1;if(i[c.SIZE]===Pe&&!t.mediumActive)return!1;if(i[c.SIZE]===qe&&!t.smallActive)return!1;if(l&&-1===i[c.TYPES].indexOf(l))return!1;if(""!==s&&i[c.QUALITY]!==s)return!1;let a=[{prop:n.tueActive,str:"Tirsdag"},{prop:n.wedActive,str:"Onsdag"},{prop:n.thuActive,str:"Torsdag"}].map((e=>n.dayFilterExclusive?i[c.PICKUP_DAYS].indexOf(e.str)>-1===e.prop:e.prop&&i[c.PICKUP_DAYS].indexOf(e.str)>-1));return a=n.dayFilterExclusive?a.reduce(((e,t)=>e&&t),!0):a.indexOf(!0)>-1,!!a&&(!!(i[c.ASSIGNEE]&&r&&r.length&&e&&r.find((t=>t.name.toLowerCase().indexOf(e.toLowerCase())>-1)))||[c.ADDRESS,c.TYPES,c.CONTACT_PERSON,c.PHONE,c.DESC,c.AREA,c.STATUS,c.ADMCOMMENT,c.ASSIGNEE].map((t=>(i[t]||"").toLowerCase().indexOf(e.toLowerCase())>-1)).indexOf(!0)>-1)}(o,{smallActive:r,mediumActive:i,bigActive:c},{tueActive:a,wedActive:u,thuActive:p,dayFilterExclusive:d},g,f,m,h,e,n))).filter((e=>{if(!v)return!0;if(!s||2!==s.length)return!0;const t=(e[n.COORDS]||"").split(/,/g).map(parseFloat);return!t||2!==t.length||t[0]<s[0][0]&&t[0]>s[1][0]&&t[1]<s[0][1]&&t[1]>s[1][1]})).sort("street"===t?function(e){return function(t,n){return t[e.AREA]?n[e.AREA]?t[e.ADDRESS]<n[e.ADDRESS]?-1:t[e.ADDRESS]>n[e.ADDRESS]?1:0:1:-1}}(n):function(e){return function(t,n){return t[e.AREA]<n[e.AREA]?-1:t[e.AREA]>n[e.AREA]?1:t[e.ADDRESS]<n[e.ADDRESS]?-1:t[e.ADDRESS]>n[e.ADDRESS]?1:0}}(n)).map((e=>(e.selected=l.includes(e[n.JOBNR]),e)))),[]);if("undefined"!=typeof localStorage){let e=localStorage.getItem("drivers");e&&Nt.set(JSON.parse(e)),Nt.subscribe((e=>{localStorage.setItem("drivers",JSON.stringify(e))}))}function Ft(e,t,n,l){Ct.update((l=>{let s=l.find((n=>n[t.JOBNR]===e));s.loading=!0;for(let e in n)s[e]=n[e];return l}));let s=De+"/update/"+e;return l&&(s+="?token="+l),fetch(s,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({details:n})}).then((e=>e.json())).then((n=>(console.log(n),Ct.update((n=>(n.find((n=>n[t.JOBNR]===e)).loading=!1,n))),n))).catch((e=>{confirm("Beklager, kunne ikke oppdatere hentejobben.Sannsynligvis vil det fungere om vi laster sida på nytt, men endringer du prøvde å lagre nå må du gjøre på nytt. Klikk OK for å laste på nytt.")&&location.reload()}))}function Zt(e){w(e,"svelte-9gtksp",'.job.svelte-9gtksp.svelte-9gtksp{margin-bottom:8px;border-top:1px solid grey;border-collapse:collapse}.job.svelte-9gtksp.svelte-9gtksp:hover{background:#eee}td.svelte-9gtksp.svelte-9gtksp{padding-left:16px;padding-right:16px;vertical-align:top}.job.svelte-9gtksp td.svelte-9gtksp:first-child{cursor:pointer;overflow:hidden;text-overflow:ellipsis}.extrainfo.svelte-9gtksp.svelte-9gtksp{border-bottom:1px solid grey}tr.itemSelected.svelte-9gtksp.svelte-9gtksp{font-weight:bold}.statuscell.svelte-9gtksp.svelte-9gtksp{position:relative;cursor:pointer}.cen.svelte-9gtksp.svelte-9gtksp{text-align:center}label.svelte-9gtksp.svelte-9gtksp{cursor:pointer}input[type="checkbox"].svelte-9gtksp.svelte-9gtksp{display:none}input[type="checkbox"].svelte-9gtksp+label.svelte-9gtksp{float:right}input[type="checkbox"].svelte-9gtksp:not(:checked)+label.svelte-9gtksp{color:grey}input[type="checkbox"].svelte-9gtksp:checked+label.svelte-9gtksp{color:black}input[type="checkbox"].svelte-9gtksp:checked+label.svelte-9gtksp:after{content:" ";display:block;width:0;height:0;border-top:30px solid transparent;border-right:30px solid black;transform:rotate(-90deg);position:absolute;top:0;right:0}select.svelte-9gtksp.svelte-9gtksp{max-width:65%;float:left}.smallscreen.svelte-9gtksp.svelte-9gtksp{display:none}@media only screen and (max-width: 600px){td.svelte-9gtksp.svelte-9gtksp:nth-child(3){display:none}td.svelte-9gtksp.svelte-9gtksp:nth-child(4){display:none}td.svelte-9gtksp.svelte-9gtksp:nth-child(5){display:none}.smallscreen.svelte-9gtksp.svelte-9gtksp{display:block}}@media only screen and (max-width: 700px){td.svelte-9gtksp.svelte-9gtksp:nth-child(3){display:none}}button.svelte-9gtksp img.svelte-9gtksp{vertical-align:middle}.loading.svelte-9gtksp.svelte-9gtksp{position:relative}.loading.svelte-9gtksp div.svelte-9gtksp{position:absolute;right:16px;top:8px;z-index:10}.hentesav.svelte-9gtksp.svelte-9gtksp{font-size:x-small;max-width:65%;clear:left}textarea.svelte-9gtksp.svelte-9gtksp{height:150px;width:100%;font-size:1em}.jobnr.svelte-9gtksp.svelte-9gtksp{padding:4px;background:#aaa;margin-left:-14px}small.area.svelte-9gtksp.svelte-9gtksp{font-size:x-small;text-transform:capitalize}')}function Qt(e,t,n){const l=e.slice();return l[26]=t[n],l}function Wt(e){let t,n,l;return n=new At({props:{w:"24",h:"24"}}),{c(){t=C("div"),_e(n.$$.fragment),H(t,"class","svelte-9gtksp")},m(e,s){_(e,t,s),Te(n,t,null),l=!0},i(e){l||(ye(n.$$.fragment,e),l=!0)},o(e){$e(n.$$.fragment,e),l=!1},d(e){e&&T(t),Ne(n)}}}function Xt(e){let t,n;return{c(){t=C("img"),a(t.src,n="/images/box.png")||H(t,"src","/images/box.png"),H(t,"alt","1-3 bokser"),H(t,"height","22")},m(e,n){_(e,t,n)},d(e){e&&T(t)}}}function en(e){let t,n;return{c(){t=C("img"),a(t.src,n="/images/smallcar.png")||H(t,"src","/images/smallcar.png"),H(t,"alt","stasjonsvogn"),H(t,"height","22")},m(e,n){_(e,t,n)},d(e){e&&T(t)}}}function tn(e){let t,n;return{c(){t=C("img"),a(t.src,n="/images/bigcar.png")||H(t,"src","/images/bigcar.png"),H(t,"alt","varebil"),H(t,"height","22")},m(e,n){_(e,t,n)},d(e){e&&T(t)}}}function nn(t){let n,l,s=t[26]+"";return{c(){n=C("option"),l=O(s),n.__value=t[26],n.value=n.__value},m(e,t){_(e,n,t),S(n,l)},p:e,d(e){e&&T(n)}}}function ln(e){let t,n,l,s,o,r,i,c,a,u,p=e[10](e[0][e[1].ASSIGNEE])+"",d=un(e[0][e[1].STATUS])+"";return{c(){t=C("div"),n=C("a"),l=O(p),o=R(),r=O(d),i=R(),c=C("button"),c.textContent="❌",H(n,"href",s="tel:"+Tt(e[0][e[1].ASSIGNEE])),H(t,"class","hentesav svelte-9gtksp")},m(s,p){_(s,t,p),S(t,n),S(n,l),S(t,o),S(t,r),S(t,i),S(t,c),a||(u=D(c,"click",U(e[18])),a=!0)},p(e,t){3&t&&p!==(p=e[10](e[0][e[1].ASSIGNEE])+"")&&B(l,p),3&t&&s!==(s="tel:"+Tt(e[0][e[1].ASSIGNEE]))&&H(n,"href",s),3&t&&d!==(d=un(e[0][e[1].STATUS])+"")&&B(r,d)},d(e){e&&T(t),a=!1,u()}}}function sn(e){let t,n,l,s,r,i,c,a,u,p,d,g,f,h,m,v,b,k,x,y,$,w,E,A,j,N=e[0][e[1].TYPES]+"",I=e[0][e[1].DESC]+"";s=new ft({props:{name:e[0][e[1].CONTACT_PERSON],number:e[0][e[1].PHONE]}});let M=e[6]&&on(e);return{c(){t=C("tr"),n=C("td"),l=C("td"),_e(s.$$.fragment),r=R(),i=C("p"),c=O(N),a=R(),u=C("p"),p=C("i"),d=O(I),g=R(),f=C("p"),h=C("button"),h.innerHTML='<img src="/images/edit.png" alt="endre detaljer" width="36" class="svelte-9gtksp"/>',m=R(),M&&M.c(),v=R(),b=C("td"),k=O("Kommentarer fra admin/hentere:"),x=C("br"),y=R(),$=C("textarea"),H(n,"class","svelte-9gtksp"),H(h,"class","svelte-9gtksp"),H(f,"class","cen svelte-9gtksp"),H(l,"colspan","3"),H(l,"class","extrainfo svelte-9gtksp"),H($,"class","svelte-9gtksp"),H(b,"colspan","2"),H(b,"class","svelte-9gtksp"),H(t,"data-id",w=e[0][e[1].JOBNR])},m(o,w){_(o,t,w),S(t,n),S(t,l),Te(s,l,null),S(l,r),S(l,i),S(i,c),S(l,a),S(l,u),S(u,p),S(p,d),S(l,g),S(l,f),S(f,h),S(l,m),M&&M.m(l,null),S(t,v),S(t,b),S(b,k),S(b,x),S(b,y),S(b,$),P($,e[0][e[1].ADMCOMMENT]),E=!0,A||(j=[D(h,"click",e[20]),D($,"input",e[23]),D($,"change",e[24])],A=!0)},p(e,n){const o={};3&n&&(o.name=e[0][e[1].CONTACT_PERSON]),3&n&&(o.number=e[0][e[1].PHONE]),s.$set(o),(!E||3&n)&&N!==(N=e[0][e[1].TYPES]+"")&&B(c,N),(!E||3&n)&&I!==(I=e[0][e[1].DESC]+"")&&B(d,I),e[6]?M?(M.p(e,n),64&n&&ye(M,1)):(M=on(e),M.c(),ye(M,1),M.m(l,null)):M&&(ke(),$e(M,1,1,(()=>{M=null})),xe()),3&n&&P($,e[0][e[1].ADMCOMMENT]),(!E||3&n&&w!==(w=e[0][e[1].JOBNR]))&&H(t,"data-id",w)},i(e){E||(ye(s.$$.fragment,e),ye(M),E=!0)},o(e){$e(s.$$.fragment,e),$e(M),E=!1},d(e){e&&T(t),Ne(s),M&&M.d(),A=!1,o(j)}}}function on(e){let t,n;return t=new rt({props:{$$slots:{header:[cn],default:[rn]},$$scope:{ctx:e}}}),t.$on("close",e[22]),{c(){_e(t.$$.fragment)},m(e,l){Te(t,e,l),n=!0},p(e,n){const l={};536870979&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ye(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function rn(e){let t,n;return t=new ut({props:{job:e[0],cols:e[1]}}),t.$on("update",e[9]),t.$on("cancel",e[21]),{c(){_e(t.$$.fragment)},m(e,l){Te(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.job=e[0]),2&n&&(l.cols=e[1]),t.$set(l)},i(e){n||(ye(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function cn(t){let n;return{c(){n=C("h2"),n.textContent="Endre detaljer",H(n,"slot","header")},m(e,t){_(e,n,t)},p:e,d(e){e&&T(n)}}}function an(e){let t,n,l,s,r,i,c,a,u,p,d,g,f,h,m,v,b,k,x,y,$,w,E,A,j,M,P,q,z,L,G,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,re,ie,ce,ae,pe,de,ge=e[0][e[1].JOBNR]+"",fe=e[0][e[1].ADDRESS]+"",he=e[0][e[1].AREA]+"",me=e[0][e[1].PICKUP_DAYS]+"",ve=e[0].loading&&Wt();function be(e,t){return e[0][e[1].SIZE]===Be?tn:e[0][e[1].SIZE]===Pe?en:Xt}let Se=be(e),we=Se(e);M=new et({props:{types:e[0][e[1].TYPES]}}),z=new $t({props:{cols:e[1],qualityRanking:e[3]}}),z.$on("qualityupdate",e[9]),K=new Ke({props:{days:e[2]}});let Ee=Ue,Ae=[];for(let t=0;t<Ee.length;t+=1)Ae[t]=nn(Qt(e,Ee,t));let je=e[0][e[1].ASSIGNEE]&&ln(e),Ce=e[5]&&sn(e);return{c(){t=C("tr"),n=C("td"),l=O(ge),s=R(),r=C("td"),ve&&ve.c(),i=R(),c=O(fe),a=R(),u=C("a"),p=O("🔎"),g=R(),f=C("br"),h=C("small"),m=O(he),v=R(),b=C("br"),k=R(),x=C("div"),y=C("i"),$=O(me),w=R(),E=C("td"),we.c(),A=R(),j=C("td"),_e(M.$$.fragment),P=R(),q=C("td"),_e(z.$$.fragment),L=R(),G=C("td"),_e(K.$$.fragment),V=R(),F=C("td"),Z=C("input"),W=R(),X=C("label"),ee=O("✓"),ne=R(),le=C("select");for(let e=0;e<Ae.length;e+=1)Ae[e].c();oe=R(),je&&je.c(),ie=R(),Ce&&Ce.c(),ce=I(),H(n,"class","jobnr svelte-9gtksp"),H(u,"href",d="https://www.google.no/maps/?q="+encodeURIComponent(e[0][e[1].ADDRESS])),H(u,"target","_blank"),H(h,"class","area svelte-9gtksp"),H(x,"class","smallscreen svelte-9gtksp"),H(r,"tabindex","0"),H(r,"class","svelte-9gtksp"),Y(r,"expanded",e[5]),Y(r,"loading",e[7]),H(E,"class","car svelte-9gtksp"),H(j,"class","typefilter svelte-9gtksp"),H(q,"class","svelte-9gtksp"),H(G,"class","svelte-9gtksp"),H(Z,"type","checkbox"),H(Z,"id",Q="select"+e[0][e[1].JOBNR]),H(Z,"class","svelte-9gtksp"),H(X,"for",te="select"+e[0][e[1].JOBNR]),H(X,"tabindex","0"),H(X,"class","svelte-9gtksp"),le.disabled=se=Boolean(e[0][e[1].ASSIGNEE]),H(le,"class","svelte-9gtksp"),void 0===e[0][e[1].STATUS]&&ue((()=>e[16].call(le))),H(F,"class","statuscell svelte-9gtksp"),H(t,"class","job svelte-9gtksp"),H(t,"data-id",re=e[0][e[1].JOBNR]),Y(t,"itemSelected",e[4])},m(o,d){_(o,t,d),S(t,n),S(n,l),S(t,s),S(t,r),ve&&ve.m(r,null),S(r,i),S(r,c),S(r,a),S(r,u),S(u,p),S(r,g),S(r,f),S(r,h),S(h,m),S(r,v),S(r,b),S(r,k),S(r,x),S(x,y),S(y,$),S(t,w),S(t,E),we.m(E,null),S(t,A),S(t,j),Te(M,j,null),S(t,P),S(t,q),Te(z,q,null),S(t,L),S(t,G),Te(K,G,null),S(t,V),S(t,F),S(F,Z),Z.checked=e[4],S(F,W),S(F,X),S(X,ee),S(F,ne),S(F,le);for(let e=0;e<Ae.length;e+=1)Ae[e].m(le,null);J(le,e[0][e[1].STATUS]),S(F,oe),je&&je.m(F,null),_(o,ie,d),Ce&&Ce.m(o,d),_(o,ce,d),ae=!0,pe||(de=[D(u,"click",U(e[12])),D(r,"click",e[13]),D(Z,"change",e[14]),D(Z,"change",e[15]),D(le,"change",e[16]),D(le,"change",U(e[17])),D(F,"click",e[19])],pe=!0)},p(e,[n]){(!ae||3&n)&&ge!==(ge=e[0][e[1].JOBNR]+"")&&B(l,ge),e[0].loading?ve?1&n&&ye(ve,1):(ve=Wt(),ve.c(),ye(ve,1),ve.m(r,i)):ve&&(ke(),$e(ve,1,1,(()=>{ve=null})),xe()),(!ae||3&n)&&fe!==(fe=e[0][e[1].ADDRESS]+"")&&B(c,fe),(!ae||3&n&&d!==(d="https://www.google.no/maps/?q="+encodeURIComponent(e[0][e[1].ADDRESS])))&&H(u,"href",d),(!ae||3&n)&&he!==(he=e[0][e[1].AREA]+"")&&B(m,he),(!ae||3&n)&&me!==(me=e[0][e[1].PICKUP_DAYS]+"")&&B($,me),32&n&&Y(r,"expanded",e[5]),128&n&&Y(r,"loading",e[7]),Se!==(Se=be(e))&&(we.d(1),we=Se(e),we&&(we.c(),we.m(E,null)));const s={};3&n&&(s.types=e[0][e[1].TYPES]),M.$set(s);const o={};2&n&&(o.cols=e[1]),8&n&&(o.qualityRanking=e[3]),z.$set(o);const a={};if(4&n&&(a.days=e[2]),K.$set(a),(!ae||3&n&&Q!==(Q="select"+e[0][e[1].JOBNR]))&&H(Z,"id",Q),16&n&&(Z.checked=e[4]),(!ae||3&n&&te!==(te="select"+e[0][e[1].JOBNR]))&&H(X,"for",te),0&n){let t;for(Ee=Ue,t=0;t<Ee.length;t+=1){const l=Qt(e,Ee,t);Ae[t]?Ae[t].p(l,n):(Ae[t]=nn(l),Ae[t].c(),Ae[t].m(le,null))}for(;t<Ae.length;t+=1)Ae[t].d(1);Ae.length=Ee.length}(!ae||3&n&&se!==(se=Boolean(e[0][e[1].ASSIGNEE])))&&(le.disabled=se),3&n&&J(le,e[0][e[1].STATUS]),e[0][e[1].ASSIGNEE]?je?je.p(e,n):(je=ln(e),je.c(),je.m(F,null)):je&&(je.d(1),je=null),(!ae||3&n&&re!==(re=e[0][e[1].JOBNR]))&&H(t,"data-id",re),16&n&&Y(t,"itemSelected",e[4]),e[5]?Ce?(Ce.p(e,n),32&n&&ye(Ce,1)):(Ce=sn(e),Ce.c(),ye(Ce,1),Ce.m(ce.parentNode,ce)):Ce&&(ke(),$e(Ce,1,1,(()=>{Ce=null})),xe())},i(e){ae||(ye(ve),ye(M.$$.fragment,e),ye(z.$$.fragment,e),ye(K.$$.fragment,e),ye(Ce),ae=!0)},o(e){$e(ve),$e(M.$$.fragment,e),$e(z.$$.fragment,e),$e(K.$$.fragment,e),$e(Ce),ae=!1},d(e){e&&T(t),ve&&ve.d(),we.d(),Ne(M),Ne(z),Ne(K),N(Ae,e),je&&je.d(),e&&T(ie),Ce&&Ce.d(e),e&&T(ce),pe=!1,o(de)}}}function un(e){return"Hentet"===e?"hentet":"henter nå"}function pn(e,t,n){let l,s;p(e,Nt,(e=>n(25,s=e)));const o=ne();let{job:r}=t,{cols:i}=t,{days:c}=t,{quality:a}=t,u=r.selected,d=!1;console.log("will render",r,r.selected,r.loading,{days:c,quality:a});let g=!1;function f(e){return n(6,g=!1),Ft(r[i.JOBNR],i,e.detail).catch((e=>alert(e)))}function h(){if(confirm("Vil du fjerne henter-informasjon fra denne jobben? Merk at henteren ikke får noen beskjed om dette automatisk."))return Ft(r[i.JOBNR],i,{[i.STATUS]:"Ny",[i.ASSIGNEE]:""}).catch((e=>alert(e)))}return e.$$set=e=>{"job"in e&&n(0,r=e.job),"cols"in e&&n(1,i=e.cols),"days"in e&&n(2,c=e.days),"quality"in e&&n(3,a=e.quality)},e.$$.update=()=>{1&e.$$.dirty&&n(7,l=r.loading)},[r,i,c,a,u,d,g,l,o,f,function(e){let t=s.find((t=>t.number===Tt(e)));return t?t.name:Tt(e)},h,function(t){le.call(this,e,t)},e=>n(5,d=!d),function(){u=this.checked,n(4,u)},e=>o("select",{jobnr:r[i.JOBNR],selected:e.target.checked}),function(){r[i.STATUS]=L(this),n(0,r)},e=>f({detail:{[i.STATUS]:e.target.value}}),e=>h(),e=>{-1===["SELECT","LABEL","INPUT","OPTION","A"].indexOf(e.target.tagName)&&o("select",{jobnr:r[i.JOBNR],selected:!u})},e=>n(6,g=!0),e=>n(6,g=!1),()=>n(6,g=!1),function(){r[i.ADMCOMMENT]=this.value,n(0,r)},e=>Ft(r[i.JOBNR],i,{[i.ADMCOMMENT]:e.target.value})]}class dn extends Re{constructor(e){super(),Oe(this,e,pn,an,i,{job:0,cols:1,days:2,quality:3},Zt)}}function gn(e){w(e,"svelte-72ojky","form.svelte-72ojky.svelte-72ojky{display:table;width:90%;margin-left:5%\n\t}p.svelte-72ojky.svelte-72ojky{display:table-row;width:100%;margin-top:8px}span.svelte-72ojky.svelte-72ojky{display:table-cell;vertical-align:top;padding-top:8px}span.svelte-72ojky.svelte-72ojky:first-child{width:30%}span.svelte-72ojky .svelte-72ojky{width:100%}span.svelte-72ojky button.svelte-72ojky{width:40%}span.svelte-72ojky button.svelte-72ojky:nth-child(2){margin-left:8px}textarea.svelte-72ojky.svelte-72ojky{height:100px}textarea.svelte-72ojky.svelte-72ojky,select.svelte-72ojky.svelte-72ojky{font-size:1em}.to.svelte-72ojky textarea.svelte-72ojky{width:90%;height:3em}.sms.svelte-72ojky textarea.svelte-72ojky{width:90%;height:200px}select.svelte-72ojky.svelte-72ojky{font-size:1em}")}function fn(e,t,n){const l=e.slice();return l[15]=t[n],l}function hn(e,t,n){const l=e.slice();return l[18]=t[n],l}function mn(e){let t,n,l;return{c(){t=C("textarea"),H(t,"pattern","[0-9 ,]"),t.required=!0,H(t,"class","svelte-72ojky")},m(s,o){_(s,t,o),P(t,e[0]),n||(l=D(t,"input",e[10]),n=!0)},p(e,n){5&n&&P(t,e[0])},d(e){e&&T(t),n=!1,l()}}}function vn(e){let t,n,l,s=e[2],o=[];for(let t=0;t<s.length;t+=1)o[t]=kn(hn(e,s,t));return{c(){t=C("select");for(let e=0;e<o.length;e+=1)o[e].c();t.multiple=!0,t.required=!0,H(t,"class","svelte-72ojky"),void 0===e[0]&&ue((()=>e[9].call(t)))},m(s,r){_(s,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);z(t,e[0]),n||(l=D(t,"change",e[9]),n=!0)},p(e,n){if(4&n){let l;for(s=e[2],l=0;l<s.length;l+=1){const r=hn(e,s,l);o[l]?o[l].p(r,n):(o[l]=kn(r),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}5&n&&z(t,e[0])},d(e){e&&T(t),N(o,e),n=!1,l()}}}function bn(e){let t,n,l=e[18].address+"";return{c(){t=O("- "),n=O(l)},m(e,l){_(e,t,l),_(e,n,l)},p(e,t){4&t&&l!==(l=e[18].address+"")&&B(n,l)},d(e){e&&T(t),e&&T(n)}}}function kn(e){let t,n,l,s,o=e[18].name+"",r=e[18].address&&bn(e);return{c(){t=C("option"),n=O(o),r&&r.c(),l=R(),t.__value=s=e[18].number,t.value=t.__value,H(t,"class","svelte-72ojky")},m(e,s){_(e,t,s),S(t,n),r&&r.m(t,null),S(t,l)},p(e,i){4&i&&o!==(o=e[18].name+"")&&B(n,o),e[18].address?r?r.p(e,i):(r=bn(e),r.c(),r.m(t,l)):r&&(r.d(1),r=null),4&i&&s!==(s=e[18].number)&&(t.__value=s,t.value=t.__value)},d(e){e&&T(t),r&&r.d()}}}function xn(t){let n,l,s=t[15]+"";return{c(){n=C("option"),l=O(s),n.__value=t[15],n.value=n.__value,H(n,"class","svelte-72ojky")},m(e,t){_(e,n,t),S(n,l)},p:e,d(e){e&&T(n)}}}function yn(t){let n,l,s,r,i,c,a,u,p,d,g,f,h,m,v,b,k,x,y,$,w;function E(e,t){return e[2]&&e[2].length?vn:mn}let A=E(t),j=A(t),O=t[3]&&function(e){let t,n,l,s,o,r,i,c,a=Object.keys(e[5]),u=[];for(let t=0;t<a.length;t+=1)u[t]=xn(fn(e,a,t));return{c(){t=C("p"),n=C("b"),n.textContent="Kjappe svar",l=R(),s=C("span"),o=C("select"),r=C("option");for(let e=0;e<u.length;e+=1)u[e].c();r.__value="",r.value=r.__value,H(r,"class","svelte-72ojky"),H(o,"class","svelte-72ojky"),H(s,"class","svelte-72ojky"),H(t,"class","svelte-72ojky")},m(a,p){_(a,t,p),S(t,n),S(t,l),S(t,s),S(s,o),S(o,r);for(let e=0;e<u.length;e+=1)u[e].m(o,null);i||(c=D(o,"change",e[12]),i=!0)},p(e,t){if(32&t){let n;for(a=Object.keys(e[5]),n=0;n<a.length;n+=1){const l=fn(e,a,n);u[n]?u[n].p(l,t):(u[n]=xn(l),u[n].c(),u[n].m(o,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}},d(e){e&&T(t),N(u,e),i=!1,c()}}}(t);return{c(){n=C("form"),l=C("p"),s=C("b"),s.textContent="Til",r=C("span"),j.c(),i=R(),c=C("p"),a=C("b"),a.textContent="SMS",u=R(),p=C("span"),d=C("textarea"),g=R(),O&&O.c(),f=R(),h=C("p"),m=C("span"),v=R(),b=C("span"),k=C("button"),k.textContent="Send",x=R(),y=C("button"),y.textContent="Avbryt",H(r,"class","to svelte-72ojky"),H(l,"class","svelte-72ojky"),d.required=!0,H(d,"class","svelte-72ojky"),H(p,"class","sms svelte-72ojky"),H(c,"class","svelte-72ojky"),H(m,"class","svelte-72ojky"),H(k,"type","submit"),H(k,"class","p8 br2 svelte-72ojky"),H(y,"class","p8 br2 svelte-72ojky"),H(y,"type","button"),H(b,"class","svelte-72ojky"),H(h,"class","svelte-72ojky"),H(n,"class","svelte-72ojky")},m(e,o){_(e,n,o),S(n,l),S(l,s),S(l,r),j.m(r,null),S(n,i),S(n,c),S(c,a),S(c,u),S(c,p),S(p,d),P(d,t[1]),S(n,g),O&&O.m(n,null),S(n,f),S(n,h),S(h,m),S(h,v),S(h,b),S(b,k),S(b,x),S(b,y),$||(w=[D(d,"input",t[11]),D(y,"click",t[13]),D(n,"submit",M(t[14]))],$=!0)},p(e,[t]){A===(A=E(e))&&j?j.p(e,t):(j.d(1),j=A(e),j&&(j.c(),j.m(r,null))),2&t&&P(d,e[1]),e[3]&&O.p(e,t)},i:e,o:e,d(e){e&&T(n),j.d(),O&&O.d(),$=!1,o(w)}}}function $n(e,t,n){let{recipients:l=[]}=t,{message:s=""}=t,{possibleRecipients:o}=t,{smsEditorType:r}=t,i=!s;const c=ne();let a={"Bekreft data mottatt":"Hei,\ntakk for at du har sendt inn skjema om loppehenting! :)\n\nVi henter hver kveld mellom 24. og 26. august. Vi kontakter deg på dette nummeret før henting.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Passer det å hente?":"Hei,\ntakk for at du vil gi korpset lopper. Passer det om noen kommer og henter hos deg snart?\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Hentes snart":"Hei,\ntakk for at du vil gi korpset lopper. Vi kommer og henter i kveld, så det er supert om loppene er klare. Hvordan forberede henting? Les gjerne her: http://ibkorps.no/loppemarked\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Ikke IKEA":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre har vi dårlig erfaring med å selge IKEA-møbler, så slike vil vi helst ikke ta imot.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Ikke sofa":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre har vi dårlig erfaring med å selge sofaer på loppemarked. Vi vil helst ikke ta imot sofaer med mindre de er av spesielt god kvalitet.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Rekker ikke":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre rekker vi ikke å hente loppene dine i kveld. Dersom du har mulighet til å levere i skolegården, er det supert.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","For langt borte":"Hei,\ntakk for at du vil gi korpset lopper! Dessverre rekker vi ikke å hente tingene dine, fordi det er litt for langt borte fra vårt område. Vi foreslår at du  tar kontakt med et lokalt korps og spør om de skal hente lopper snart.\n\nVennlig hilsen Ila og Bolteløkka skolekorps","Send foto?":"Hei,\ntakk for at du vil gi korpset lopper! Kan du sende meg et foto av loppene?\n\nVennlig hilsen Ila og Bolteløkka skolekorps"};function u(){c("sms","string"==typeof l?{recipients:l.split(/,\s*/g),message:s,smsEditorType:r}:{recipients:l,message:s,smsEditorType:r})}function p(e){e&&a[e]&&n(1,s=a[e])}return e.$$set=e=>{"recipients"in e&&n(0,l=e.recipients),"message"in e&&n(1,s=e.message),"possibleRecipients"in e&&n(2,o=e.possibleRecipients),"smsEditorType"in e&&n(8,r=e.smsEditorType)},[l,s,o,i,c,a,u,p,r,function(){l=G(this),n(0,l),n(2,o)},function(){l=this.value,n(0,l),n(2,o)},function(){s=this.value,n(1,s)},e=>p(e.target.value),e=>c("cancel"),e=>u()]}class Sn extends Re{constructor(e){super(),Oe(this,e,$n,yn,i,{recipients:0,message:1,possibleRecipients:2,smsEditorType:8},gn)}}function wn(e){w(e,"svelte-nfxprn","button.cancel.svelte-nfxprn.svelte-nfxprn{color:red;font-size:small;vertical-align:super}form.svelte-nfxprn.svelte-nfxprn{display:table;width:90%;margin-left:5%\n\t}p.svelte-nfxprn.svelte-nfxprn{display:table-row;width:100%;margin-top:8px}span.svelte-nfxprn.svelte-nfxprn{display:table-cell;vertical-align:top;padding-top:8px}span.svelte-nfxprn.svelte-nfxprn:first-child{width:30%}span.svelte-nfxprn .svelte-nfxprn{width:100%}span.svelte-nfxprn button.svelte-nfxprn{width:40%}span.svelte-nfxprn button.svelte-nfxprn:nth-child(2){margin-left:8px}")}function En(e,t,n){const l=e.slice();return l[11]=t[n].name,l[12]=t[n].number,l}function An(e){let t,n=e[2],l=[];for(let t=0;t<n.length;t+=1)l[t]=jn(En(e,n,t));return{c(){t=C("ul");for(let e=0;e<l.length;e+=1)l[e].c()},m(e,n){_(e,t,n);for(let e=0;e<l.length;e+=1)l[e].m(t,null)},p(e,s){if(36&s){let o;for(n=e[2],o=0;o<n.length;o+=1){const r=En(e,n,o);l[o]?l[o].p(r,s):(l[o]=jn(r),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){e&&T(t),N(l,e)}}}function jn(e){let t,n,l,s,o,r,i,c,a,u,p,d=e[11]+"",g=e[12]+"";function f(...t){return e[6](e[11],e[12],...t)}return{c(){t=C("li"),n=C("b"),l=O(d),s=O(", "),o=C("a"),r=O(g),c=R(),a=C("button"),a.textContent="X",H(o,"href",i="tel:"+e[12]),H(a,"class","cancel br2 svelte-nfxprn")},m(e,i){_(e,t,i),S(t,n),S(n,l),S(t,s),S(t,o),S(o,r),S(t,c),S(t,a),u||(p=D(a,"click",f),u=!0)},p(t,n){e=t,4&n&&d!==(d=e[11]+"")&&B(l,d),4&n&&g!==(g=e[12]+"")&&B(r,g),4&n&&i!==(i="tel:"+e[12])&&H(o,"href",i)},d(e){e&&T(t),u=!1,p()}}}function _n(t){let n,l,s,r,i,c,a,u,p,d,g,f,h,m,v,b,k,x,y,$,w,E=t[2].length&&An(t);return{c(){n=C("div"),E&&E.c(),l=R(),s=C("form"),r=C("p"),i=C("span"),i.textContent="Navn: ",c=C("span"),a=C("input"),u=R(),p=C("p"),d=C("span"),d.textContent="Mobil: ",g=C("span"),f=C("input"),h=R(),m=C("p"),v=C("span"),b=C("span"),k=C("button"),k.textContent="Legg til",x=R(),y=C("button"),y.textContent="Lukk",H(i,"class","svelte-nfxprn"),a.required=!0,H(a,"class","svelte-nfxprn"),H(c,"class","svelte-nfxprn"),H(r,"class","svelte-nfxprn"),H(d,"class","svelte-nfxprn"),H(f,"inputmode","tel"),f.required=!0,H(f,"class","svelte-nfxprn"),H(g,"class","svelte-nfxprn"),H(p,"class","svelte-nfxprn"),H(v,"class","svelte-nfxprn"),H(k,"type","submit"),H(k,"class","p8 br2 svelte-nfxprn"),H(y,"class","p8 br2 svelte-nfxprn"),H(y,"type","button"),H(b,"class","svelte-nfxprn"),H(m,"class","svelte-nfxprn"),H(s,"class","svelte-nfxprn")},m(e,o){_(e,n,o),E&&E.m(n,null),S(n,l),S(n,s),S(s,r),S(r,i),S(r,c),S(c,a),P(a,t[0]),S(s,u),S(s,p),S(p,d),S(p,g),S(g,f),P(f,t[1]),S(s,h),S(s,m),S(m,v),S(m,b),S(b,k),S(b,x),S(b,y),$||(w=[D(a,"input",t[7]),D(f,"input",t[8]),D(y,"click",t[9]),D(s,"submit",M(t[10]))],$=!0)},p(e,[t]){e[2].length?E?E.p(e,t):(E=An(e),E.c(),E.m(n,l)):E&&(E.d(1),E=null),1&t&&a.value!==e[0]&&P(a,e[0]),2&t&&f.value!==e[1]&&P(f,e[1])},i:e,o:e,d(e){e&&T(n),E&&E.d(),$=!1,o(w)}}}function Tn(e,t,n){let l;p(e,Nt,(e=>n(2,l=e)));const s=ne();let o="",r="";function i(e,t){Nt.update((n=>(n.push({name:e,number:t}),n))),n(1,r=n(0,o=""))}function c(e,t){Nt.update((n=>{let l=n.findIndex((n=>n.name===e&&n.number===t));return n.splice(l,1),n}))}return[o,r,l,s,i,c,(e,t,n)=>c(e,t),function(){o=this.value,n(0,o)},function(){r=this.value,n(1,r)},e=>s("cancel"),e=>i(o,r)]}class Nn extends Re{constructor(e){super(),Oe(this,e,Tn,_n,i,{},wn)}}function Cn(e){w(e,"svelte-p9d98j","form.svelte-p9d98j.svelte-p9d98j{display:table;width:90%;margin-left:5%\n\t}p.svelte-p9d98j.svelte-p9d98j{display:table-row;width:100%;margin-top:8px}span.svelte-p9d98j.svelte-p9d98j,b.svelte-p9d98j.svelte-p9d98j{display:table-cell;vertical-align:top;padding-top:8px}span.svelte-p9d98j.svelte-p9d98j:first-child{width:30%;font-weight:bold}span.svelte-p9d98j .svelte-p9d98j{width:100%}span.svelte-p9d98j button.svelte-p9d98j{width:40%}span.svelte-p9d98j button.svelte-p9d98j:nth-child(2){margin-left:8px}select.svelte-p9d98j.svelte-p9d98j{font-size:1em}")}function On(e,t,n){const l=e.slice();return l[6]=t[n],l}function Rn(t){let n,l,s=t[6]+"";return{c(){n=C("option"),l=O(s),n.__value=t[6],n.value=n.__value,H(n,"class","svelte-p9d98j")},m(e,t){_(e,n,t),S(n,l)},p:e,d(e){e&&T(n)}}}function In(t){let n,l,s,r,i,c,a,u,p,d,g,f,h,m,v,b,k=Ue,x=[];for(let e=0;e<k.length;e+=1)x[e]=Rn(On(t,k,e));return{c(){n=C("form"),l=C("p"),s=C("b"),s.textContent="Ny status:",r=R(),i=C("span"),c=C("select");for(let e=0;e<x.length;e+=1)x[e].c();a=R(),u=C("p"),p=C("span"),d=R(),g=C("span"),f=C("button"),f.textContent="Oppdater valgte",h=R(),m=C("button"),m.textContent="Avbryt",H(s,"class","svelte-p9d98j"),H(c,"class","svelte-p9d98j"),void 0===t[0]&&ue((()=>t[3].call(c))),H(i,"class","svelte-p9d98j"),H(l,"class","svelte-p9d98j"),H(p,"class","svelte-p9d98j"),H(f,"type","submit"),H(f,"class","p8 br2 svelte-p9d98j"),H(m,"class","p8 br2 svelte-p9d98j"),H(m,"type","button"),H(g,"class","svelte-p9d98j"),H(u,"class","svelte-p9d98j"),H(n,"class","svelte-p9d98j")},m(e,o){_(e,n,o),S(n,l),S(l,s),S(l,r),S(l,i),S(i,c);for(let e=0;e<x.length;e+=1)x[e].m(c,null);J(c,t[0]),S(n,a),S(n,u),S(u,p),S(u,d),S(u,g),S(g,f),S(g,h),S(g,m),v||(b=[D(c,"change",t[3]),D(m,"click",t[4]),D(n,"submit",M(t[5]))],v=!0)},p(e,[t]){if(0&t){let n;for(k=Ue,n=0;n<k.length;n+=1){const l=On(e,k,n);x[n]?x[n].p(l,t):(x[n]=Rn(l),x[n].c(),x[n].m(c,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=k.length}1&t&&J(c,e[0])},i:e,o:e,d(e){e&&T(n),N(x,e),v=!1,o(b)}}}function Dn(e,t,n){const l=ne();let s="";function o(){l("statusupdate",{newState:s})}return[s,l,o,function(){s=L(this),n(0,s)},e=>l("cancel"),e=>o()]}class Mn extends Re{constructor(e){super(),Oe(this,e,Dn,In,i,{},Cn)}}function Un(e){const t=e-1;return t*t*t+1}function Hn(e,{delay:n=0,duration:l=400,easing:s=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:l,easing:s,css:e=>"opacity: "+e*o}}function Bn(e,{delay:t=0,duration:n=400,easing:l=Un,x:s=0,y:o=0,opacity:r=0}={}){const i=getComputedStyle(e),c=+i.opacity,a="none"===i.transform?"":i.transform,u=c*(1-r);return{delay:t,duration:n,easing:l,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*s}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-u*t}`}}function Pn(e){w(e,"svelte-ni4itl","div.svelte-ni4itl{position:fixed;bottom:0;left:0;width:100%;background:PowderBlue;font-size:1.1em;padding-top:8px;padding-bottom:8px;padding-left:8px;border-top:1px solid black}.isError.svelte-ni4itl{background:#ff7f7f}")}function qn(e){let t,n,l,s;return{c(){t=C("div"),n=O(e[0]),q(t,"bottom",36*e[2]+"px"),H(t,"class","svelte-ni4itl"),Y(t,"isError",e[1])},m(e,l){_(e,t,l),S(t,n),s=!0},p(e,[l]){(!s||1&l)&&B(n,e[0]),(!s||4&l)&&q(t,"bottom",36*e[2]+"px"),2&l&&Y(t,"isError",e[1])},i(e){s||(ue((()=>{l||(l=we(t,Bn,{y:50,duration:500},!0)),l.run(1)})),s=!0)},o(e){l||(l=we(t,Bn,{y:50,duration:500},!1)),l.run(0),s=!1},d(e){e&&T(t),e&&l&&l.end()}}}function Jn(e,t,n){let{message:l=""}=t,{isError:s=!1}=t,{index:o=0}=t;return e.$$set=e=>{"message"in e&&n(0,l=e.message),"isError"in e&&n(1,s=e.isError),"index"in e&&n(2,o=e.index)},[l,s,o]}class zn extends Re{constructor(e){super(),Oe(this,e,Jn,qn,i,{message:0,isError:1,index:2},Pn)}}function Ln(e){w(e,"svelte-1s9tfhz","div.svelte-1s9tfhz{width:15%;background:#fff;padding:0px;min-width:140px;box-shadow:3px 6px 2px 0px rgba(189,182,189,1);position:fixed;z-index:10;display:none}.show.svelte-1s9tfhz{display:block}button.svelte-1s9tfhz{width:100%;background:transparent;border:1px solid grey;padding:6px;font-size:1.2em;margin:0;cursor:pointer;text-align:left}button.svelte-1s9tfhz:hover{border-color:black}img.svelte-1s9tfhz{width:24px;height:24px;vertical-align:middle}")}function Gn(e,t,n){const l=e.slice();return l[4]=t[n],l}function Yn(e){let t,n;return{c(){t=C("img"),a(t.src,n=e[4].icon)||H(t,"src",n),H(t,"alt",""),H(t,"class","svelte-1s9tfhz")},m(e,n){_(e,t,n)},p(e,l){4&l&&!a(t.src,n=e[4].icon)&&H(t,"src",n)},d(e){e&&T(t)}}}function Kn(e){let t,n,l,s,o,i,c=e[4].label+"",a=e[4].icon&&Yn(e);return{c(){t=C("button"),a&&a.c(),n=R(),l=O(c),s=R(),H(t,"class","menu svelte-1s9tfhz")},m(c,u){_(c,t,u),a&&a.m(t,null),S(t,n),S(t,l),S(t,s),o||(i=D(t,"click",(function(){r(e[4].action)&&e[4].action.apply(this,arguments)})),o=!0)},p(s,o){(e=s)[4].icon?a?a.p(e,o):(a=Yn(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),4&o&&c!==(c=e[4].label+"")&&B(l,c)},d(e){e&&T(t),a&&a.d(),o=!1,i()}}}function Vn(t){let n,l=t[2],s=[];for(let e=0;e<l.length;e+=1)s[e]=Kn(Gn(t,l,e));return{c(){n=C("div");for(let e=0;e<s.length;e+=1)s[e].c();H(n,"class","menu svelte-1s9tfhz"),q(n,"top",t[3]+"px"),q(n,"left",t[0]+"px"),q(n,"position","fixed"),Y(n,"show",t[1])},m(e,t){_(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(4&t){let o;for(l=e[2],o=0;o<l.length;o+=1){const r=Gn(e,l,o);s[o]?s[o].p(r,t):(s[o]=Kn(r),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}8&t&&q(n,"top",e[3]+"px"),1&t&&q(n,"left",e[0]+"px"),2&t&&Y(n,"show",e[1])},i:e,o:e,d(e){e&&T(n),N(s,e)}}}function Fn(e,t,n){let{show:l=!1}=t,{items:s=[]}=t,{x:o=0}=t,{y:r=0}=t;return te((()=>document.getElementsByTagName("button")[0].focus())),o<=20&&(o=20),e.$$set=e=>{"show"in e&&n(1,l=e.show),"items"in e&&n(2,s=e.items),"x"in e&&n(0,o=e.x),"y"in e&&n(3,r=e.y)},[o,l,s,r]}class Zn extends Re{constructor(e){super(),Oe(this,e,Fn,Vn,i,{show:1,items:2,x:0,y:3},Ln)}}function Qn(e){w(e,"svelte-1dlx9o3",".map-parent.svelte-1dlx9o3{width:100%;height:100%}")}function Wn(t){let n;return{c(){n=C("div"),H(n,"class","map-parent svelte-1dlx9o3")},m(e,l){_(e,n,l),t[3](n)},p:e,i:e,o:e,d(e){e&&T(n),t[3](null)}}}function Xn(e,t,n){let{jobs:l}=t,{cols:s={}}=t;const o=ne(),r={[Be]:"/images/bigcar.png",[Pe]:"/images/smallcar.png",[qe]:"/images/box.png"},i={[Be]:"/images/bigcar-selected.png",[Pe]:"/images/smallcar-selected.png",[qe]:"/images/box-selected.png"};let c;const a={lat:59.926846,lng:10.740805};let u,p=[];return te((async()=>{u=new window.google.maps.Map(c,{zoom:13,center:a}),window.google.maps.event.addListener(u,"bounds_changed",(e=>{const t=u.getBounds(),n=t.getNorthEast(),l=t.getSouthWest();o("boundschange",{bounds:[[n.lat(),n.lng()],[l.lat(),l.lng()]]})}))})),l.subscribe((e=>{for(let e=0;e<p.length;e++)p[e].setMap(null);p.length=0;for(let t=0;t<e.length;t++){const n=e[t];if(!n[s.COORDS]){console.log("oops, no coords - "+n[s.ADDRESS]);continue}const l=n[s.COORDS].split(","),c=new window.google.maps.Marker({position:{lat:parseFloat(l[0]),lng:parseFloat(l[1])},map:u,title:n[s.ADDRESS],label:"★".repeat(parseInt(n[s.QUALITY])+1),icon:{url:(n.selected?i:r)[n[s.SIZE]],scaledSize:{width:24,height:16},labelOrigin:{x:5,y:25}}});c.addListener("click",(function(e){o("select",{jobnr:n[s.JOBNR],selected:!n.selected})})),p.push(c)}})),e.$$set=e=>{"jobs"in e&&n(1,l=e.jobs),"cols"in e&&n(2,s=e.cols)},[c,l,s,function(e){oe[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}class el extends Re{constructor(e){super(),Oe(this,e,Xn,Wn,i,{jobs:1,cols:2},Qn)}}function tl(e,t,n){const l=e.slice();return l[91]=t[n],l[93]=n,l}function nl(e,t,n){const l=e.slice();return l[95]=t[n],l}function ll(e,t,n){const l=e.slice();return l[98]=t[n],l}function sl(t){let n,l,s,o,r=t[101].message+"",i="Ingen tilgang"===t[101].message&&ol();return{c(){n=C("p"),l=O(r),s=R(),i&&i.c(),o=I(),q(n,"color","red")},m(e,t){_(e,n,t),S(n,l),_(e,s,t),i&&i.m(e,t),_(e,o,t)},p(e,t){64&t[0]&&r!==(r=e[101].message+"")&&B(l,r),"Ingen tilgang"===e[101].message?i||(i=ol(),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&T(n),e&&T(s),i&&i.d(e),e&&T(o)}}}function ol(e){let t;return{c(){t=C("form"),t.innerHTML='<p>Send forespørsel om tilgang</p> \n\t\t\t<label>Mobilnummer: <input type="text" pattern="\\d+" name="phone"/></label><button type="submit">Send</button>',H(t,"method","post"),H(t,"action","/api/letmein")},m(e,n){_(e,t,n)},d(e){e&&T(t)}}}function rl(e){let t,n,l,s,r,i,c,u,p,d,g,f,h,m,v,b,k,x,y,$,w,E,A,j,M,U,q,z,L,G,Y,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,re,ie,ce,ae,pe,de,ge,fe,he,me,ve,be,Se,we,Ee,Ae,_e,Te,Ne,Ce,Oe,Re,Ie,De,Me,Ue,He,Be,Pe,qe,Je,ze,Le,Ge,Ye,Ke,Ve,Fe,Ze,Qe,We,Xe,et,tt,nt,lt,st,ot,rt,it,ct,at,ut,pt,dt=e[29]?"Skjul kart":"Vis kart",gt=[],ft=new Map,ht=e[30].length+"",mt=e[30].filter(e[62]).length+"",vt=e[30].filter(e[63]).length+"",bt=e[30].filter(e[64]).length+"",kt=e[7].types,xt=[];for(let t=0;t<kt.length;t+=1)xt[t]=il(ll(e,kt,t));let yt=e[0]&&e[29]&&cl(e),$t=e[15];const St=e=>e[95][e[14].JOBNR];for(let t=0;t<$t.length;t+=1){let n=nl(e,$t,t),l=St(n);ft.set(l,gt[t]=ul(l,n))}let wt=e[1]&&pl(e),Et=e[2]&&fl(e),At=e[3]&&vl(e);return{c(){t=C("table"),n=C("tr"),l=C("th"),s=C("input"),r=R(),i=C("th"),c=C("img"),d=R(),g=C("img"),m=R(),v=C("img"),x=R(),y=C("th"),$=C("select"),w=C("option"),w.textContent="-";for(let e=0;e<xt.length;e+=1)xt[e].c();E=R(),A=C("th"),j=C("select"),M=C("option"),M.textContent="-",U=C("option"),U.textContent="★",q=C("option"),q.textContent="★★",z=C("option"),z.textContent="★★★",L=R(),G=C("th"),Y=C("ol"),K=C("li"),V=O("Ti"),Z=R(),Q=C("li"),W=O("On"),ee=R(),te=C("li"),ne=O("To"),se=R(),oe=C("th"),re=C("label"),ie=C("input"),ce=O("Bare valgte dager"),ae=R(),pe=C("br"),de=C("label"),ge=C("input"),fe=O("Skjul ferdige"),he=R(),me=C("br"),ve=C("label"),be=O("Sortering:\n\t\t\t\t\t"),Se=C("select"),we=C("option"),we.textContent="Gatenavn",Ee=C("option"),Ee.textContent="Område",Ae=R(),_e=C("tr"),Te=C("td"),Ne=C("div"),Ce=C("button"),Oe=O(dt),Re=R(),yt&&yt.c(),Ie=R();for(let e=0;e<gt.length;e+=1)gt[e].c();De=R(),Me=C("col"),Ue=R(),He=C("col"),Be=R(),Pe=C("col"),qe=R(),Je=C("col"),ze=R(),Le=C("col"),Ge=R(),Ye=C("col"),Ke=R(),Ve=C("col"),Fe=R(),Ze=C("p"),Qe=O("Antall jobber totalt: "),We=O(ht),Xe=O(".\n\tHentes nå: "),et=O(mt),tt=O("\n\tHentet: "),nt=O(vt),lt=O("\n\tHentes ikke: "),st=O(bt),ot=R(),wt&&wt.c(),rt=R(),Et&&Et.c(),it=R(),At&&At.c(),ct=I(),H(s,"type","search"),H(s,"placeholder","Filtrer"),H(l,"colspan","2"),a(c.src,u="/images/bigcar.png")||H(c,"src","/images/bigcar.png"),H(c,"alt","stor bil"),H(c,"height","22"),H(c,"class",p=e[18]?"bigActive":""),H(c,"tabindex","0"),a(g.src,f="/images/smallcar.png")||H(g,"src","/images/smallcar.png"),H(g,"alt","stasjonsvogn"),H(g,"height","22"),H(g,"class",h=e[19]?"mediumActive":""),H(g,"tabindex","0"),a(v.src,b="/images/box.png")||H(v,"src","/images/box.png"),H(v,"alt","1-3 bokser"),H(v,"height","22"),H(v,"class",k=e[20]?"smallActive":""),H(v,"tabindex","0"),w.__value="",w.value=w.__value,void 0===e[21]&&ue((()=>e[45].call($))),M.__value="",M.value=M.__value,U.__value="0",U.value=U.__value,q.__value="1",q.value=q.__value,z.__value="2",z.value=z.__value,void 0===e[22]&&ue((()=>e[47].call(j))),H(K,"class",F=e[23]?"tueActive":""),H(K,"tabindex","0"),H(Q,"class",X=e[24]?"wedActive":""),H(Q,"tabindex","0"),H(te,"class",le=e[25]?"thuActive":""),H(te,"tabindex","0"),H(Y,"class","days"),H(ie,"type","checkbox"),H(ge,"type","checkbox"),we.__value="street",we.value=we.__value,Ee.__value="area",Ee.value=Ee.__value,void 0===e[28]&&ue((()=>e[56].call(Se))),H(Ce,"type","button"),H(Ne,"class","mapButton"),H(Te,"colspan","7"),H(Me,"class","jobnr"),H(He,"class","address"),H(Pe,"class","cartype"),H(Je,"class","stufftype"),H(Le,"class","quality"),H(Ye,"class","dayscol"),H(Ve,"class","status"),H(t,"class","main")},m(o,a){_(o,t,a),S(t,n),S(n,l),S(l,s),P(s,e[17]),S(n,r),S(n,i),S(i,c),S(i,d),S(i,g),S(i,m),S(i,v),S(n,x),S(n,y),S(y,$),S($,w);for(let e=0;e<xt.length;e+=1)xt[e].m($,null);J($,e[21]),S(n,E),S(n,A),S(A,j),S(j,M),S(j,U),S(j,q),S(j,z),J(j,e[22]),S(n,L),S(n,G),S(G,Y),S(Y,K),S(K,V),S(Y,Z),S(Y,Q),S(Q,W),S(Y,ee),S(Y,te),S(te,ne),S(n,se),S(n,oe),S(oe,re),S(re,ie),ie.checked=e[26],S(re,ce),S(oe,ae),S(oe,pe),S(oe,de),S(de,ge),ge.checked=e[27],S(de,fe),S(oe,he),S(oe,me),S(oe,ve),S(ve,be),S(ve,Se),S(Se,we),S(Se,Ee),J(Se,e[28]),S(t,Ae),S(t,_e),S(_e,Te),S(Te,Ne),S(Ne,Ce),S(Ce,Oe),S(Te,Re),yt&&yt.m(Te,null),S(t,Ie);for(let e=0;e<gt.length;e+=1)gt[e].m(t,null);S(t,De),S(t,Me),S(t,Ue),S(t,He),S(t,Be),S(t,Pe),S(t,qe),S(t,Je),S(t,ze),S(t,Le),S(t,Ge),S(t,Ye),S(t,Ke),S(t,Ve),_(o,Fe,a),_(o,Ze,a),S(Ze,Qe),S(Ze,We),S(Ze,Xe),S(Ze,et),S(Ze,tt),S(Ze,nt),S(Ze,lt),S(Ze,st),_(o,ot,a),wt&&wt.m(o,a),_(o,rt,a),Et&&Et.m(o,a),_(o,it,a),At&&At.m(o,a),_(o,ct,a),at=!0,ut||(pt=[D(s,"input",e[41]),D(c,"click",e[42]),D(g,"click",e[43]),D(v,"click",e[44]),D($,"change",e[45]),D($,"change",e[46]),D(j,"change",e[47]),D(j,"change",e[48]),D(K,"click",e[49]),D(Q,"click",e[50]),D(te,"click",e[51]),D(ie,"change",e[52]),D(ie,"change",e[53]),D(ge,"change",e[54]),D(ge,"change",e[55]),D(Se,"change",e[56]),D(Se,"change",e[57]),D(Ce,"click",e[58])],ut=!0)},p(e,n){if(131072&n[0]&&P(s,e[17]),(!at||262144&n[0]&&p!==(p=e[18]?"bigActive":""))&&H(c,"class",p),(!at||524288&n[0]&&h!==(h=e[19]?"mediumActive":""))&&H(g,"class",h),(!at||1048576&n[0]&&k!==(k=e[20]?"smallActive":""))&&H(v,"class",k),128&n[0]){let t;for(kt=e[7].types,t=0;t<kt.length;t+=1){const l=ll(e,kt,t);xt[t]?xt[t].p(l,n):(xt[t]=il(l),xt[t].c(),xt[t].m($,null))}for(;t<xt.length;t+=1)xt[t].d(1);xt.length=kt.length}2097280&n[0]&&J($,e[21]),4194304&n[0]&&J(j,e[22]),(!at||8388608&n[0]&&F!==(F=e[23]?"tueActive":""))&&H(K,"class",F),(!at||16777216&n[0]&&X!==(X=e[24]?"wedActive":""))&&H(Q,"class",X),(!at||33554432&n[0]&&le!==(le=e[25]?"thuActive":""))&&H(te,"class",le),67108864&n[0]&&(ie.checked=e[26]),134217728&n[0]&&(ge.checked=e[27]),268435456&n[0]&&J(Se,e[28]),(!at||536870912&n[0])&&dt!==(dt=e[29]?"Skjul kart":"Vis kart")&&B(Oe,dt),e[0]&&e[29]?yt?(yt.p(e,n),536870913&n[0]&&ye(yt,1)):(yt=cl(e),yt.c(),ye(yt,1),yt.m(Te,null)):yt&&(ke(),$e(yt,1,1,(()=>{yt=null})),xe()),49152&n[0]|2&n[1]&&($t=e[15],ke(),gt=function(e,t,n,l,s,o,r,i,c,a,u,p){let d=e.length,g=o.length,f=d;const h={};for(;f--;)h[e[f].key]=f;const m=[],v=new Map,b=new Map;for(f=g;f--;){const e=p(s,o,f),i=n(e);let c=r.get(i);c?l&&c.p(e,t):(c=a(i,e),c.c()),v.set(i,m[f]=c),i in h&&b.set(i,Math.abs(f-h[i]))}const k=new Set,x=new Set;function y(e){ye(e,1),e.m(i,u),r.set(e.key,e),u=e.first,g--}for(;d&&g;){const t=m[g-1],n=e[d-1],l=t.key,s=n.key;t===n?(u=t.first,d--,g--):v.has(s)?!r.has(l)||k.has(l)?y(t):x.has(s)?d--:b.get(l)>b.get(s)?(x.add(l),y(t)):(k.add(s),d--):(c(n,r),d--)}for(;d--;){const t=e[d];v.has(t.key)||c(t,r)}for(;g;)y(m[g-1]);return m}(gt,n,St,1,e,$t,ft,t,je,ul,De,nl),xe()),(!at||1073741824&n[0])&&ht!==(ht=e[30].length+"")&&B(We,ht),(!at||1073758208&n[0])&&mt!==(mt=e[30].filter(e[62]).length+"")&&B(et,mt),(!at||1073758208&n[0])&&vt!==(vt=e[30].filter(e[63]).length+"")&&B(nt,vt),(!at||1073758208&n[0])&&bt!==(bt=e[30].filter(e[64]).length+"")&&B(st,bt),e[1]?wt?(wt.p(e,n),2&n[0]&&ye(wt,1)):(wt=pl(e),wt.c(),ye(wt,1),wt.m(rt.parentNode,rt)):wt&&(ke(),$e(wt,1,1,(()=>{wt=null})),xe()),e[2]?Et?(Et.p(e,n),4&n[0]&&ye(Et,1)):(Et=fl(e),Et.c(),ye(Et,1),Et.m(it.parentNode,it)):Et&&(ke(),$e(Et,1,1,(()=>{Et=null})),xe()),e[3]?At?(At.p(e,n),8&n[0]&&ye(At,1)):(At=vl(e),At.c(),ye(At,1),At.m(ct.parentNode,ct)):At&&(ke(),$e(At,1,1,(()=>{At=null})),xe())},i(e){if(!at){ye(yt);for(let e=0;e<$t.length;e+=1)ye(gt[e]);ye(wt),ye(Et),ye(At),at=!0}},o(e){$e(yt);for(let e=0;e<gt.length;e+=1)$e(gt[e]);$e(wt),$e(Et),$e(At),at=!1},d(e){e&&T(t),N(xt,e),yt&&yt.d();for(let e=0;e<gt.length;e+=1)gt[e].d();e&&T(Fe),e&&T(Ze),e&&T(ot),wt&&wt.d(e),e&&T(rt),Et&&Et.d(e),e&&T(it),At&&At.d(e),e&&T(ct),ut=!1,o(pt)}}}function il(e){let t,n,l,s=e[98]+"";return{c(){t=C("option"),n=O(s),t.__value=l=e[98],t.value=t.__value},m(e,l){_(e,t,l),S(t,n)},p(e,o){128&o[0]&&s!==(s=e[98]+"")&&B(n,s),128&o[0]&&l!==(l=e[98])&&(t.__value=l,t.value=t.__value)},d(e){e&&T(t)}}}function cl(e){let t,n,l;return n=new el({props:{jobs:Vt,googleMapsToken:e[7].googleMapsToken,cols:e[14]}}),n.$on("select",e[59]),n.$on("boundschange",e[60]),{c(){t=C("div"),_e(n.$$.fragment),H(t,"class","gmap")},m(e,s){_(e,t,s),Te(n,t,null),l=!0},p(e,t){const l={};128&t[0]&&(l.googleMapsToken=e[7].googleMapsToken),16384&t[0]&&(l.cols=e[14]),n.$set(l)},i(e){l||(ye(n.$$.fragment,e),l=!0)},o(e){$e(n.$$.fragment,e),l=!1},d(e){e&&T(t),Ne(n)}}}function al(e){let t,n;return t=new dn({props:{job:e[95],days:e[95][e[14].PICKUP_DAYS],quality:e[95][e[14].QUALITY],cols:e[14]}}),t.$on("select",e[61]),{c(){_e(t.$$.fragment)},m(e,l){Te(t,e,l),n=!0},p(e,n){const l={};32768&n[0]&&(l.job=e[95]),49152&n[0]&&(l.days=e[95][e[14].PICKUP_DAYS]),49152&n[0]&&(l.quality=e[95][e[14].QUALITY]),16384&n[0]&&(l.cols=e[14]),t.$set(l)},i(e){n||(ye(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function ul(t,n){let l,s,o,r=n[95].selected,c=al(n);return{key:t,first:null,c(){l=I(),c.c(),s=I(),this.first=l},m(e,t){_(e,l,t),c.m(e,t),_(e,s,t),o=!0},p(t,l){n=t,32768&l[0]&&i(r,r=n[95].selected)?(ke(),$e(c,1,1,e),xe(),c=al(n),c.c(),ye(c,1),c.m(s.parentNode,s)):c.p(n,l)},i(e){o||(ye(c),o=!0)},o(e){$e(c),o=!1},d(e){e&&T(l),e&&T(s),c.d(e)}}}function pl(e){let t,n;return t=new rt({props:{$$slots:{header:[gl],default:[dl]},$$scope:{ctx:e}}}),t.$on("close",e[67]),{c(){_e(t.$$.fragment)},m(e,l){Te(t,e,l),n=!0},p(e,n){const l={};116482&n[0]|512&n[3]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ye(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function dl(e){let t,n;return t=new Sn({props:{smsEditorType:e[1],possibleRecipients:e[8],recipients:e[9],message:e[10]}}),t.$on("cancel",e[65]),t.$on("sms",e[66]),{c(){_e(t.$$.fragment)},m(e,l){Te(t,e,l),n=!0},p(e,n){const l={};2&n[0]&&(l.smsEditorType=e[1]),256&n[0]&&(l.possibleRecipients=e[8]),512&n[0]&&(l.recipients=e[9]),1024&n[0]&&(l.message=e[10]),t.$set(l)},i(e){n||(ye(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function gl(t){let n;return{c(){n=C("h2"),n.textContent="Send SMS",H(n,"slot","header")},m(e,t){_(e,n,t)},p:e,d(e){e&&T(n)}}}function fl(e){let t,n;return t=new rt({props:{$$slots:{header:[ml],default:[hl]},$$scope:{ctx:e}}}),t.$on("close",e[69]),{c(){_e(t.$$.fragment)},m(e,l){Te(t,e,l),n=!0},p(e,n){const l={};4&n[0]|512&n[3]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ye(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function hl(t){let n,l;return n=new Nn({}),n.$on("cancel",t[68]),{c(){_e(n.$$.fragment)},m(e,t){Te(n,e,t),l=!0},p:e,i(e){l||(ye(n.$$.fragment,e),l=!0)},o(e){$e(n.$$.fragment,e),l=!1},d(e){Ne(n,e)}}}function ml(t){let n;return{c(){n=C("h2"),n.textContent="Oppdater hentere",H(n,"slot","header")},m(e,t){_(e,n,t)},p:e,d(e){e&&T(n)}}}function vl(e){let t,n;return t=new rt({props:{$$slots:{header:[kl],default:[bl]},$$scope:{ctx:e}}}),t.$on("close",e[72]),{c(){_e(t.$$.fragment)},m(e,l){Te(t,e,l),n=!0},p(e,n){const l={};114696&n[0]|512&n[3]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ye(t.$$.fragment,e),n=!0)},o(e){$e(t.$$.fragment,e),n=!1},d(e){Ne(t,e)}}}function bl(t){let n,l;return n=new Mn({}),n.$on("cancel",t[70]),n.$on("statusupdate",t[71]),{c(){_e(n.$$.fragment)},m(e,t){Te(n,e,t),l=!0},p:e,i(e){l||(ye(n.$$.fragment,e),l=!0)},o(e){$e(n.$$.fragment,e),l=!1},d(e){Ne(n,e)}}}function kl(t){let n;return{c(){n=C("h2"),n.textContent="Oppdater status",H(n,"slot","header")},m(e,t){_(e,n,t)},p:e,d(e){e&&T(n)}}}function xl(t){let n,l,s,o,r,i;return s=new At({}),{c(){n=C("div"),l=C("div"),_e(s.$$.fragment),o=R(),r=C("p"),r.textContent="...henter data",q(r,"text-align","center"),H(l,"class","dataloading")},m(e,t){_(e,n,t),S(n,l),Te(s,l,null),S(l,o),S(l,r),i=!0},p:e,i(e){i||(ye(s.$$.fragment,e),i=!0)},o(e){$e(s.$$.fragment,e),i=!1},d(e){e&&T(n),Ne(s)}}}function yl(e){let t,l;const s=[e[91],{index:e[93]}];let o={};for(let e=0;e<s.length;e+=1)o=n(o,s[e]);return t=new zn({props:o}),{c(){_e(t.$$.fragment)},m(e,n){Te(t,e,n),l=!0},p(e,n){const l=8192&n[0]?function(e,t){const n={},l={},s={$$scope:1};let o=e.length;for(;o--;){const r=e[o],i=t[o];if(i){for(const e in r)e in i||(l[e]=1);for(const e in i)s[e]||(n[e]=i[e],s[e]=1);e[o]=i}else for(const e in r)s[e]=1}for(const e in l)e in n||(n[e]=void 0);return n}(s,[(o=e[91],"object"==typeof o&&null!==o?o:{}),s[1]]):{};var o;t.$set(l)},i(e){l||(ye(t.$$.fragment,e),l=!0)},o(e){$e(t.$$.fragment,e),l=!1},d(e){Ne(t,e)}}}function $l(e){let t,n,l,s,r,i,c,a,u,p,d,g,f,h,m,v,b,k={ctx:e,current:null,token:null,hasCatch:!0,pending:xl,then:rl,catch:sl,value:94,error:101,blocks:[,,,]};Ee(u=e[6],k),d=new Zn({props:{show:e[4],x:e[11],y:e[12],items:[{label:"SMS til giver",icon:"/images/sms.png",action:e[73]},{label:"SMS til henter",icon:"/images/sms.png",action:e[74]},{label:"Sett status",icon:"/images/wrench.png",action:e[75]},{label:"Vis på kart",icon:"/images/map.png",action:e[76]}]}}),f=new Zn({props:{show:e[5],x:e[11],y:e[12],items:[{label:"Hentere",icon:"/images/smallcar.png",action:e[77]},{label:"Oppdater data",icon:"/images/wrench.png",action:e[78]},{label:"Merk alle",icon:"/images/check.png",action:e[79]},{label:"Fjern merking",icon:"/images/nocheck.png",action:e[80]},{label:"Tom SMS",icon:"/images/sms.png",action:e[81]}]}});let x=e[13],y=[];for(let t=0;t<x.length;t+=1)y[t]=yl(tl(e,x,t));const $=e=>$e(y[e],1,1,(()=>{y[e]=null}));return{c(){t=C("div"),n=C("button"),n.innerHTML='<img src="/images/wrench.png" width="24" alt="Innstillinger"/>',l=R(),s=C("h1"),s.textContent="Loppisadmin",r=R(),i=C("style"),i.textContent="h1 {text-align: center;}\n\t.conf {position: absolute; padding: 4px; right: 8em}\n\t.conf img {vertical-align: middle;}\n\ttable.main {\n\t\twidth: 80%;\n\t\tmargin-left: 10%;\n\t\tmargin-right: 10%;\n\t\tborder-collapse: collapse;\n\t\tborder: 1px solid grey;\n\t}\n\ttable.main tr:first-child {\n\t\tbackground: #eee;\n\t\tborder-bottom: 1px solid black;\n\t}\n\tth {text-align: left; padding-left: 16px; }\n\tth li {\n\t\tdisplay: inline-block;\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tborder-bottom: 1px solid grey;\n\t\tcolor: grey;\n\t\tfont-weight: lighter;\n\t\tmargin-left: 8px;\n\t\tcursor: pointer;\n\t}\n\t.smallActive, .mediumActive, .bigActive {\n\t\tborder: 2px inset black;\n\t\tborder-radius: 10px;\n\t}\n\t.smallActive, .mediumActive, .bigActive, li.monActive, li.tueActive, li.wedActive, li.thuActive {\n\t\tborder-color: black;\n\t\tcolor: black;\n\t}\n\tlabel {font-weight: lighter; font-style: italic;}\n\n\n/* Extra small devices (phones, 600px and down) */\n@media only screen and (max-width: 600px) {\n\tth:nth-child(3) {display: none;}\n\tth:nth-child(4) {display: none;}\n\tth:nth-child(5) {display: none;}\n\ttable {width: 99%; margin: 0;}\n}\n\n@media only screen and (max-width: 700px) {\n\tth:nth-child(3) {display: none;}\n\t.stufftype {width: 25%}\n\t.dayscol {width: 25%}\n\ttable {width: 95%; margin: 2.5%;}\n}\n/* column styles */\n.jobnr {\n\twidth: 2%;\n}\n.address {\n\tbackground: #eee;\n\twidth: 25%;\n}\n.cartype {\n\twidth: 5%;\n}\n.quality {\n\twidth: 10%;\n}\n.stufftype {\n\twidth: 10%;\n}\n.dayscol {\n\twidth: 20%;\n}\n.status {\n\twidth: 15%;\n}\n.dataloading {\n\tposition: fixed;\n\tleft: 45%;\n\tright: 50%;\n\ttop: 45%;\n\tbottom: 50%;\n}\n.gmap {\n\theight: 50vh;\n\twidth: 100%;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n/* if screen is wider than tall, make the map a bit more square-ish\nIt is easier to use it to filter for a particular area if it is square.\nA rectangular map always includes jobs that are west or east of the target.\n*/\n@media screen and (orientation: landscape) {\n\t.gmap {\n\t\twidth: 75vh;\n\t}\n}\n\nbody {\n\tmargin-bottom: 45vh;\n}\n.mapButton {\n\ttext-align: center;\n\tfont-size: larger;\n\tpadding: .5em;\n}",c=R(),a=C("div"),k.block.c(),p=R(),_e(d.$$.fragment),g=R(),_e(f.$$.fragment),h=R();for(let e=0;e<y.length;e+=1)y[e].c();H(n,"class","conf"),H(i,"type","text/css")},m(o,u){_(o,t,u),S(t,n),S(t,l),S(t,s),S(t,r),S(t,i),S(t,c),S(t,a),k.block.m(a,k.anchor=null),k.mount=()=>a,k.anchor=null,S(t,p),Te(d,t,null),S(t,g),Te(f,t,null),S(t,h);for(let e=0;e<y.length;e+=1)y[e].m(t,null);m=!0,v||(b=[D(n,"click",U(e[40])),D(t,"contextmenu",M(e[82])),D(t,"click",e[83]),D(t,"mousedown",e[84]),D(t,"mousemove",e[85])],v=!0)},p(n,l){e=n,k.ctx=e,64&l[0]&&u!==(u=e[6])&&Ee(u,k)||Ae(k,e,l);const s={};16&l[0]&&(s.show=e[4]),2048&l[0]&&(s.x=e[11]),4096&l[0]&&(s.y=e[12]),24&l[0]&&(s.items=[{label:"SMS til giver",icon:"/images/sms.png",action:e[73]},{label:"SMS til henter",icon:"/images/sms.png",action:e[74]},{label:"Sett status",icon:"/images/wrench.png",action:e[75]},{label:"Vis på kart",icon:"/images/map.png",action:e[76]}]),d.$set(s);const o={};if(32&l[0]&&(o.show=e[5]),2048&l[0]&&(o.x=e[11]),4096&l[0]&&(o.y=e[12]),65574&l[0]&&(o.items=[{label:"Hentere",icon:"/images/smallcar.png",action:e[77]},{label:"Oppdater data",icon:"/images/wrench.png",action:e[78]},{label:"Merk alle",icon:"/images/check.png",action:e[79]},{label:"Fjern merking",icon:"/images/nocheck.png",action:e[80]},{label:"Tom SMS",icon:"/images/sms.png",action:e[81]}]),f.$set(o),8192&l[0]){let n;for(x=e[13],n=0;n<x.length;n+=1){const s=tl(e,x,n);y[n]?(y[n].p(s,l),ye(y[n],1)):(y[n]=yl(s),y[n].c(),ye(y[n],1),y[n].m(t,null))}for(ke(),n=x.length;n<y.length;n+=1)$(n);xe()}},i(e){if(!m){ye(k.block),ye(d.$$.fragment,e),ye(f.$$.fragment,e);for(let e=0;e<x.length;e+=1)ye(y[e]);m=!0}},o(e){for(let e=0;e<3;e+=1){$e(k.blocks[e])}$e(d.$$.fragment,e),$e(f.$$.fragment,e),y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)$e(y[e]);m=!1},d(e){e&&T(t),k.block.d(),k.token=null,k=null,Ne(d),Ne(f),N(y,e),v=!1,o(b)}}}function Sl(e,t,n){let l,s,o,r,i,c,a,u,d,g,f,h,m,v,b,k,x,y;p(e,Rt,(e=>n(14,l=e))),p(e,Vt,(e=>n(15,s=e))),p(e,It,(e=>n(16,o=e))),p(e,Nt,(e=>n(87,r=e))),p(e,Mt,(e=>n(17,i=e))),p(e,Bt,(e=>n(18,c=e))),p(e,Ht,(e=>n(19,a=e))),p(e,Ut,(e=>n(20,u=e))),p(e,Lt,(e=>n(21,d=e))),p(e,Gt,(e=>n(22,g=e))),p(e,Pt,(e=>n(23,f=e))),p(e,qt,(e=>n(24,h=e))),p(e,Jt,(e=>n(25,m=e))),p(e,zt,(e=>n(26,v=e))),p(e,Yt,(e=>n(27,b=e))),p(e,Ot,(e=>n(28,k=e))),p(e,Kt,(e=>n(29,x=e))),p(e,Ct,(e=>n(30,y=e)));let $,S,w,{googleMapsLoaded:E=!1}=t,A="",j=!1,_=!1,T=!1,N=!1,C=U(),O=[],R="",I=0,D=0,M=[];async function U(e){let t=await fetch(`${De}/prefs`);if(n(7,$=await t.json()),Rt.set($.cols),t=await fetch(`${De}/jobs`+(e?"?refresh=1":"")),t.ok){let e=await t.json();return Ct.set(e),!0}{let e=await t.text();throw console.log(e),new Error("Ingen tilgang")}}function H(){n(6,C=U(!0))}function B(e){let t=e.detail;t.selected&&-1===o.indexOf(t.jobnr)?It.set([...o,t.jobnr]):!t.selected&&o.indexOf(t.jobnr)>-1&&(o.splice(o.indexOf(t.jobnr),1),It.set(o))}function P(e){if(T)n(4,T=!1);else{let t,l=e;for(;l&&!t&&l.getAttribute;)t=l.getAttribute("data-id"),l=l.parentNode;t&&-1===o.indexOf(t)&&B({detail:{selected:!0,jobnr:t}}),(t||o.length)&&n(4,T=!0)}}function q(e){let t=!1;if(!T&&!N)return;let l=e.target;for(console.log(l,l.className);l;)l.className&&l.className.indexOf("menu")>-1&&(t=!0),l=l.parentNode;t||(n(4,T=!1),n(5,N=!1))}function J(e){T||N||(n(11,I=event.clientX),I<.2*window.innerWidth&&n(11,I+=.1*window.innerWidth),I>=window.innerWidth-200&&n(11,I-=200),n(12,D=event.clientY))}function z(e,t){n(13,M=[...M,{message:e,isError:t}]),setTimeout((()=>n(13,M=M.slice(0,M.length-1))),5e3)}function G(e){n(4,T=!1);let t=o.map((e=>s.find((t=>t[l.JOBNR]===e))));"donor"===e?(n(8,S=t.map((e=>({name:e[l.CONTACT_PERSON],number:e[l.PHONE],address:e[l.ADDRESS]})))),n(9,O=t.map((e=>e[l.PHONE]))),n(1,A=e)):(n(8,S=r),n(10,R="Hei, foreslår at du henter følgende "+(t.length>1?t.length+" ":"")+"jobb"+(t.length>1?"er":"")+": \n\n"+t.map((e=>`${e[l.ADDRESS]}\n${e[l.CONTACT_PERSON]}, ${e[l.PHONE]}`)).join("\n\n")),n(10,R+=`\n\nHusk å ringe givere før henting.\n\nMerk jobber som akseptert her:\n\n${Ie}/henting/?jobb=${encodeURIComponent(t.map((e=>e[l.JOBNR].split(/\//g).splice(-2).join("/"))).join(","))}&token=${encodeURIComponent(w)}&henter={number}\n\nHusk å merke dem som hentet når du er ferdig!\n`),n(1,A=e))}function Y(){const e=[];s.forEach((t=>{e.push(t[l.JOBNR])})),It.set(e)}function K(){let e=Me+o.map((e=>s.find((t=>t[l.JOBNR]===e))[l.ADDRESS])).join("/");window.open(e)}te((()=>{void 0===window.google&&function e(){if(void 0===$||!s||!s.length)return setTimeout(e,90);const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key="+$.googleMapsToken+"&callback=initGMaps",document.documentElement.appendChild(t)}()})),async function(){const e=await fetch(`${De}/helpertoken`);return(await e.json()).token}().then((e=>w=e)),Vt.subscribe((e=>{console.log("updated data! ",e)}));return e.$$set=e=>{"googleMapsLoaded"in e&&n(0,E=e.googleMapsLoaded)},[E,A,j,_,T,N,C,$,S,O,R,I,D,M,l,s,o,i,c,a,u,d,g,f,h,m,v,b,k,x,y,H,B,P,q,J,z,G,Y,K,e=>{n(5,N=!0)},function(){i=this.value,Mt.set(i)},e=>Bt.set(!c),e=>Ht.set(!a),e=>Ut.set(!u),function(){d=L(this),Lt.set(d),n(7,$)},e=>Lt.set(e.target.value),function(){g=L(this),Gt.set(g)},e=>{Gt.set(e.target.value)},e=>Pt.set(!f),e=>qt.set(!h),e=>Jt.set(!m),function(){v=this.checked,zt.set(v)},e=>zt.set(e.target.checked),function(){b=this.checked,Yt.set(b)},e=>Yt.set(e.target.checked),function(){k=L(this),Ot.set(k)},e=>Ot.set(e.target.value),e=>Kt.set(!x),e=>B(e),e=>console.log(e.detail.bounds)||Dt.set(e.detail.bounds),e=>B(e),e=>"Hentes"===e[l.STATUS],e=>"Hentet"===e[l.STATUS],e=>"Hentes ikke"===e[l.STATUS],e=>{n(1,A=""),n(10,R=""),n(8,S=null)},e=>{(function(e,t){let n;return e=e.map((e=>"47"+e.replace(/\s/g,""))).join(","),t.indexOf("{number}")&&(t=t.replace(/\{number\}/g,"[%1%]"),n=e.split(/,/g).join("|")),fetch(De+"/sendsms",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({to:e,from:"4741238002",message:t,param1:n})}).then((e=>e.json())).then((e=>{if(console.log(e),e.error)throw new Error(e.message);return e}))})(e.detail.recipients,e.detail.message).then((()=>(z("SMS sendt til "+e.detail.recipients),Promise.all(o.map((t=>{const n=s.find((e=>e[l.JOBNR]===t));return"worker"===e.detail.smsEditorType?Ft(t,l,{[l.STATUS]:"Sendt til henter",[l.ASSIGNEE]:e.detail.recipients[0]}):"donor"===e.detail.smsEditorType&&n&&["","Ny"].includes(n[l.STATUS])?Ft(t,l,{[l.STATUS]:"Kontaktet"}):Promise.resolve()}))).then((()=>{It.set([])}))))).catch((e=>z(e,!0))),n(10,R=""),n(8,S=null),n(1,A="")},()=>n(1,A=""),e=>{n(2,j=!1)},()=>n(2,j=!1),e=>{n(3,_=!1)},e=>{e.detail.newState&&o.forEach((t=>{let n=s.find((e=>e[l.JOBNR]===t));n[l.ASSIGNEE]&&"Hentes"===n[l.STATUS]&&!confirm(`Vil du endre status for ${n[l.ADDRESS]} selv om den er akseptert av en henter?`)||Ft(t,l,{[l.STATUS]:e.detail.newState})})),n(3,_=!1)},()=>n(3,_=!1),e=>G("donor"),e=>G("worker"),e=>(n(3,_=!0),n(4,T=!1)),e=>(K(),n(4,T=!1)),e=>(n(2,j=!0),n(5,N=!1)),e=>(n(5,N=!1),H()),e=>(n(5,N=!1),Y()),e=>{return n(5,N=!1),t=It,l=o.length=0,s=o,t.set(s),l;var t,l,s},e=>(n(5,N=!1),n(1,A="new")),e=>{P(e.target)},e=>q(e),e=>J(),e=>J()]}class wl extends Re{constructor(e){super(),Oe(this,e,Sl,$l,i,{googleMapsLoaded:0},null,[-1,-1,-1,-1])}}function El(e){w(e,"svelte-uo1le0",".loading.svelte-uo1le0.svelte-uo1le0{position:fixed;left:45%;right:50%;top:45%;bottom:50%}h1.svelte-uo1le0.svelte-uo1le0{text-align:center}section.svelte-uo1le0.svelte-uo1le0{display:table;width:90%;margin-left:5%;border:1px solid black;padding:8px}section.svelte-uo1le0 p.svelte-uo1le0{display:table-row;border-bottom:1px solid grey}section.svelte-uo1le0 p b.svelte-uo1le0,section.svelte-uo1le0 p span.svelte-uo1le0,section.svelte-uo1le0 p i.svelte-uo1le0{display:table-cell;border:8px solid transparent;vertical-align:top}section.svelte-uo1le0 p b.svelte-uo1le0:first-child{width:5%}@media only screen and (min-width: 700px){section.svelte-uo1le0.svelte-uo1le0{width:60%;margin-left:20%}section.svelte-uo1le0 p b.svelte-uo1le0:first-child{width:15%}section.svelte-uo1le0 p b.svelte-uo1le0,section.svelte-uo1le0 p span.svelte-uo1le0,section.svelte-uo1le0 p i.svelte-uo1le0{border:16px solid transparent}}button.svelte-uo1le0.svelte-uo1le0{margin-bottom:8px;font-size:1.2em}.commonmap.svelte-uo1le0.svelte-uo1le0{text-align:center}textarea.svelte-uo1le0.svelte-uo1le0{height:100px;width:100%;font-size:1em}.Hentet.svelte-uo1le0.svelte-uo1le0{border-color:green;background:#fefffe;position:relative;overflow:hidden}.Hentet.svelte-uo1le0 .hideondone.svelte-uo1le0{display:none}.Hentet.svelte-uo1le0.svelte-uo1le0:after{position:absolute;line-height:32px;text-align:center;top:24px;right:40px;width:70%;transform-origin:40% 90%;opacity:0.5;transform:translate(35%, -30%) rotate(35deg);font-size:1.5em}.Hentet.svelte-uo1le0.svelte-uo1le0:after{content:'Hentet';background-color:yellow}.jobnr.svelte-uo1le0.svelte-uo1le0{display:inline-block;height:100%;padding:4px;background:#aaa;float:right}")}function Al(e,t,n){const l=e.slice();return l[18]=t[n],l[19]=t,l[20]=n,l}function jl(t){let n,l,s=t[21].message+"";return{c(){n=C("p"),l=O(s),q(n,"color","red")},m(e,t){_(e,n,t),S(n,l)},p(e,t){2&t&&s!==(s=e[21].message+"")&&B(l,s)},i:e,o:e,d(e){e&&T(n)}}}function _l(e){let t,n,l,s,o,r,i,c,a,u,p=e[3].length>1&&Tl(e),d=e[3],g=[];for(let t=0;t<d.length;t+=1)g[t]=Hl(Al(e,d,t));const f=e=>$e(g[e],1,1,(()=>{g[e]=null}));return{c(){t=C("h1"),t.textContent="Hentinger",n=R(),p&&p.c(),l=R();for(let e=0;e<g.length;e+=1)g[e].c();s=R(),o=C("hr"),r=R(),i=C("button"),i.textContent="Alle mine jobber",H(t,"class","svelte-uo1le0"),H(i,"class","p8 br2 svelte-uo1le0")},m(d,f){_(d,t,f),_(d,n,f),p&&p.m(d,f),_(d,l,f);for(let e=0;e<g.length;e+=1)g[e].m(d,f);_(d,s,f),_(d,o,f),_(d,r,f),_(d,i,f),c=!0,a||(u=D(i,"click",e[14]),a=!0)},p(e,t){if(e[3].length>1?p?p.p(e,t):(p=Tl(e),p.c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null),45&t){let n;for(d=e[3],n=0;n<d.length;n+=1){const l=Al(e,d,n);g[n]?(g[n].p(l,t),ye(g[n],1)):(g[n]=Hl(l),g[n].c(),ye(g[n],1),g[n].m(s.parentNode,s))}for(ke(),n=d.length;n<g.length;n+=1)f(n);xe()}},i(e){if(!c){for(let e=0;e<d.length;e+=1)ye(g[e]);c=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)$e(g[e]);c=!1},d(e){e&&T(t),e&&T(n),p&&p.d(e),e&&T(l),N(g,e),e&&T(s),e&&T(o),e&&T(r),e&&T(i),a=!1,u()}}}function Tl(e){let t,n,l,s,o,r,i;return{c(){t=C("p"),n=C("a"),l=O("Kart med alle adresser: "),s=C("br"),o=C("img"),a(o.src,r="/images/map.png")||H(o,"src","/images/map.png"),H(o,"alt","alle adresser i kart"),H(o,"width","36"),H(n,"href",i=Me+e[3].map(e[6]).join("/")),H(n,"target","_blank"),H(t,"class","commonmap svelte-uo1le0")},m(e,r){_(e,t,r),S(t,n),S(n,l),S(n,s),S(n,o)},p(e,t){12&t&&i!==(i=Me+e[3].map(e[6]).join("/"))&&H(n,"href",i)},d(e){e&&T(t)}}}function Nl(e){let t,n,l;return n=new At({}),{c(){t=C("div"),_e(n.$$.fragment),H(t,"class","loading svelte-uo1le0")},m(e,s){_(e,t,s),Te(n,t,null),l=!0},i(e){l||(ye(n.$$.fragment,e),l=!0)},o(e){$e(n.$$.fragment,e),l=!1},d(e){e&&T(t),Ne(n)}}}function Cl(e){let t,n,l,s,o=e[18][e[2].cols.DESC]+"";return{c(){t=C("p"),n=C("b"),n.textContent="Om loppene: ",l=C("i"),s=O(o),H(n,"class","svelte-uo1le0"),H(l,"class","svelte-uo1le0"),H(t,"class","svelte-uo1le0")},m(e,o){_(e,t,o),S(t,n),S(t,l),S(l,s)},p(e,t){12&t&&o!==(o=e[18][e[2].cols.DESC]+"")&&B(s,o)},d(e){e&&T(t)}}}function Ol(e){let t,n,l,s;const o=[Il,Rl],r=[];function i(e,t){return"Hentes"===e[18][e[2].cols.STATUS]?0:"Hentet"===e[18][e[2].cols.STATUS]?1:-1}return~(t=i(e))&&(n=r[t]=o[t](e)),{c(){n&&n.c(),l=I()},m(e,n){~t&&r[t].m(e,n),_(e,l,n),s=!0},p(e,s){let c=t;t=i(e),t!==c&&(n&&(ke(),$e(r[c],1,1,(()=>{r[c]=null})),xe()),~t?(n=r[t],n||(n=r[t]=o[t](e),n.c()),ye(n,1),n.m(l.parentNode,l)):n=null)},i(e){s||(ye(n),s=!0)},o(e){$e(n),s=!1},d(e){~t&&r[t].d(e),e&&T(l)}}}function Rl(e){let t,n,l,s,o;return{c(){t=C("br"),n=R(),l=C("em"),l.innerHTML="<br/>★ ★ ☺  Takk for at du hentet!  ☺ ★ ★"},m(e,s){_(e,t,s),_(e,n,s),_(e,l,s),o=!0},i(e){o||(ue((()=>{s||(s=we(l,Hn,{},!0)),s.run(1)})),o=!0)},o(e){s||(s=we(l,Hn,{},!1)),s.run(0),o=!1},d(e){e&&T(t),e&&T(n),e&&T(l),e&&s&&s.end()}}}function Il(e){let t,n,l,s,o;return{c(){t=C("br"),n=R(),l=C("em"),l.innerHTML="<br/>★ ★ ☺   Du har tatt på deg jobben - takk!  ☺ ★ ★"},m(e,s){_(e,t,s),_(e,n,s),_(e,l,s),o=!0},i(e){o||(ue((()=>{s||(s=we(l,Hn,{},!0)),s.run(1)})),o=!0)},o(e){s||(s=we(l,Hn,{},!1)),s.run(0),o=!1},d(e){e&&T(t),e&&T(n),e&&T(l),e&&s&&s.end()}}}function Dl(e){let t,n,l,s,o,r,i,c,a,u=Tt(e[18][e[2].cols.ASSIGNEE])+"";return{c(){t=C("br"),n=R(),l=C("em"),s=C("b"),o=O("Merk: jobben er akseptert av en annen. Sjekk med "),r=C("a"),i=O(u),a=O(" om du vurderer å hente."),H(r,"href",c="tel:"+Tt(e[18][e[2].cols.ASSIGNEE])),H(s,"class","svelte-uo1le0")},m(e,c){_(e,t,c),_(e,n,c),_(e,l,c),S(l,s),S(s,o),S(s,r),S(r,i),S(s,a)},p(e,t){12&t&&u!==(u=Tt(e[18][e[2].cols.ASSIGNEE])+"")&&B(i,u),12&t&&c!==(c="tel:"+Tt(e[18][e[2].cols.ASSIGNEE]))&&H(r,"href",c)},d(e){e&&T(t),e&&T(n),e&&T(l)}}}function Ml(e){let t,n,l;function s(...t){return e[13](e[18],...t)}return{c(){t=C("button"),t.textContent="Vi tar jobben!",H(t,"class","p8 br2 svelte-uo1le0")},m(e,o){_(e,t,o),n||(l=D(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&T(t),n=!1,l()}}}function Ul(e){let t,n,l,s,r,i,c;function a(...t){return e[10](e[18],...t)}function u(...t){return e[11](e[18],...t)}function p(...t){return e[12](e[18],...t)}return{c(){t=C("button"),t.textContent="Ferdig hentet!",n=R(),l=C("button"),l.textContent="Vi rekker ikke å hente likevel",s=R(),r=C("button"),r.textContent="Jobben skal ikke hentes",H(t,"class","p8 br2 svelte-uo1le0"),H(l,"class","p8 br2 svelte-uo1le0"),H(r,"class","p8 br2 svelte-uo1le0")},m(e,o){_(e,t,o),_(e,n,o),_(e,l,o),_(e,s,o),_(e,r,o),i||(c=[D(t,"click",a),D(l,"click",u),D(r,"click",p)],i=!0)},p(t,n){e=t},d(e){e&&T(t),e&&T(n),e&&T(l),e&&T(s),e&&T(r),i=!1,o(c)}}}function Hl(e){let t,n,l,s,r,i,c,u,p,d,g,f,h,m,b,k,x,y,$,w,E,A,j,N,I,M,U,q,J,z,L,G,Y,K,V,F,Z,Q,W,X,ee,te,ne,le,se,oe,re,ie,ce,ae,ue,pe,de,ge,fe,he,me,ve=e[18][e[2].cols.ADDRESS]+"",be=e[18][e[2].cols.JOBNR]+"",Se=e[18][e[2].cols.STATUS]+"",we=e[18].loading&&Nl();E=new ft({props:{name:e[18][e[2].cols.CONTACT_PERSON],number:e[18][e[2].cols.PHONE]}}),U=new et({props:{types:e[18][e[2].cols.TYPES],showAll:!0}});let Ee=e[18][e[2].cols.DESC]&&Cl(e);function Ae(){e[8].call(W,e[19],e[20])}function je(...t){return e[9](e[18],...t)}Y=new $t({props:{qualityRanking:e[18][e[2].cols.QUALITY]}}),Y.$on("qualityupdate",(function(...t){return e[7](e[18],...t)}));let Ce=e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]===e[0].henter&&Ol(e),Oe=e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]!==e[0].henter&&"Hentes"===e[18][e[2].cols.STATUS]&&Dl(e);function Re(e,t){return e[18][e[2].cols.ASSIGNEE]===e[0].henter&&"Hentes"===e[18][e[2].cols.STATUS]?Ul:Ml}let Ie=Re(e),De=Ie(e);return{c(){we&&we.c(),t=R(),n=C("section"),l=C("p"),s=C("b"),s.textContent="Adresse:",r=R(),i=C("span"),c=O(ve),u=R(),p=C("a"),d=C("img"),h=R(),m=C("span"),b=O(be),k=R(),x=C("p"),y=C("b"),y.textContent="Kontaktperson:",$=R(),w=C("span"),_e(E.$$.fragment),A=R(),j=C("p"),N=C("b"),N.textContent="Typer:",I=R(),M=C("span"),_e(U.$$.fragment),q=R(),Ee&&Ee.c(),J=R(),z=C("p"),L=C("b"),L.textContent="Estimert kvalitet: ",G=C("span"),_e(Y.$$.fragment),K=R(),V=C("p"),F=C("b"),F.textContent="Administrators/henteres kommentarer:",Z=R(),Q=C("span"),W=C("textarea"),X=R(),ee=C("p"),te=C("b"),te.textContent="Status: ",ne=C("span"),le=C("em"),se=O(Se),oe=R(),re=C("br"),ie=R(),Ce&&Ce.c(),ce=R(),Oe&&Oe.c(),ae=R(),ue=C("p"),pe=C("b"),pe.textContent="Oppdater status:",de=C("span"),De.c(),H(s,"class","svelte-uo1le0"),a(d.src,g="/images/map.png")||H(d,"src","/images/map.png"),H(d,"alt","adresse i kart"),H(d,"width","24"),H(p,"href",f=Me+e[18][e[2].cols.ADDRESS]),H(p,"target","_blank"),H(i,"class","svelte-uo1le0"),H(m,"class","jobnr svelte-uo1le0"),H(l,"class","svelte-uo1le0"),H(y,"class","svelte-uo1le0"),H(w,"class","svelte-uo1le0"),H(x,"class","svelte-uo1le0"),H(N,"class","svelte-uo1le0"),H(M,"class","svelte-uo1le0"),H(j,"class","hideondone svelte-uo1le0"),H(L,"class","svelte-uo1le0"),H(G,"class","svelte-uo1le0"),H(z,"class","hideondone svelte-uo1le0"),H(F,"class","svelte-uo1le0"),H(W,"class","svelte-uo1le0"),H(Q,"class","svelte-uo1le0"),H(V,"class","hideondone svelte-uo1le0"),H(te,"class","svelte-uo1le0"),H(ne,"class","svelte-uo1le0"),H(ee,"class","svelte-uo1le0"),H(pe,"class","svelte-uo1le0"),H(de,"class","svelte-uo1le0"),H(ue,"class","hideondone svelte-uo1le0"),H(n,"class",ge=v(e[18][e[2].cols.STATUS])+" svelte-uo1le0")},m(o,a){we&&we.m(o,a),_(o,t,a),_(o,n,a),S(n,l),S(l,s),S(l,r),S(l,i),S(i,c),S(i,u),S(i,p),S(p,d),S(l,h),S(l,m),S(m,b),S(n,k),S(n,x),S(x,y),S(x,$),S(x,w),Te(E,w,null),S(n,A),S(n,j),S(j,N),S(j,I),S(j,M),Te(U,M,null),S(n,q),Ee&&Ee.m(n,null),S(n,J),S(n,z),S(z,L),S(z,G),Te(Y,G,null),S(n,K),S(n,V),S(V,F),S(V,Z),S(V,Q),S(Q,W),P(W,e[18][e[2].cols.ADMCOMMENT]),S(n,X),S(n,ee),S(ee,te),S(ee,ne),S(ne,le),S(le,se),S(ne,oe),S(ne,re),S(ne,ie),Ce&&Ce.m(ne,null),S(ne,ce),Oe&&Oe.m(ne,null),S(n,ae),S(n,ue),S(ue,pe),S(ue,de),De.m(de,null),fe=!0,he||(me=[D(W,"input",Ae),D(W,"change",je)],he=!0)},p(l,s){(e=l)[18].loading?we?8&s&&ye(we,1):(we=Nl(),we.c(),ye(we,1),we.m(t.parentNode,t)):we&&(ke(),$e(we,1,1,(()=>{we=null})),xe()),(!fe||12&s)&&ve!==(ve=e[18][e[2].cols.ADDRESS]+"")&&B(c,ve),(!fe||12&s&&f!==(f=Me+e[18][e[2].cols.ADDRESS]))&&H(p,"href",f),(!fe||12&s)&&be!==(be=e[18][e[2].cols.JOBNR]+"")&&B(b,be);const o={};12&s&&(o.name=e[18][e[2].cols.CONTACT_PERSON]),12&s&&(o.number=e[18][e[2].cols.PHONE]),E.$set(o);const r={};12&s&&(r.types=e[18][e[2].cols.TYPES]),U.$set(r),e[18][e[2].cols.DESC]?Ee?Ee.p(e,s):(Ee=Cl(e),Ee.c(),Ee.m(n,J)):Ee&&(Ee.d(1),Ee=null);const i={};12&s&&(i.qualityRanking=e[18][e[2].cols.QUALITY]),Y.$set(i),12&s&&P(W,e[18][e[2].cols.ADMCOMMENT]),(!fe||12&s)&&Se!==(Se=e[18][e[2].cols.STATUS]+"")&&B(se,Se),e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]===e[0].henter?Ce?(Ce.p(e,s),13&s&&ye(Ce,1)):(Ce=Ol(e),Ce.c(),ye(Ce,1),Ce.m(ne,ce)):Ce&&(ke(),$e(Ce,1,1,(()=>{Ce=null})),xe()),e[18][e[2].cols.ASSIGNEE]&&e[18][e[2].cols.ASSIGNEE]!==e[0].henter&&"Hentes"===e[18][e[2].cols.STATUS]?Oe?Oe.p(e,s):(Oe=Dl(e),Oe.c(),Oe.m(ne,null)):Oe&&(Oe.d(1),Oe=null),Ie===(Ie=Re(e))&&De?De.p(e,s):(De.d(1),De=Ie(e),De&&(De.c(),De.m(de,null))),(!fe||12&s&&ge!==(ge=v(e[18][e[2].cols.STATUS])+" svelte-uo1le0"))&&H(n,"class",ge)},i(e){fe||(ye(we),ye(E.$$.fragment,e),ye(U.$$.fragment,e),ye(Y.$$.fragment,e),ye(Ce),fe=!0)},o(e){$e(we),$e(E.$$.fragment,e),$e(U.$$.fragment,e),$e(Y.$$.fragment,e),$e(Ce),fe=!1},d(e){we&&we.d(e),e&&T(t),e&&T(n),Ne(E),Ne(U),Ee&&Ee.d(),Ne(Y),Ce&&Ce.d(),Oe&&Oe.d(),De.d(),he=!1,o(me)}}}function Bl(t){let n,l,s;return l=new At({}),{c(){n=C("div"),_e(l.$$.fragment),H(n,"class","loading svelte-uo1le0")},m(e,t){_(e,n,t),Te(l,n,null),s=!0},p:e,i(e){s||(ye(l.$$.fragment,e),s=!0)},o(e){$e(l.$$.fragment,e),s=!1},d(e){e&&T(n),Ne(l)}}}function Pl(e){let t,n,l,s={ctx:e,current:null,token:null,hasCatch:!0,pending:Bl,then:_l,catch:jl,value:17,error:21,blocks:[,,,]};return Ee(n=e[1],s),{c(){t=I(),s.block.c()},m(e,n){_(e,t,n),s.block.m(e,s.anchor=n),s.mount=()=>t.parentNode,s.anchor=t,l=!0},p(t,[l]){e=t,s.ctx=e,2&l&&n!==(n=e[1])&&Ee(n,s)||Ae(s,e,l)},i(e){l||(ye(s.block),l=!0)},o(e){for(let e=0;e<3;e+=1){$e(s.blocks[e])}l=!1},d(e){e&&T(t),s.block.d(e),s.token=null,s=null}}}function ql(e,t,n){let l,s,o,r;function i(e){return e.forEach((e=>{e.oldStatus="Hentes"===e[r.cols.STATUS]?null:e[r.cols.STATUS]})),e}async function c(e,t){const n=await fetch(`${De}/byperson/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`);let l=await n.json();if(!n.ok){let e=await n.text();throw console.log(e),new Error("Ingen tilgang")}l=i(l),Ct.set(l)}function a(e,t){return Ft(e,r.cols,t,s.token).catch((e=>alert(e)))}p(e,Vt,(e=>n(3,l=e))),"undefined"!=typeof location&&(s=location.search.substr(1).split(/&/g).map((e=>{let t=e.split(/=/);return{[t[0]]:decodeURIComponent(t[1])}})).reduce(((e,t)=>Object.assign(e,t)),{})),s&&s.token&&s.jobb&&(o=async function(e,t){let l=await fetch(`${De}/prefs`);n(2,r=await l.json()),Rt.set(r.cols),l=await fetch(`${De}/job/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`);let s=await l.json();if(!l.ok){let e=await l.text();throw console.log(e),new Error("Ingen tilgang")}s=i(s),Ct.set(s)}(s.token,s.jobb)),Ct.subscribe((e=>{console.log("updated data! ",e)}));return[s,o,r,l,c,a,e=>e[r.cols.ADDRESS],(e,t)=>a(e[r.cols.JOBNR],t.detail),function(e,t){e[t][r.cols.ADMCOMMENT]=this.value,Vt.set(l)},(e,t)=>a(e[r.cols.JOBNR],{[r.cols.ADMCOMMENT]:t.target.value}),(e,t)=>a(e[r.cols.JOBNR],{[r.cols.STATUS]:"Hentet",[r.cols.ASSIGNEE]:s.henter}),(e,t)=>a(e[r.cols.JOBNR],{[r.cols.STATUS]:e.oldStatus||"Ny",[r.cols.ASSIGNEE]:""}),(e,t)=>a(e[r.cols.JOBNR],{[r.cols.STATUS]:"Hentes ikke",[r.cols.ASSIGNEE]:""}),(e,t)=>a(e[r.cols.JOBNR],{[r.cols.STATUS]:"Hentes",[r.cols.ASSIGNEE]:s.henter}),e=>n(1,o=c(s.token,s.henter))]}class Jl extends Re{constructor(e){super(),Oe(this,e,ql,Pl,i,{},El)}}var zl;if("undefined"!=typeof location){let e={"/":wl,"/henting/":Jl}[location.pathname];zl=new e({target:document.body,props:{googleMapsLoaded:!1}})}else zl=new wl({target:document.body,props:{googleMapsLoaded:!1}});return window.initGMaps=function(){zl.$set({googleMapsLoaded:!0})},zl}();
//# sourceMappingURL=bundle.js.map
